{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{Button,Container,Row,Col,Table,Badge,Image}from\"react-bootstrap\";import\"../../Wallet/Wallet.css\";import NoDataFound from\"../../NoDataFound/NoDataFound\";import BillingAccountLoader from\"../../Loader/BillingAccountLoader\";import{translate,t}from\"react-multi-lang\";import{acceptCallStart,callRequestReceivedModelStart,callHistoryUserStart,rejectCallStart,endVideoCallStart}from\"../../../store/actions/PrivateCallAction\";import{Link}from\"react-router-dom\";import VideoCallMakePaymentModel from\"../../helper/VideoCallMakePaymentModel\";var VideoCallHistoryIndex=function VideoCallHistoryIndex(props){useEffect(function(){props.dispatch(callHistoryUserStart());},[]);var _useState=useState({video_call_request_id:\"\",model_displayname:\"\",model_picture:\"\",amount:\"\",amount_formatted:\"\",model_unique_id:\"\",modelname:\"\"}),_useState2=_slicedToArray(_useState,2),makePaymentInput=_useState2[0],setMakePaymentInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedCallDetailsToMakePayment=_useState4[0],setSelectedCallDetailsToMakePayment=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),makePaymentModel=_useState6[0],setMakePaymentModel=_useState6[1];var closePaymentModal=function closePaymentModal(){setMakePaymentModel(false);};var makePayment=function makePayment(event,callDetails){event.preventDefault();setMakePaymentInput({video_call_request_id:callDetails.video_call_request_id,model_displayname:callDetails.model_displayname,model_picture:callDetails.model_picture,amount:callDetails.amount,amount_formatted:callDetails.amount_formatted,model_unique_id:callDetails.model_unique_id,modelname:callDetails.modelname});setSelectedCallDetailsToMakePayment(callDetails);setMakePaymentModel(true);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-header-sec\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:9},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title back-button\",onClick:function onClick(){return props.history.goBack();}},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/icons/back.svg\",className:\"svg-clone\"}),t(\"video_call_history\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted f-2\"},t(\"video_call_history_note\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table-sec\"},/*#__PURE__*/React.createElement(Container,null,props.callHistoryUser.loading?/*#__PURE__*/React.createElement(BillingAccountLoader,null):props.callHistoryUser.data.video_call_requests&&props.callHistoryUser.data.video_call_requests.length>0?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table\"},/*#__PURE__*/React.createElement(Table,{borderedless:true,responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"bg-white text-muted text-center text-uppercase\"},/*#__PURE__*/React.createElement(\"th\",null,t(\"s_no\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"requested_to\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"requested_from\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"amount\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"scheduled\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"end_time\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"status\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"action\")))),/*#__PURE__*/React.createElement(\"tbody\",null,props.callHistoryUser.data.video_call_requests.map(function(videoCall,index){return/*#__PURE__*/React.createElement(\"tr\",{key:videoCall.video_call_request_id,className:\"text-center\"},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"+videoCall.model_unique_id},videoCall.model_displayname)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"+videoCall.user_unique_id},videoCall.user_displayname)),/*#__PURE__*/React.createElement(\"td\",null,videoCall.amount_formatted),/*#__PURE__*/React.createElement(\"td\",null,videoCall.start_time?videoCall.start_time:\"-\"),/*#__PURE__*/React.createElement(\"td\",null,videoCall.end_time?videoCall.end_time:\"-\"),/*#__PURE__*/React.createElement(\"td\",null,videoCall.call_status_formatted),/*#__PURE__*/React.createElement(\"td\",null,videoCall.accept_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-sm btn-success mr-3 mb-3\",onClick:function onClick(){return props.dispatch(acceptCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"accept\")):\"\",videoCall.reject_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-sm btn-danger mr-3 mb-3\",onClick:function onClick(){return props.dispatch(rejectCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"reject\")):\"\",videoCall.payment_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success mr-3 mb-3\",onClick:function onClick(event){return makePayment(event,videoCall);}},videoCall.amount>0?t(\"paynow\"):t(\"confirm_request\")):\"\",videoCall.join_btn_status==1?/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success mr-3 mb-3\",to:\"/private-call/\".concat(videoCall.video_call_request_unique_id)},t(\"join_call\")):\"\",videoCall.start_btn_status==1?/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success mr-3 mb-3\",to:\"/private-call/\".concat(videoCall.video_call_request_unique_id)},t(\"start_call\")):\"\",videoCall.end_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-danger mr-3 mb-3\",onClick:function onClick(){return props.dispatch(endVideoCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"end_call\")):\"\"));}))))),/*#__PURE__*/React.createElement(VideoCallMakePaymentModel,{video_call_request_id:makePaymentInput.video_call_request_id,videoCallPayment:makePaymentModel,closePaymentModal:closePaymentModal,userPicture:makePaymentInput.model_picture,name:makePaymentInput.model_displayname,user_unique_id:makePaymentInput.model_unique_id,callDetails:makePaymentInput,username:makePaymentInput.modelname})):/*#__PURE__*/React.createElement(NoDataFound,null))));};var mapStateToPros=function mapStateToPros(state){return{callHistoryUser:state.privateCall.callHistoryUser};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(VideoCallHistoryIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/OneToOneStreaming/VideoCallRequestList/VideoCallHistoryIndex.jsx"],"names":["React","useEffect","useState","connect","Button","Container","Row","Col","Table","Badge","Image","NoDataFound","BillingAccountLoader","translate","t","acceptCallStart","callRequestReceivedModelStart","callHistoryUserStart","rejectCallStart","endVideoCallStart","Link","VideoCallMakePaymentModel","VideoCallHistoryIndex","props","dispatch","video_call_request_id","model_displayname","model_picture","amount","amount_formatted","model_unique_id","modelname","makePaymentInput","setMakePaymentInput","selectedCallDetailsToMakePayment","setSelectedCallDetailsToMakePayment","makePaymentModel","setMakePaymentModel","closePaymentModal","makePayment","event","callDetails","preventDefault","history","goBack","window","location","origin","callHistoryUser","loading","data","video_call_requests","length","map","videoCall","index","user_unique_id","user_displayname","start_time","end_time","call_status_formatted","accept_btn_status","reject_btn_status","payment_btn_status","join_btn_status","video_call_request_unique_id","start_btn_status","end_btn_status","mapStateToPros","state","privateCall","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Button,\n  Container,\n  Row,\n  Col,\n  Table,\n  Badge,\n  Image,\n} from \"react-bootstrap\";\nimport \"../../Wallet/Wallet.css\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport {\n  acceptCallStart,\n  callRequestReceivedModelStart,\n  callHistoryUserStart,\n  rejectCallStart,\n  endVideoCallStart,\n} from \"../../../store/actions/PrivateCallAction\";\nimport { Link } from \"react-router-dom\";\nimport VideoCallMakePaymentModel from \"../../helper/VideoCallMakePaymentModel\";\n\nconst VideoCallHistoryIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(callHistoryUserStart());\n  }, []);\n  const [makePaymentInput, setMakePaymentInput] = useState({\n    video_call_request_id: \"\",\n    model_displayname: \"\",\n    model_picture: \"\",\n    amount: \"\",\n    amount_formatted: \"\",\n    model_unique_id: \"\",\n    modelname: \"\",\n  });\n\n  const [\n    selectedCallDetailsToMakePayment,\n    setSelectedCallDetailsToMakePayment,\n  ] = useState(null);\n\n  const [makePaymentModel, setMakePaymentModel] = useState(false);\n\n  const closePaymentModal = () => {\n    setMakePaymentModel(false);\n  };\n\n  const makePayment = (event, callDetails) => {\n    event.preventDefault();\n    setMakePaymentInput({\n      video_call_request_id: callDetails.video_call_request_id,\n      model_displayname: callDetails.model_displayname,\n      model_picture: callDetails.model_picture,\n      amount: callDetails.amount,\n      amount_formatted: callDetails.amount_formatted,\n      model_unique_id: callDetails.model_unique_id,\n      modelname: callDetails.modelname,\n    });\n    setSelectedCallDetailsToMakePayment(callDetails);\n    setMakePaymentModel(true);\n  };\n\n  return (\n    <>\n      <div className=\"wallet-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12}>\n              <div className=\"wallet-header-sec\">\n                <Row>\n                  <Col sm={12} md={12} xl={9}>\n                    <Link\n                      className=\"bookmarkes-list notify-title back-button\"\n                      onClick={() => props.history.goBack()}\n                    >\n                      <Image\n                        src={\n                          window.location.origin +\n                          \"/assets/images/icons/back.svg\"\n                        }\n                        className=\"svg-clone\"\n                      />\n                      {t(\"video_call_history\")}\n                    </Link>\n                    <p className=\"text-muted f-2\">\n                      {t(\"video_call_history_note\")}\n                    </p>\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <div className=\"trans-table-sec\">\n        <Container>\n          {props.callHistoryUser.loading ? (\n            <BillingAccountLoader />\n          ) : props.callHistoryUser.data.video_call_requests &&\n            props.callHistoryUser.data.video_call_requests.length > 0 ? (\n            <Row>\n              <Col sm={12} md={12}>\n                <div className=\"trans-table\">\n                  <Table borderedless responsive>\n                    <thead>\n                      <tr className=\"bg-white text-muted text-center text-uppercase\">\n                        <th>{t(\"s_no\")}</th>\n                        <th>{t(\"requested_to\")}</th>\n                        <th>{t(\"requested_from\")}</th>\n                        <th>{t(\"amount\")}</th>\n                        <th>{t(\"scheduled\")}</th>\n                        <th>{t(\"end_time\")}</th>\n                        <th>{t(\"status\")}</th>\n                        <th>{t(\"action\")}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {props.callHistoryUser.data.video_call_requests.map(\n                        (videoCall, index) => (\n                          <tr\n                            key={videoCall.video_call_request_id}\n                            className=\"text-center\"\n                          >\n                            <td>{index + 1}</td>\n                            <td>\n                              <Link to={`/` + videoCall.model_unique_id}>\n                                {videoCall.model_displayname}\n                              </Link>\n                            </td>\n                            <td>\n                              <Link to={`/` + videoCall.user_unique_id}>\n                                {videoCall.user_displayname}\n                              </Link>\n                            </td>\n                            <td>{videoCall.amount_formatted}</td>\n                            <td>\n                              {videoCall.start_time\n                                ? videoCall.start_time\n                                : \"-\"}\n                            </td>\n                            <td>\n                              {videoCall.end_time ? videoCall.end_time : \"-\"}\n                            </td>\n                            <td>{videoCall.call_status_formatted}</td>\n                            <td>\n                              {videoCall.accept_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-success mr-3 mb-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      acceptCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"accept\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {videoCall.reject_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-danger mr-3 mb-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"reject\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {videoCall.payment_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-success mr-3 mb-3\"\n                                  onClick={(event) =>\n                                    makePayment(event, videoCall)\n                                  }\n                                >\n                                  {videoCall.amount > 0\n                                    ? t(\"paynow\")\n                                    : t(\"confirm_request\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.join_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3 mb-3\"\n                                  to={`/private-call/${videoCall.video_call_request_unique_id}`}\n                                >\n                                  {t(\"join_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.start_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3 mb-3\"\n                                  to={`/private-call/${videoCall.video_call_request_unique_id}`}\n                                >\n                                  {t(\"start_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.end_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-danger mr-3 mb-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      endVideoCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"end_call\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                            </td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n              <VideoCallMakePaymentModel\n                video_call_request_id={makePaymentInput.video_call_request_id}\n                videoCallPayment={makePaymentModel}\n                closePaymentModal={closePaymentModal}\n                userPicture={makePaymentInput.model_picture}\n                name={makePaymentInput.model_displayname}\n                user_unique_id={makePaymentInput.model_unique_id}\n                callDetails={makePaymentInput}\n                username={makePaymentInput.modelname}\n              />\n            </Row>\n          ) : (\n            <NoDataFound />\n          )}\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  callHistoryUser: state.privateCall.callHistoryUser,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(VideoCallHistoryIndex));\n"]},"metadata":{},"sourceType":"module"}