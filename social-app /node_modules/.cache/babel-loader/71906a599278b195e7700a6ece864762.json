{"ast":null,"code":"import _defineProperty from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Form,Image,Button}from\"react-bootstrap\";import\"./UploadProfilePicture.css\";import{connect}from\"react-redux\";import{translate,t}from\"react-multi-lang\";import{updateUserDetailsStart,fetchUserDetailsStart}from\"../../../store/actions/UserAction\";var UploadProfilePicture=function UploadProfilePicture(props){var _React$createElement;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),profileInputData=_useState2[0],setProfileInputData=_useState2[1];var _useState3=useState({picture:\"\",cover:\"\"}),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];useEffect(function(){if(props.profile.loading)props.dispatch(fetchUserDetailsStart());},[]);var handleChangeImage=function handleChangeImage(event){if(event.currentTarget.type===\"file\"){setProfileInputData(_objectSpread(_objectSpread({},profileInputData),{},_defineProperty({},event.currentTarget.name,event.currentTarget.files[0])));var reader=new FileReader();var file=event.currentTarget.files[0];if(event.currentTarget.name===\"picture\"){reader.onloadend=function(){setImage(_objectSpread(_objectSpread({},image),{},{picture:reader.result}));};}if(file){reader.readAsDataURL(file);}}};var handleSubmit=function handleSubmit(event){event.preventDefault();if(Object.keys(profileInputData).length>0)props.dispatch(updateUserDetailsStart(profileInputData));else props.dispatch(updateUserDetailsStart());};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"document-upload-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h4\",{className:\"head-title\"},t(\"upload_profile_picture\")),/*#__PURE__*/React.createElement(\"div\",{className:\"upload-profile-picture-card\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(\"div\",{className:\"upload-profile-picture-sec\"},/*#__PURE__*/React.createElement(Form,{className:\"upload-profile-img-form\"},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"file\"}),/*#__PURE__*/React.createElement(Form.Control,{className:\"hidden-input\",id:\"changePicture\",type:\"file\",accept:\"image/*\",name:\"picture\",onChange:handleChangeImage}),/*#__PURE__*/React.createElement(Form.Label,(_React$createElement={for:\"file\",className:\"hidden-input\"},_defineProperty(_React$createElement,\"for\",\"changePicture\"),_defineProperty(_React$createElement,\"type\",\"file\"),_defineProperty(_React$createElement,\"title\",\"Change picture\"),_React$createElement),/*#__PURE__*/React.createElement(Image,{src:image.picture===\"\"?window.location.origin+\"/assets/images/upload-profile-img.svg\":image.picture,className:\"upload-profile-picture-img\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"edit-icon-sec\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-upload\"}))))))),/*#__PURE__*/React.createElement(Col,{md:6},/*#__PURE__*/React.createElement(\"div\",{className:\"upload-profile-info\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"title\"},t(\"profile_photo\")),/*#__PURE__*/React.createElement(\"p\",{className:\"desc\"},t(\"profile_photo_para\")),/*#__PURE__*/React.createElement(Button,{className:\"upload-profile-img-btn btn-block\",onClick:handleSubmit},t(\"submit\")))))))));};var mapStateToPros=function mapStateToPros(state){return{profile:state.users.profile,profileInputData:state.users.profileInputData};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(UploadProfilePicture));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Accounts/Profile/UploadProfilePicture.jsx"],"names":["React","useState","useEffect","Container","Row","Col","Form","Image","Button","connect","translate","t","updateUserDetailsStart","fetchUserDetailsStart","UploadProfilePicture","props","profileInputData","setProfileInputData","picture","cover","image","setImage","profile","loading","dispatch","handleChangeImage","event","currentTarget","type","name","files","reader","FileReader","file","onloadend","result","readAsDataURL","handleSubmit","preventDefault","Object","keys","length","window","location","origin","mapStateToPros","state","users","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Form, Image, Button } from \"react-bootstrap\";\nimport \"./UploadProfilePicture.css\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\n\nimport {\n  updateUserDetailsStart,\n  fetchUserDetailsStart,\n} from \"../../../store/actions/UserAction\";\n\nconst UploadProfilePicture = (props) => {\n  const [profileInputData, setProfileInputData] = useState({});\n\n  const [image, setImage] = useState({\n    picture: \"\",\n    cover: \"\",\n  });\n\n  useEffect(() => {\n    if (props.profile.loading) props.dispatch(fetchUserDetailsStart());\n  }, []);\n\n  const handleChangeImage = (event) => {\n    if (event.currentTarget.type === \"file\") {\n      setProfileInputData({\n        ...profileInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0],\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      if (event.currentTarget.name === \"picture\") {\n        reader.onloadend = () => {\n          setImage({ ...image, picture: reader.result });\n        };\n      }\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0)\n      props.dispatch(updateUserDetailsStart(profileInputData));\n    else props.dispatch(updateUserDetailsStart());\n  };\n\n  return (\n    <>\n      <div className=\"document-upload-sec\">\n        <Container>\n          <h4 className=\"head-title\">{t(\"upload_profile_picture\")}</h4>\n          <div className=\"upload-profile-picture-card\">\n            <Row>\n              <Col md={6}>\n                <div className=\"upload-profile-picture-sec\">\n                  <Form className=\"upload-profile-img-form\">\n                    <Form.Group>\n                      <input type=\"file\" id=\"file\" />\n                      <Form.Control\n                        className=\"hidden-input\"\n                        id=\"changePicture\"\n                        type=\"file\"\n                        accept=\"image/*\"\n                        name=\"picture\"\n                        onChange={handleChangeImage}\n                      />\n                      <Form.Label\n                        for=\"file\"\n                        className=\"hidden-input\"\n                        for=\"changePicture\"\n                        type=\"file\"\n                        title=\"Change picture\"\n                      >\n                        <Image\n                          src={\n                            image.picture === \"\"\n                              ? window.location.origin +\n                                \"/assets/images/upload-profile-img.svg\"\n                              : image.picture\n                          }\n                          className=\"upload-profile-picture-img\"\n                        />\n                        <div className=\"edit-icon-sec\">\n                          <i className=\"fas fa-upload\"></i>\n                        </div>\n                      </Form.Label>\n                    </Form.Group>\n                  </Form>\n                </div>\n              </Col>\n              <Col md={6}>\n                <div className=\"upload-profile-info\">\n                  <h2 className=\"title\">{t(\"profile_photo\")}</h2>\n                  <p className=\"desc\">{t(\"profile_photo_para\")}</p>\n                  <Button\n                    className=\"upload-profile-img-btn btn-block\"\n                    onClick={handleSubmit}\n                  >\n                    {t(\"submit\")}\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  profile: state.users.profile,\n  profileInputData: state.users.profileInputData,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UploadProfilePicture));\n"]},"metadata":{},"sourceType":"module"}