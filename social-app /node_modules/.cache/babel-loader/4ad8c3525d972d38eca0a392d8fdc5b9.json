{"ast":null,"code":"var _jsxFileName = \"/Users/devsmac/Downloads/fx-frontend/src/components/DocumentUpload/DocumentUploadIndex.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Button, Container, Row, Col, Image, FormGroup } from \"react-bootstrap\";\nimport \"./DocumentUploadIndex.css\";\nimport { connect } from \"react-redux\";\nimport { addKycDocumentStart, getKycDocumentStart } from \"../../store/actions/KycDocumentAction\";\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport DocumentUploadLoader from \"../Loader/DocumentUploadLoader\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst DocumentUploadIndex = props => {\n  useEffect(() => {\n    props.dispatch(getKycDocumentStart());\n  }, []);\n  const [inputData, setInputData] = useState({});\n  const [image, setImage] = useState({});\n  const [uploadDocumentID, setUploadDocumentID] = useState(null);\n\n  const handleChangeImage = (event, doc) => {\n    if (event.currentTarget.type === \"file\") {\n      setInputData({ ...inputData,\n        document_file: event.currentTarget.files[0],\n        document_id: doc.document_id\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      reader.onloadend = () => {\n        setImage({ ...image,\n          [doc.document_id]: reader.result\n        });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event, doc) => {\n    event.preventDefault();\n    setUploadDocumentID(doc.document_id);\n    props.dispatch(addKycDocumentStart(inputData));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-upload-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    xl: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"bookmarkes-list notify-title back-button head-title\",\n    onClick: () => props.history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: window.location.origin + \"/assets/images/icons/back.svg\",\n    className: \"svg-clone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"ml-2 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, t(\"upload_your_documents\"))))), props.kycDocDetails.loading ? \"\" : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-10 text-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, props.kycDocDetails.data.document_status_text_formatted)), props.kycDocDetails.loading ? /*#__PURE__*/React.createElement(DocumentUploadLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }) : props.kycDocDetails.data.documents.length > 0 ? props.kycDocDetails.data.documents.map(doc => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sub-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 25\n    }\n  }, doc.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, doc.description)))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, doc.is_delete_edit_option ? /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 6,\n    xl: 6,\n    className: \"resp-mrg-btn-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-upload-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: doc.picture,\n    className: \"doc-upload-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }))) : \"\", /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 6,\n    xl: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 23\n    }\n  }, doc.is_delete_edit_option ? /*#__PURE__*/React.createElement(Form.File, {\n    type: \"file\",\n    id: doc.document_id,\n    name: doc.document_id,\n    onChange: event => handleChangeImage(event, doc),\n    accept: \"image/*\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 27\n    }\n  }) : null, /*#__PURE__*/React.createElement(Form.Label, {\n    htmlFor: doc.document_id,\n    className: \"document-upload-box-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: doc.picture !== undefined ? doc.picture : window.location.origin + \"/assets/images/document-upload.svg\",\n    className: \"doc-upload-img-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"document-desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 27\n    }\n  }, doc.is_delete_edit_option ? t(\"click_here_to_upload\") : null))))), doc.is_delete_edit_option ? /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"receive-btn-blue\",\n    onClick: event => handleSubmit(event, doc),\n    disabled: doc.is_delete_edit_option ? false : true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, uploadDocumentID === doc.document_id ? props.addKycDocInput.loadingButtonContent : t(\"send_for_approval\")))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space-mg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(NoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapStateToPros = state => ({\n  kycDocDetails: state.kycDocument.kycDocDetails,\n  addKycDocInput: state.kycDocument.addKycDocInput\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(DocumentUploadIndex));","map":{"version":3,"sources":["/Users/devsmac/Downloads/fx-frontend/src/components/DocumentUpload/DocumentUploadIndex.jsx"],"names":["React","useState","useEffect","Link","Form","Button","Container","Row","Col","Image","FormGroup","connect","addKycDocumentStart","getKycDocumentStart","NoDataFound","DocumentUploadLoader","translate","t","DocumentUploadIndex","props","dispatch","inputData","setInputData","image","setImage","uploadDocumentID","setUploadDocumentID","handleChangeImage","event","doc","currentTarget","type","document_file","files","document_id","reader","FileReader","file","onloadend","result","readAsDataURL","handleSubmit","preventDefault","history","goBack","window","location","origin","kycDocDetails","loading","data","document_status_text_formatted","documents","length","map","name","description","is_delete_edit_option","picture","undefined","addKycDocInput","loadingButtonContent","mapStateToPros","state","kycDocument","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Form,\n  Button,\n  Container,\n  Row,\n  Col,\n  Image,\n  FormGroup,\n} from \"react-bootstrap\";\nimport \"./DocumentUploadIndex.css\";\nimport { connect } from \"react-redux\";\nimport {\n  addKycDocumentStart,\n  getKycDocumentStart,\n} from \"../../store/actions/KycDocumentAction\";\n\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport DocumentUploadLoader from \"../Loader/DocumentUploadLoader\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst DocumentUploadIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(getKycDocumentStart());\n  }, []);\n\n  const [inputData, setInputData] = useState({});\n\n  const [image, setImage] = useState({});\n\n  const [uploadDocumentID, setUploadDocumentID] = useState(null);\n\n  const handleChangeImage = (event, doc) => {\n    if (event.currentTarget.type === \"file\") {\n      setInputData({\n        ...inputData,\n        document_file: event.currentTarget.files[0],\n        document_id: doc.document_id,\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      reader.onloadend = () => {\n        setImage({ ...image, [doc.document_id]: reader.result });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event, doc) => {\n    event.preventDefault();\n    setUploadDocumentID(doc.document_id);\n    props.dispatch(addKycDocumentStart(inputData));\n  };\n\n  return (\n    <>\n      <div className=\"document-upload-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12} xl={8}>\n              <Link\n                className=\"bookmarkes-list notify-title back-button head-title\"\n                onClick={() => props.history.goBack()}\n              >\n                <img\n                  src={window.location.origin + \"/assets/images/icons/back.svg\"}\n                  className=\"svg-clone\"\n                />\n                <h3 className=\"ml-2 mb-0\">{t(\"upload_your_documents\")}</h3>\n              </Link>\n            </Col>\n          </Row>\n          {props.kycDocDetails.loading ? (\n            \"\"\n          ) : (\n            <>\n              <h3 className=\"mb-10 text-info\">\n                {props.kycDocDetails.data.document_status_text_formatted}\n              </h3>\n            </>\n          )}\n\n          {props.kycDocDetails.loading ? (\n            <DocumentUploadLoader></DocumentUploadLoader>\n          ) : props.kycDocDetails.data.documents.length > 0 ? (\n            props.kycDocDetails.data.documents.map((doc) => (\n              <>\n                <div className=\"document-card\">\n                  <Row>\n                    <Col sm={12} md={12}>\n                      <div className=\"sub-heading\">\n                        <h4>{doc.name}</h4>\n                        <p>{doc.description}</p>\n                      </div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    {doc.is_delete_edit_option ? (\n                      <Col sm={12} md={6} xl={6} className=\"resp-mrg-btn-xs\">\n                        <div className=\"document-upload-box\">\n                          <Image src={doc.picture} className=\"doc-upload-img\" />\n                        </div>\n                      </Col>\n                    ) : (\n                      \"\"\n                    )}\n                    <Col sm={12} md={6} xl={6}>\n                      <FormGroup>\n                        {doc.is_delete_edit_option ? (\n                          <Form.File\n                            type=\"file\"\n                            id={doc.document_id}\n                            name={doc.document_id}\n                            onChange={(event) => handleChangeImage(event, doc)}\n                            accept=\"image/*\"\n                          />\n                        ) : null}\n                        <Form.Label\n                          htmlFor={doc.document_id}\n                          className=\"document-upload-box-1\"\n                        >\n                          <Image\n                            src={\n                              doc.picture !== undefined\n                                ? doc.picture\n                                : window.location.origin +\n                                  \"/assets/images/document-upload.svg\"\n                            }\n                            className=\"doc-upload-img-1\"\n                          />\n                          <br></br>\n                          <p className=\"document-desc\">\n                            {doc.is_delete_edit_option\n                              ? t(\"click_here_to_upload\")\n                              : null}\n                          </p>\n                        </Form.Label>\n                      </FormGroup>\n                    </Col>\n                  </Row>\n                  {doc.is_delete_edit_option ? (\n                    <Row>\n                      <Col sm={12} md={12}>\n                        <Button\n                          className=\"receive-btn-blue\"\n                          onClick={(event) => handleSubmit(event, doc)}\n                          disabled={doc.is_delete_edit_option ? false : true}\n                        >\n                          {uploadDocumentID === doc.document_id\n                            ? props.addKycDocInput.loadingButtonContent\n                            : t(\"send_for_approval\")}\n                        </Button>\n                      </Col>\n                    </Row>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n                <div className=\"space-mg\"></div>\n              </>\n            ))\n          ) : (\n            <NoDataFound></NoDataFound>\n          )}\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  kycDocDetails: state.kycDocument.kycDocDetails,\n  addKycDocInput: state.kycDocument.addKycDocInput,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(DocumentUploadIndex));\n"]},"metadata":{},"sourceType":"module"}