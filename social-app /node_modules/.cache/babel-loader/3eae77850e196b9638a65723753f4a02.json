{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Button,Container,Row,Col,Table,Badge}from\"react-bootstrap\";import\"../Wallet/Wallet.css\";import{fetchLiveVideosHistoryStart}from\"../../store/actions/LiveVideoAction\";import{Link}from\"react-router-dom\";import NoDataFound from\"../NoDataFound/NoDataFound\";import BillingAccountLoader from\"../Loader/BillingAccountLoader\";import{translate,t}from\"react-multi-lang\";import GoLiveModal from\"../helper/GoLiveModal\";import{fetchUserDetailsStart}from\"../../store/actions/UserAction\";var LiveVideosIndex=function LiveVideosIndex(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),goLive=_useState2[0],setGoLive=_useState2[1];useEffect(function(){if(props.userDetails.loading)props.dispatch(fetchUserDetailsStart());props.dispatch(fetchLiveVideosHistoryStart());},[]);var closeGoLiveModal=function closeGoLiveModal(){setGoLive(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-sec live-video-list-header-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-header-sec\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:8},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title back-button\",onClick:function onClick(){return props.history.goBack();}},/*#__PURE__*/React.createElement(\"img\",{src:window.location.origin+\"/assets/images/icons/back-white.svg\",className:\"svg-clone\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"ml-2 mb-0\"},t(\"live_history\"))),/*#__PURE__*/React.createElement(\"h3\",null)),/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:4,className:\"align-right\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{className:\"live-history-btn mr-2\",to:\"/live-videos\"},t(\"live_videos\")),/*#__PURE__*/React.createElement(Link,{className:\"go-live-btn\",onClick:function onClick(){return setGoLive(true);}},t(\"go_live\")))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table-sec\"},/*#__PURE__*/React.createElement(Container,null,props.liveVideos.loading?/*#__PURE__*/React.createElement(BillingAccountLoader,null):props.liveVideos.data.videos&&props.liveVideos.data.videos.length>0?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table\"},/*#__PURE__*/React.createElement(Table,{borderedless:true,responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"bg-white text-muted text-center\"},/*#__PURE__*/React.createElement(\"th\",null,t(\"title\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"username\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"streamed_date\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"view_count\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"status\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"amount\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"revenue\")))),/*#__PURE__*/React.createElement(\"tbody\",null,props.liveVideos.data.videos.map(function(videos){return/*#__PURE__*/React.createElement(\"tr\",{key:videos.user_billing_account_id},/*#__PURE__*/React.createElement(\"td\",null,videos.title),/*#__PURE__*/React.createElement(\"td\",null,videos.user_displayname),/*#__PURE__*/React.createElement(\"td\",null,videos.created_at_formatted),/*#__PURE__*/React.createElement(\"td\",null,videos.viewer_cnt),/*#__PURE__*/React.createElement(\"td\",null,videos.payment_type_text),/*#__PURE__*/React.createElement(\"td\",null,videos.amount_formatted),/*#__PURE__*/React.createElement(\"td\",null,videos.user_amount_formatted));})))))):/*#__PURE__*/React.createElement(NoDataFound,null)),props.userDetails.loading?t(\"loading\"):/*#__PURE__*/React.createElement(GoLiveModal,{goLive:goLive,closeGoLiveModal:closeGoLiveModal,username:props.userDetails.data.username,userPicture:props.userDetails.data.picture,name:props.userDetails.data.name,user_id:props.userDetails.data.user_id})));};var mapStateToPros=function mapStateToPros(state){return{liveVideos:state.liveVideo.liveVideosHistory,userDetails:state.users.profile};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(LiveVideosIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/LiveVideos/LiveVideosIndex.jsx"],"names":["React","useState","useEffect","connect","Button","Container","Row","Col","Table","Badge","fetchLiveVideosHistoryStart","Link","NoDataFound","BillingAccountLoader","translate","t","GoLiveModal","fetchUserDetailsStart","LiveVideosIndex","props","goLive","setGoLive","userDetails","loading","dispatch","closeGoLiveModal","history","goBack","window","location","origin","liveVideos","data","videos","length","map","user_billing_account_id","title","user_displayname","created_at_formatted","viewer_cnt","payment_type_text","amount_formatted","user_amount_formatted","username","picture","name","user_id","mapStateToPros","state","liveVideo","liveVideosHistory","users","profile","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Container, Row, Col, Table, Badge } from \"react-bootstrap\";\nimport \"../Wallet/Wallet.css\";\nimport { fetchLiveVideosHistoryStart } from \"../../store/actions/LiveVideoAction\";\nimport { Link } from \"react-router-dom\";\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport GoLiveModal from \"../helper/GoLiveModal\";\nimport { fetchUserDetailsStart } from \"../../store/actions/UserAction\";\nconst LiveVideosIndex = (props) => {\n  const [goLive, setGoLive] = useState(false);\n\n  useEffect(() => {\n    if (props.userDetails.loading) props.dispatch(fetchUserDetailsStart());\n    props.dispatch(fetchLiveVideosHistoryStart());\n  }, []);\n\n  const closeGoLiveModal = () => {\n    setGoLive(false);\n  };\n\n  return (\n    <>\n      <div className=\"wallet-sec live-video-list-header-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12}>\n              <div className=\"wallet-header-sec\">\n                <Row>\n                  <Col sm={12} md={12} xl={8}>\n                  <Link\n                      className=\"bookmarkes-list notify-title back-button\"\n                      onClick={() => props.history.goBack()}\n                    >\n                      <img\n                        src={\n                          window.location.origin +\n                          \"/assets/images/icons/back-white.svg\"\n                        }\n                        className=\"svg-clone\"\n                      />\n                      <h3 className=\"ml-2 mb-0\">{t(\"live_history\")}</h3>\n                    </Link>\n                    <h3></h3>\n                  </Col>\n                  <Col sm={12} md={12} xl={4} className=\"align-right\">\n                    <div>\n                      <Link\n                        className=\"live-history-btn mr-2\"\n                        to={\"/live-videos\"}\n                      >\n                        {t(\"live_videos\")}\n                      </Link>\n\n                      <Link\n                        className=\"go-live-btn\"\n                        onClick={() => setGoLive(true)}\n                      >\n                        {t(\"go_live\")}\n                      </Link>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <div className=\"trans-table-sec\">\n        <Container>\n          {props.liveVideos.loading ? (\n            <BillingAccountLoader />\n          ) : props.liveVideos.data.videos &&\n            props.liveVideos.data.videos.length > 0 ? (\n            <Row>\n              <Col sm={12} md={12}>\n                <div className=\"trans-table\">\n                  <Table borderedless responsive>\n                    <thead>\n                      <tr className=\"bg-white text-muted text-center\">\n                        <th>{t(\"title\")}</th>\n                        <th>{t(\"username\")}</th>\n                        <th>{t(\"streamed_date\")}</th>\n                        <th>{t(\"view_count\")}</th>\n                        <th>{t(\"status\")}</th>\n                        <th>{t(\"amount\")}</th>\n                        <th>{t(\"revenue\")}</th>\n                        {/* <th>{t(\"action\")}</th> */}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {props.liveVideos.data.videos.map((videos) => (\n                        <tr key={videos.user_billing_account_id}>\n                          <td>{videos.title}</td>\n                          <td>{videos.user_displayname}</td>\n                          <td>{videos.created_at_formatted}</td>\n                          <td>{videos.viewer_cnt}</td>\n                          <td>{videos.payment_type_text}</td>\n                          <td>{videos.amount_formatted}</td>\n                          <td>{videos.user_amount_formatted}</td>\n                          {/* <td>\n                              \n                                <Button\n                                  style={{ marginBottom: \"1rem\" }}\n                                >\n                                  {t(\"view\")}\n                                </Button>\n                              \n                            </td> */}\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n            </Row>\n          ) : (\n            <NoDataFound />\n          )}\n        </Container>\n        {props.userDetails.loading ? (\n          t(\"loading\")\n        ) : (\n          <GoLiveModal\n            goLive={goLive}\n            closeGoLiveModal={closeGoLiveModal}\n            username={props.userDetails.data.username}\n            userPicture={props.userDetails.data.picture}\n            name={props.userDetails.data.name}\n            user_id={props.userDetails.data.user_id}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  liveVideos: state.liveVideo.liveVideosHistory,\n  userDetails: state.users.profile,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(LiveVideosIndex));\n"]},"metadata":{},"sourceType":"module"}