{"ast":null,"code":"var _jsxFileName = \"/Users/devsmac/Downloads/fx-frontend/src/components/UserChat/UserChatMobileRoom.jsx\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Image, Container, InputGroup, FormControl, Button, Form, Overlay, Tooltip, Dropdown, Media } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\nimport ReactPlayer from \"react-player/lazy\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { Picker, EmojiData } from \"emoji-mart\";\nimport { addMessageContent, fetchChatMessageStart, fetchChatUsersStart } from \"../../store/actions/ChatAction\";\nimport { saveBlockUserStart } from \"../../store/actions/UserAction\";\nimport InboxNoDataFound from \"../NoDataFound/InboxNoDataFound\";\nimport VerifiedBadgeNoShadow from \"../Handlers/VerifiedBadgeNoShadow\";\nimport ChatAssetModal from \"../helper/ChatAssetModal\";\nimport AssetPaymentModal from \"../helper/AssetPaymentModal\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport \"./UserChat.css\";\nconst $ = window.$;\nlet chatSocket;\n\nconst UserChatMobileRoom = props => {\n  const [toUserId, setToUserId] = useState(0);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n  const messageRef = useRef();\n  const [chatAssetUpload, setChatAssetUpload] = useState(false);\n  const [fileType, setFileType] = useState(\"picture\");\n  const [chatPayment, setPaymentModal] = useState(false);\n  const [paymentData, setPaymentData] = useState({\n    chat_message_id: 0,\n    from_user_id: localStorage.getItem(\"userId\"),\n    to_user_id: toUserId,\n    amount_formatted: 0,\n    amount: 0\n  });\n\n  const closeChatAssetUploadModal = () => {\n    setChatAssetUpload(false);\n  };\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const invalidMessageRef = useRef(null);\n  const [emptyMessageCheck, setEmptyMessageCheck] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n  useEffect(() => {\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (chatSocketUrl === \"\") {// const notificationMessage = getErrorNotificationMessage(\n      //   \"Socket URL is not configured. Chat wil not work...\"\n      // );\n      // props.dispatch(createNotification(notificationMessage));\n      // window.location.assign(\"/home\");\n    }\n\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\"\n      });\n    }\n  }, []);\n  useEffect(() => {\n    let to_user_id = props.match.params.to_user_id == localStorage.getItem(\"userId\") ? props.match.params.from_user_id : props.match.params.to_user_id;\n    setToUserId(to_user_id);\n    props.dispatch(fetchChatMessageStart({\n      to_user_id: props.match.params.to_user_id,\n      from_user_id: props.match.params.from_user_id\n    }));\n    chatSocketConnect(to_user_id);\n  }, []); // Scroll down function..\n\n  useEffect(() => {\n    console.log(\"Scroll down..\");\n    const objDiv = document.getElementById(\"options-holder\");\n\n    if (objDiv != null) {\n      let differenceNumber = objDiv.offsetHeight > objDiv.scrollHeight ? objDiv.offsetHeight - objDiv.scrollHeight : objDiv.scrollHeight - objDiv.offsetHeight;\n\n      if (differenceNumber > 280) {\n        objDiv.scrollTop = objDiv.scrollHeight;\n      } else {\n        objDiv.scrollTop = initialHeight;\n        setInitialHeight(initialHeight + 20);\n      }\n    }\n  }, [props.chatMessages.data.messages]);\n\n  const chatSocketConnect = to_user_id => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    console.log(\"chatSocket\", chatSocketUrl);\n    console.log(\"Input ID\", to_user_id);\n\n    if (chatSocketUrl) {\n      chatSocket = io(chatSocketUrl, {\n        query: `commonid:'user_id_` + localStorage.getItem(\"userId\") + `_to_user_id_` + to_user_id + `',myid:` + localStorage.getItem(\"userId\")\n      });\n      console.log(\"chatSocket\", chatSocket);\n      chatSocket.emit(\"update sender\", {\n        commonid: \"user_id_\" + localStorage.getItem(\"userId\") + \"_to_user_id_\" + to_user_id,\n        myid: localStorage.getItem(\"userId\")\n      });\n      let chatContent;\n      chatSocket.on(\"message\", newData => {\n        let content = [];\n        content.push(newData); // chatContent = [...this.state.chatData, ...content];\n        // this.setState({ chatData: chatContent });\n\n        console.log(content);\n        props.dispatch(addMessageContent(content));\n      });\n    }\n  };\n\n  const handleChatSubmit = event => {\n    event.preventDefault();\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (inputMessage.length == 0) {\n      setEmptyMessageCheck(true);\n    }\n\n    if (chatSocketUrl != undefined && inputMessage) {\n      let chatData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        message: inputMessage,\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\"\n      }];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatData];\n      } else {\n        messages = [...chatData];\n      }\n\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatData));\n    }\n  };\n\n  useEffect(() => {\n    props.assetUpload.loading || handleMediaSubmit();\n  }, [props.assetUpload.loading]);\n\n  const handleMediaSubmit = () => {\n    const assetData = props.assetUpload.data.chat_asset;\n    const assetMessage = props.assetUpload.data.chat_message;\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (chatSocketUrl != undefined && assetData && assetMessage) {\n      let chatData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n        message: assetMessage ? assetMessage.message : \"\",\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\",\n        chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n        chat_asset_url: assetMessage.amount > 0 ? assetData.blur_file : assetData.file,\n        file_type: assetData.file_type,\n        is_user_needs_pay: assetMessage.amount > 0 ? 1 : 0,\n        amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n        amount_formatted: assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n        payment_text: assetMessage.amount > 0 ? \"UNLOCK MESSAGE FOR \" + assetMessage.amount_formatted : \"\"\n      }];\n      let chatMessageData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n        message: assetMessage ? assetMessage.message : \"\",\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\",\n        chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n        chat_asset_url: assetData.file,\n        file_type: assetData.file_type,\n        amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n        amount_formatted: assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n        is_user_needs_pay: 0,\n        payment_text: \"\"\n      }];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatMessageData];\n      } else {\n        messages = [...chatMessageData];\n      }\n\n      if (assetData) {\n        closeChatAssetUploadModal();\n      }\n\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatMessageData));\n    }\n  };\n\n  const chatInputChange = value => {\n    setInputMessage(value);\n\n    if (inputMessage.length > 0) {\n      setEmptyMessageCheck(false);\n    }\n  };\n\n  const handleAssetUploadModal = fileType => {\n    setChatAssetUpload(true);\n    setFileType(fileType);\n  };\n\n  const handleAssetPayment = (event, chat_message_id, amount_formatted, amount) => {\n    event.preventDefault();\n    setPaymentData({ ...paymentData,\n      chat_message_id: chat_message_id,\n      amount: amount,\n      amount_formatted: amount_formatted\n    });\n    setPaymentModal(true);\n  };\n\n  const closePaymentModal = () => {\n    setPaymentModal(false);\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  const handleEmojiSelect = emoji => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n  };\n\n  const handleBlockUser = (event, status, user_id) => {\n    event.preventDefault();\n    props.dispatch(saveBlockUserStart({\n      user_id: user_id,\n      is_other_profile: 1\n    }));\n  };\n\n  const searchUser = value => {\n    setSearchKey(value);\n    props.dispatch(fetchChatUsersStart({\n      search_key: value\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-sec user-chat-mobile-room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-list-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-list-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/inbox`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, \"Messages\"))), props.chatMessages.loading ? \"\" : props.chatMessages.data.user && props.chatMessages.data.user.user_unique_id ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-room-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-room-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + props.chatMessages.data.user.user_unique_id,\n    className: \"user-chat-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 25\n    }\n  }, props.chatMessages.data.user.name, \" \", props.chatMessages.data.user.is_verified_badge == 1 ? /*#__PURE__*/React.createElement(VerifiedBadgeNoShadow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 29\n    }\n  }) : null, props.chatMessages.data.user.is_online_status == 1 ? props.chatMessages.data.user.is_user_online == 1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-success f-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 34\n    }\n  }, \" \", \"(\", t(\"online\"), \")\") : '' : ''), /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"link-user-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }, \"@\", props.chatMessages.data.user.name, \" \")), /*#__PURE__*/React.createElement(Dropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    className: \"btn btn-default dropdown-toggle\",\n    type: \"button\",\n    id: \"dropdown-basic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-ellipsis-v svg-clone vertical-dots h-dots\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"dropdown-menu dropdown-menu-right r-dropdown-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + props.chatMessages.data.user.user_unique_id,\n    className: \"dropdown-a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 29\n    }\n  }, \"View profile\")), /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 27\n    }\n  }), props.chatMessages.data.is_block_user == 0 ? /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"dropdown-a\",\n    onClick: event => handleBlockUser(event, \"unblocked\", props.chatMessages.data.user.user_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 31\n    }\n  }, \"Block\")) : /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"dropdown-a\",\n    onClick: event => handleBlockUser(event, \"unblocked\", props.chatMessages.data.user.user_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 31\n    }\n  }, \"UnBlock\")), /*#__PURE__*/React.createElement(React.Fragment, null)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-main-wrapper-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-content-sec\",\n    ref: messageRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 23\n    }\n  }, props.chatMessages.data.messages.length > 0 ? props.chatMessages.data.messages.map((chatMessage, index) => /*#__PURE__*/React.createElement(React.Fragment, null, chatMessage.from_user_id == localStorage.getItem(\"userId\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-right-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: localStorage.getItem(\"user_picture\"),\n    alt: \"\",\n    className: \"user-message-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 39\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"video\" ? /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: chatMessage.chat_asset_url,\n    controls: true,\n    className: \"post-video-size chat-video\",\n    width: \"450px\",\n    height: \"450px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 43\n    }\n  }) : \"\", chatMessage.chat_asset_url && chatMessage.file_type == \"audio\" ? /*#__PURE__*/React.createElement(ReactAudioPlayer, {\n    src: chatMessage.chat_asset_url,\n    controls: true,\n    width: \"450px\",\n    height: \"450px\",\n    className: \"chat-room-audio-display\",\n    autoPlay: false,\n    controlsList: \"nodownload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 43\n    }\n  }) : // <ReactPlayer\n  //   url={chatMessage.chat_asset_url}\n  //   controls={true}\n  //   width=\"450px\"\n  //   height=\"450px\"\n  //   className=\"chat-room-audio-display\"\n  // />\n  \"\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 41\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"image\" ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 45\n    }\n  }) : \"\", chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-top-btn-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"subscribe-post-btn-sec\",\n    onClick: event => handleAssetPayment(event, chatMessage.chat_message_id, chatMessage.amount, chatMessage.amount_formatted),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 47\n    }\n  }, chatMessage.payment_text)) : \"\"), chatMessage.message == \"\" ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 45\n    }\n  }, \"You, \", chatMessage.created), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 45\n    }\n  }, chatMessage.message)))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-left-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: props.chatMessages.data.user.picture,\n    alt: \"\",\n    className: \"user-message-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 39\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"video\" ? chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 45\n    }\n  }) : /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: chatMessage.chat_asset_url,\n    controls: true,\n    className: \"post-video-size chat-room-video-display chat-video\",\n    width: \"450px\",\n    height: \"450px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 45\n    }\n  }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 41\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"image\" ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\" // onClick={(event) =>\n    //   handleImagePreview(event, 1)\n    // }\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 45\n    }\n  }) : \"\", chatMessage.chat_asset_url && chatMessage.file_type == \"audio\" ? chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 47\n    }\n  }) : /*#__PURE__*/React.createElement(ReactAudioPlayer, {\n    src: chatMessage.chat_asset_url,\n    controls: true,\n    width: \"450px\",\n    height: \"450px\",\n    className: \"chat-room-audio-display\",\n    autoPlay: false,\n    controlsList: \"nodownload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 47\n    }\n  }) // <ReactPlayer\n  //   url={chatMessage.chat_asset_url}\n  //   controls={true}\n  //   width=\"450px\"\n  //   height=\"450px\"\n  //   className=\"chat-room-audio-display\"\n  // />\n  : \"\", chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-top-btn-sec chat-room-pay-display\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"subscribe-post-btn-sec\",\n    onClick: event => handleAssetPayment(event, chatMessage.chat_message_id, chatMessage.amount, chatMessage.amount_formatted),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 47\n    }\n  }, chatMessage.payment_text)) : \"\"), chatMessage.message == \"\" ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 45\n    }\n  }, props.chatMessages.data.user.name, \", \", chatMessage.created), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 45\n    }\n  }, chatMessage.message)))), \" \")) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-main-wrapper-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    id: \"chat_post_form\",\n    className: \"has-advanced-upload\",\n    onSubmit: handleChatSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    hasValidation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    placeholder: \"Type a message\",\n    \"aria-label\": \"Type a message\",\n    \"aria-describedby\": \"basic-addon2\",\n    value: inputMessage,\n    onChange: event => {\n      chatInputChange(event.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-icon-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 27\n    }\n  }, configuration.get(\"configData.is_chat_asset_enabled\") == 1 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"chat-border-needed border-radius-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 698,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"image\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/picture.svg\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 39\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"border-radius-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"video\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 725,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/movie.svg\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 39\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"chat-border-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"audio\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/audio.png\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 39\n    }\n  }))))) : \"\", /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"position-relative last-child-mobile-icon chat-border-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"space-between-evenly\",\n    \"data-can_send\": \"true\",\n    onClick: handleChatSubmit,\n    ref: invalidMessageRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"comment-send-icon\",\n    src: window.location.origin + \"/assets/images/icons/comment-send-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 35\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 794,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Overlay, {\n    target: invalidMessageRef,\n    show: emptyMessageCheck,\n    placement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 33\n    }\n  }, props => /*#__PURE__*/React.createElement(Tooltip, Object.assign({\n    id: \"chat-invalid\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 37\n    }\n  }), \"Please type a message\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-2\",\n    type: \"button\",\n    onClick: triggerPicker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"far fa-smile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 811,\n      columnNumber: 35\n    }\n  })))))))), emojiPickerState && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emojiWrapper chat-emoji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 820,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    title: \"\",\n    emoji: \"point_up\",\n    onSelect: emoji => handleEmojiSelect(emoji),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 821,\n      columnNumber: 25\n    }\n  }))) : /*#__PURE__*/React.createElement(InboxNoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 830,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(ChatAssetModal, {\n    chatAssetUpload: chatAssetUpload,\n    closeChatAssetUploadModal: closeChatAssetUploadModal,\n    fileType: fileType,\n    toUserId: toUserId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 836,\n      columnNumber: 9\n    }\n  }), props.chatMessages.loading ? t(\"loading\") : /*#__PURE__*/React.createElement(AssetPaymentModal, {\n    chatPayment: chatPayment,\n    closePaymentModal: closePaymentModal,\n    paymentData: paymentData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst mapStateToPros = state => ({\n  chatUsers: state.chat.chatUsers,\n  chatMessages: state.chat.messages,\n  assetUpload: state.chatAsset.saveAssetUpload\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(UserChatMobileRoom));","map":{"version":3,"sources":["/Users/devsmac/Downloads/fx-frontend/src/components/UserChat/UserChatMobileRoom.jsx"],"names":["React","useEffect","useState","useRef","Link","Row","Col","Image","Container","InputGroup","FormControl","Button","Form","Overlay","Tooltip","Dropdown","Media","connect","io","configuration","translate","t","ReactPlayer","ReactAudioPlayer","Picker","EmojiData","addMessageContent","fetchChatMessageStart","fetchChatUsersStart","saveBlockUserStart","InboxNoDataFound","VerifiedBadgeNoShadow","ChatAssetModal","AssetPaymentModal","$","window","chatSocket","UserChatMobileRoom","props","toUserId","setToUserId","inputMessage","setInputMessage","initialHeight","setInitialHeight","messageRef","chatAssetUpload","setChatAssetUpload","fileType","setFileType","chatPayment","setPaymentModal","paymentData","setPaymentData","chat_message_id","from_user_id","localStorage","getItem","to_user_id","amount_formatted","amount","closeChatAssetUploadModal","emojiPickerState","SetEmojiPicker","invalidMessageRef","emptyMessageCheck","setEmptyMessageCheck","searchKey","setSearchKey","chatSocketUrl","get","current","scrollIntoView","behavior","block","inline","match","params","dispatch","chatSocketConnect","console","log","objDiv","document","getElementById","differenceNumber","offsetHeight","scrollHeight","scrollTop","chatMessages","data","messages","query","emit","commonid","myid","chatContent","on","newData","content","push","handleChatSubmit","event","preventDefault","length","undefined","chatData","message","type","user_picture","loggedin_user_id","created","Date","from_username","from_displayname","from_userpicture","from_user_unique_id","to_username","to_displayname","to_userpicture","to_user_unique_id","assetUpload","loading","handleMediaSubmit","assetData","chat_asset","assetMessage","chat_message","chat_asset_id","chat_asset_url","blur_file","file","file_type","is_user_needs_pay","payment_text","chatMessageData","chatInputChange","value","handleAssetUploadModal","handleAssetPayment","closePaymentModal","triggerPicker","handleEmojiSelect","emoji","native","handleBlockUser","status","user_id","is_other_profile","searchUser","search_key","user","user_unique_id","name","is_verified_badge","is_online_status","is_user_online","is_block_user","map","chatMessage","index","picture","currentTarget","location","origin","mapStateToPros","state","chatUsers","chat","chatAsset","saveAssetUpload","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Image,\n  Container,\n  InputGroup,\n  FormControl,\n  Button,\n  Form,\n  Overlay,\n  Tooltip,\n  Dropdown,\n  Media,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\nimport ReactPlayer from \"react-player/lazy\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { Picker, EmojiData } from \"emoji-mart\";\nimport {\n  addMessageContent,\n  fetchChatMessageStart,\n  fetchChatUsersStart,\n} from \"../../store/actions/ChatAction\";\nimport { saveBlockUserStart } from \"../../store/actions/UserAction\";\nimport InboxNoDataFound from \"../NoDataFound/InboxNoDataFound\";\nimport VerifiedBadgeNoShadow from \"../Handlers/VerifiedBadgeNoShadow\";\nimport ChatAssetModal from \"../helper/ChatAssetModal\";\nimport AssetPaymentModal from \"../helper/AssetPaymentModal\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport \"./UserChat.css\";\nconst $ = window.$;\n\nlet chatSocket;\n\nconst UserChatMobileRoom = (props) => {\n  const [toUserId, setToUserId] = useState(0);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n\n  const messageRef = useRef();\n\n  const [chatAssetUpload, setChatAssetUpload] = useState(false);\n  const [fileType, setFileType] = useState(\"picture\");\n  const [chatPayment, setPaymentModal] = useState(false);\n  const [paymentData, setPaymentData] = useState({\n    chat_message_id: 0,\n    from_user_id: localStorage.getItem(\"userId\"),\n    to_user_id: toUserId,\n    amount_formatted: 0,\n    amount: 0,\n  });\n\n  const closeChatAssetUploadModal = () => {\n    setChatAssetUpload(false);\n  };\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const invalidMessageRef = useRef(null);\n  const [emptyMessageCheck, setEmptyMessageCheck] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n\n  useEffect(() => {\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl === \"\") {\n      // const notificationMessage = getErrorNotificationMessage(\n      //   \"Socket URL is not configured. Chat wil not work...\"\n      // );\n      // props.dispatch(createNotification(notificationMessage));\n      // window.location.assign(\"/home\");\n    }\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\",\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    let to_user_id =\n      props.match.params.to_user_id == localStorage.getItem(\"userId\")\n        ? props.match.params.from_user_id\n        : props.match.params.to_user_id;\n    setToUserId(to_user_id);\n    props.dispatch(\n      fetchChatMessageStart({\n        to_user_id: props.match.params.to_user_id,\n        from_user_id: props.match.params.from_user_id,\n      })\n    );\n    chatSocketConnect(to_user_id);\n  }, []);\n\n  // Scroll down function..\n  useEffect(() => {\n    console.log(\"Scroll down..\");\n    const objDiv = document.getElementById(\"options-holder\");\n    if (objDiv != null) {\n      let differenceNumber =\n        objDiv.offsetHeight > objDiv.scrollHeight\n          ? objDiv.offsetHeight - objDiv.scrollHeight\n          : objDiv.scrollHeight - objDiv.offsetHeight;\n\n      if (differenceNumber > 280) {\n        objDiv.scrollTop = objDiv.scrollHeight;\n      } else {\n        objDiv.scrollTop = initialHeight;\n        setInitialHeight(initialHeight + 20);\n      }\n    }\n  }, [props.chatMessages.data.messages]);\n\n  const chatSocketConnect = (to_user_id) => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    console.log(\"chatSocket\", chatSocketUrl);\n    console.log(\"Input ID\", to_user_id);\n    if (chatSocketUrl) {\n      chatSocket = io(chatSocketUrl, {\n        query:\n          `commonid:'user_id_` +\n          localStorage.getItem(\"userId\") +\n          `_to_user_id_` +\n          to_user_id +\n          `',myid:` +\n          localStorage.getItem(\"userId\"),\n      });\n      console.log(\"chatSocket\", chatSocket);\n      chatSocket.emit(\"update sender\", {\n        commonid:\n          \"user_id_\" +\n          localStorage.getItem(\"userId\") +\n          \"_to_user_id_\" +\n          to_user_id,\n        myid: localStorage.getItem(\"userId\"),\n      });\n      let chatContent;\n      chatSocket.on(\"message\", (newData) => {\n        let content = [];\n        content.push(newData);\n        // chatContent = [...this.state.chatData, ...content];\n        // this.setState({ chatData: chatContent });\n        console.log(content);\n        props.dispatch(addMessageContent(content));\n      });\n    }\n  };\n\n  const handleChatSubmit = (event) => {\n    event.preventDefault();\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (inputMessage.length == 0) {\n      setEmptyMessageCheck(true);\n    }\n\n    if (chatSocketUrl != undefined && inputMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          message: inputMessage,\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatData];\n      } else {\n        messages = [...chatData];\n      }\n\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatData));\n    }\n  };\n\n  useEffect(() => {\n    props.assetUpload.loading || handleMediaSubmit();\n  }, [props.assetUpload.loading]);\n\n  const handleMediaSubmit = () => {\n    const assetData = props.assetUpload.data.chat_asset;\n    const assetMessage = props.assetUpload.data.chat_message;\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl != undefined && assetData && assetMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url:\n            assetMessage.amount > 0 ? assetData.blur_file : assetData.file,\n          file_type: assetData.file_type,\n          is_user_needs_pay: assetMessage.amount > 0 ? 1 : 0,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          payment_text:\n            assetMessage.amount > 0\n              ? \"UNLOCK MESSAGE FOR \" + assetMessage.amount_formatted\n              : \"\",\n        },\n      ];\n\n      let chatMessageData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url: assetData.file,\n          file_type: assetData.file_type,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          is_user_needs_pay: 0,\n          payment_text: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatMessageData];\n      } else {\n        messages = [...chatMessageData];\n      }\n      if (assetData) {\n        closeChatAssetUploadModal();\n      }\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatMessageData));\n    }\n  };\n\n  const chatInputChange = (value) => {\n    setInputMessage(value);\n    if (inputMessage.length > 0) {\n      setEmptyMessageCheck(false);\n    }\n  };\n\n  const handleAssetUploadModal = (fileType) => {\n    setChatAssetUpload(true);\n    setFileType(fileType);\n  };\n\n  const handleAssetPayment = (\n    event,\n    chat_message_id,\n    amount_formatted,\n    amount\n  ) => {\n    event.preventDefault();\n    setPaymentData({\n      ...paymentData,\n      chat_message_id: chat_message_id,\n      amount: amount,\n      amount_formatted: amount_formatted,\n    });\n    setPaymentModal(true);\n  };\n  const closePaymentModal = () => {\n    setPaymentModal(false);\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  const handleEmojiSelect = (emoji) => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n  };\n\n  const handleBlockUser = (event, status, user_id) => {\n    event.preventDefault();\n    props.dispatch(\n      saveBlockUserStart({\n        user_id: user_id,\n        is_other_profile: 1,\n      })\n    );\n  };\n\n  const searchUser = (value) => {\n    setSearchKey(value);\n    props.dispatch(fetchChatUsersStart({ search_key: value }));\n  };\n\n  return (\n    <>\n      <div className=\"user-chat-sec user-chat-mobile-room\">\n        <Container>\n          <Row>\n            <Col sm=\"12\" md=\"12\">\n              <div className=\"user-chat-box\">\n                <div className=\"user-chat-list-sec\">\n                  <div className=\"user-chat-list-header\">\n                    <Link to={`/inbox`}>\n                      <div className=\"back-icon\">\n                        <i className=\"fas fa-chevron-left\"></i>\n                      </div>\n                    </Link>\n                    <h3>Messages</h3>\n                  </div>\n                  {/* <div className=\"chat-list-search-sec\">\n                    <InputGroup>\n                      <FormControl\n                        placeholder={t(\"search_by_username\")}\n                        aria-label={t(\"search_by_username\")}\n                        aria-describedby=\"basic-addon2\"\n                        onChange={(event) => searchUser(event.target.value)}\n                        value={searchKey}\n                      />\n                      <InputGroup.Text id=\"basic-addon2\">\n                        <i className=\"fas fa-search\"></i>\n                      </InputGroup.Text>\n                    </InputGroup>\n                  </div> */}\n                </div>\n                {props.chatMessages.loading ? (\n                  \"\"\n                ) : props.chatMessages.data.user &&\n                  props.chatMessages.data.user.user_unique_id ? (\n                  <div className=\"user-chat-room-sec\">\n                    <div className=\"user-chat-room-header\">\n                      <Link\n                        to={`/` + props.chatMessages.data.user.user_unique_id}\n                        className=\"user-chat-msg\"\n                      >\n                        <h3>\n                          {props.chatMessages.data.user.name}{\" \"}\n                          {props.chatMessages.data.user.is_verified_badge ==\n                          1 ? (\n                            <VerifiedBadgeNoShadow />\n                          ) : null}\n                          {props.chatMessages.data.user.is_online_status == 1\n                            ? props.chatMessages.data.user.is_user_online == 1\n                              ? (<span className=\"text-success f-12\">\n                              {\" \"}\n                              ({t(\"online\")})\n                            </span>)\n                              : ''\n                            : ''}\n\n                        </h3>\n                        <Link to=\"#\" className=\"link-user-name\">\n                          @{props.chatMessages.data.user.name}{\" \"}\n                        </Link>\n                      </Link>\n                      <Dropdown>\n                        <Dropdown.Toggle\n                          className=\"btn btn-default dropdown-toggle\"\n                          type=\"button\"\n                          id=\"dropdown-basic\"\n                        >\n                          {/* <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/icons/vertical-dots.svg\"\n                            }\n                            className=\"svg-clone vertical-dots\"\n                          /> */}\n                          <i className=\"fas fa-ellipsis-v svg-clone vertical-dots h-dots\"></i>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu className=\"dropdown-menu dropdown-menu-right r-dropdown-menu\">\n                          <Media as=\"li\">\n                            <Link\n                              to={\n                                `/` +\n                                props.chatMessages.data.user.user_unique_id\n                              }\n                              className=\"dropdown-a\"\n                            >\n                              View profile\n                            </Link>\n                          </Media>\n                          <Media as=\"li\" className=\"divider\"></Media>\n                          {props.chatMessages.data.is_block_user == 0 ? (\n                            <Media as=\"li\">\n                              <Link\n                                to=\"#\"\n                                className=\"dropdown-a\"\n                                onClick={(event) =>\n                                  handleBlockUser(\n                                    event,\n                                    \"unblocked\",\n                                    props.chatMessages.data.user.user_id\n                                  )\n                                }\n                              >\n                                Block\n                              </Link>\n                            </Media>\n                          ) : (\n                            <Media as=\"li\">\n                              <Link\n                                to=\"#\"\n                                className=\"dropdown-a\"\n                                onClick={(event) =>\n                                  handleBlockUser(\n                                    event,\n                                    \"unblocked\",\n                                    props.chatMessages.data.user.user_id\n                                  )\n                                }\n                              >\n                                UnBlock\n                              </Link>\n                            </Media>\n                          )}\n                          <></>\n                        </Dropdown.Menu>\n                      </Dropdown>\n                    </div>\n                    <div className=\"user-chat-main-wrapper-body\">\n                      <div\n                        className=\"user-message-content-sec\"\n                        ref={messageRef}\n                      >\n                        {props.chatMessages.data.messages.length > 0\n                          ? props.chatMessages.data.messages.map(\n                              (chatMessage, index) => (\n                                <>\n                                  {chatMessage.from_user_id ==\n                                  localStorage.getItem(\"userId\") ? (\n                                    <div className=\"user-message-right-align\">\n                                      <div className=\"user-message-user-img-sec\">\n                                        <Image\n                                          src={localStorage.getItem(\n                                            \"user_picture\"\n                                          )}\n                                          alt=\"\"\n                                          className=\"user-message-img\"\n                                        />\n                                      </div>\n                                      <div className=\"user-message-info\">\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                          <ReactPlayer\n                                            url={chatMessage.chat_asset_url}\n                                            controls={true}\n                                            className=\"post-video-size chat-video\"\n                                            width=\"450px\"\n                                            height=\"450px\"\n                                          />\n                                        ) : (\n                                          \"\"\n                                        )}\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"audio\" ? (\n                                          <ReactAudioPlayer\n                                            src={chatMessage.chat_asset_url}\n                                            controls={true}\n                                            width=\"450px\"\n                                            height=\"450px\"\n                                            className=\"chat-room-audio-display\"\n                                            autoPlay={false}\n                                            controlsList={\"nodownload\"}\n                                          />\n                                        ) : (\n                                          // <ReactPlayer\n                                          //   url={chatMessage.chat_asset_url}\n                                          //   controls={true}\n                                          //   width=\"450px\"\n                                          //   height=\"450px\"\n                                          //   className=\"chat-room-audio-display\"\n                                          // />\n                                          \"\"\n                                        )}\n                                        <div>\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                            />\n                                          ) : (\n                                            \"\"\n                                          )}\n\n                                          {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <div className=\"gallery-top-btn-sec\">\n                                              <Button\n                                                className=\"subscribe-post-btn-sec\"\n                                                onClick={(event) =>\n                                                  handleAssetPayment(\n                                                    event,\n                                                    chatMessage.chat_message_id,\n                                                    chatMessage.amount,\n                                                    chatMessage.amount_formatted\n                                                  )\n                                                }\n                                              >\n                                                {chatMessage.payment_text}\n                                              </Button>\n                                            </div>\n                                          ) : (\n                                            \"\"\n                                          )}\n                                        </div>\n                                        {chatMessage.message == \"\" ? null : (\n                                          <>\n                                            <p>You, {chatMessage.created}</p>\n                                            <h6>{chatMessage.message}</h6>\n                                          </>\n                                        )}\n                                      </div>\n                                    </div>\n                                  ) : (\n                                    <div className=\"user-message-left-align\">\n                                      <div className=\"user-message-user-img-sec\">\n                                        <Image\n                                          src={\n                                            props.chatMessages.data.user.picture\n                                          }\n                                          alt=\"\"\n                                          className=\"user-message-img\"\n                                        />\n                                      </div>\n                                      <div className=\"user-message-info\">\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                          chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                            ></Image>\n                                          ) : (\n                                            <ReactPlayer\n                                              url={chatMessage.chat_asset_url}\n                                              controls={true}\n                                              className=\"post-video-size chat-room-video-display chat-video\"\n                                              width=\"450px\"\n                                              height=\"450px\"\n                                            />\n                                          )\n                                        ) : (\n                                          \"\"\n                                        )}\n                                        <div>\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                              // onClick={(event) =>\n                                              //   handleImagePreview(event, 1)\n                                              // }\n                                            />\n                                          ) : (\n                                            \"\"\n                                          )}\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"audio\" ? (\n                                            chatMessage.is_user_needs_pay ===\n                                            1 ? (\n                                              <Image\n                                                src={chatMessage.chat_asset_url}\n                                                className=\"chat-view-image\"\n                                              ></Image>\n                                            ) : (\n                                              <ReactAudioPlayer\n                                                src={chatMessage.chat_asset_url}\n                                                controls={true}\n                                                width=\"450px\"\n                                                height=\"450px\"\n                                                className=\"chat-room-audio-display\"\n                                                autoPlay={false}\n                                                controlsList={\"nodownload\"}\n                                              />\n                                              // <ReactPlayer\n                                              //   url={chatMessage.chat_asset_url}\n                                              //   controls={true}\n                                              //   width=\"450px\"\n                                              //   height=\"450px\"\n                                              //   className=\"chat-room-audio-display\"\n                                              // />\n                                            )\n                                          ) : (\n                                            \"\"\n                                          )}\n\n                                          {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <div className=\"gallery-top-btn-sec chat-room-pay-display\">\n                                              <Button\n                                                className=\"subscribe-post-btn-sec\"\n                                                onClick={(event) =>\n                                                  handleAssetPayment(\n                                                    event,\n                                                    chatMessage.chat_message_id,\n                                                    chatMessage.amount,\n                                                    chatMessage.amount_formatted\n                                                  )\n                                                }\n                                              >\n                                                {chatMessage.payment_text}\n                                              </Button>\n                                            </div>\n                                          ) : (\n                                            \"\"\n                                          )}\n                                        </div>\n                                        {chatMessage.message == \"\" ? null : (\n                                          <>\n                                            <p>\n                                              {\n                                                props.chatMessages.data.user\n                                                  .name\n                                              }\n                                              , {chatMessage.created}\n                                            </p>\n                                            <h6>{chatMessage.message}</h6>\n                                          </>\n                                        )}\n                                      </div>\n                                    </div>\n                                  )}{\" \"}\n                                </>\n                              )\n                            )\n                          : \"\"}\n                      </div>\n                      {/* <p className=\"typing-text mt-5\">Jason Doyle is typing...</p> */}\n                    </div>\n                    <div className=\"user-chat-main-wrapper-footer\">\n                      <Form\n                        id=\"chat_post_form\"\n                        className=\"has-advanced-upload\"\n                        onSubmit={handleChatSubmit}\n                      >\n                        <InputGroup hasValidation>\n                          <FormControl\n                            placeholder=\"Type a message\"\n                            aria-label=\"Type a message\"\n                            aria-describedby=\"basic-addon2\"\n                            value={inputMessage}\n                            onChange={(event) => {\n                              chatInputChange(event.currentTarget.value);\n                            }}\n                          />\n                          <div className=\"chat-icon-sec\">\n                            {configuration.get(\n                              \"configData.is_chat_asset_enabled\"\n                            ) == 1 ? (\n                              <>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-needed border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"image\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/picture.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"video\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/movie.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"audio\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/audio.png\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                              </>\n                            ) : (\n                              \"\"\n                            )}\n                            <InputGroup.Append>\n                              <InputGroup.Text\n                                id=\"basic-addon2\"\n                                className=\"position-relative last-child-mobile-icon chat-border-zero\"\n                              >\n                                <Button\n                                  type=\"button\"\n                                  className=\"space-between-evenly\"\n                                  data-can_send=\"true\"\n                                  onClick={handleChatSubmit}\n                                  ref={invalidMessageRef}\n                                >\n                                  {/* <i class=\"far fa-paper-plane\"></i> */}\n                                  <Image\n                                    className=\"comment-send-icon\"\n                                    src={\n                                      window.location.origin +\n                                      \"/assets/images/icons/comment-send-icon.png\"\n                                    }\n                                  />\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                            <InputGroup.Append>\n                              <InputGroup.Text>\n                                <Overlay\n                                  target={invalidMessageRef}\n                                  show={emptyMessageCheck}\n                                  placement=\"top\"\n                                >\n                                  {(props) => (\n                                    <Tooltip id=\"chat-invalid\" {...props}>\n                                      Please type a message\n                                    </Tooltip>\n                                  )}\n                                </Overlay>\n                                <Button\n                                  className=\"ml-2\"\n                                  type=\"button\"\n                                  onClick={triggerPicker}\n                                >\n                                  <i class=\"far fa-smile\"></i>\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                          </div>\n                        </InputGroup>\n                      </Form>\n                    </div>\n                    {emojiPickerState && (\n                      <div className=\"emojiWrapper chat-emoji\">\n                        <Picker\n                          title=\"\"\n                          emoji=\"point_up\"\n                          onSelect={(emoji) => handleEmojiSelect(emoji)}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <InboxNoDataFound />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Container>\n        <ChatAssetModal\n          chatAssetUpload={chatAssetUpload}\n          closeChatAssetUploadModal={closeChatAssetUploadModal}\n          fileType={fileType}\n          toUserId={toUserId}\n        />\n        {props.chatMessages.loading ? (\n          t(\"loading\")\n        ) : (\n          <AssetPaymentModal\n            chatPayment={chatPayment}\n            closePaymentModal={closePaymentModal}\n            paymentData={paymentData}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  chatUsers: state.chat.chatUsers,\n  chatMessages: state.chat.messages,\n  assetUpload: state.chatAsset.saveAssetUpload,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UserChatMobileRoom));\n"]},"metadata":{},"sourceType":"module"}