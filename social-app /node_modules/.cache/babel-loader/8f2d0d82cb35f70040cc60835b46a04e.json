{"ast":null,"code":"import _objectSpread from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import{Link}from\"react-router-dom\";import{Row,Col,Image,Container,InputGroup,FormControl,Button,Form,Overlay,Tooltip,Dropdown,Media}from\"react-bootstrap\";import{connect}from\"react-redux\";import io from\"socket.io-client\";import configuration from\"react-global-configuration\";import{translate,t}from\"react-multi-lang\";import ReactPlayer from\"react-player/lazy\";import ReactAudioPlayer from\"react-audio-player\";import{Picker,EmojiData}from\"emoji-mart\";import{addMessageContent,fetchChatMessageStart,fetchChatUsersStart}from\"../../store/actions/ChatAction\";import{saveBlockUserStart}from\"../../store/actions/UserAction\";import InboxNoDataFound from\"../NoDataFound/InboxNoDataFound\";import VerifiedBadgeNoShadow from\"../Handlers/VerifiedBadgeNoShadow\";import ChatAssetModal from\"../helper/ChatAssetModal\";import AssetPaymentModal from\"../helper/AssetPaymentModal\";import\"emoji-mart/css/emoji-mart.css\";import\"./UserChat.css\";var $=window.$;var chatSocket;var UserChatMobileRoom=function UserChatMobileRoom(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),toUserId=_useState2[0],setToUserId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),inputMessage=_useState4[0],setInputMessage=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),initialHeight=_useState6[0],setInitialHeight=_useState6[1];var messageRef=useRef();var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),chatAssetUpload=_useState8[0],setChatAssetUpload=_useState8[1];var _useState9=useState(\"picture\"),_useState10=_slicedToArray(_useState9,2),fileType=_useState10[0],setFileType=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),chatPayment=_useState12[0],setPaymentModal=_useState12[1];var _useState13=useState({chat_message_id:0,from_user_id:localStorage.getItem(\"userId\"),to_user_id:toUserId,amount_formatted:0,amount:0}),_useState14=_slicedToArray(_useState13,2),paymentData=_useState14[0],setPaymentData=_useState14[1];var closeChatAssetUploadModal=function closeChatAssetUploadModal(){setChatAssetUpload(false);};var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),emojiPickerState=_useState16[0],SetEmojiPicker=_useState16[1];var invalidMessageRef=useRef(null);var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),emptyMessageCheck=_useState18[0],setEmptyMessageCheck=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),searchKey=_useState20[0],setSearchKey=_useState20[1];useEffect(function(){var chatSocketUrl=configuration.get(\"configData.chat_socket_url\");if(chatSocketUrl===\"\"){// const notificationMessage = getErrorNotificationMessage(\n//   \"Socket URL is not configured. Chat wil not work...\"\n// );\n// props.dispatch(createNotification(notificationMessage));\n// window.location.assign(\"/home\");\n}if(messageRef.current){messageRef.current.scrollIntoView({behavior:\"smooth\",block:\"end\",inline:\"nearest\"});}},[]);useEffect(function(){var to_user_id=props.match.params.to_user_id==localStorage.getItem(\"userId\")?props.match.params.from_user_id:props.match.params.to_user_id;setToUserId(to_user_id);props.dispatch(fetchChatMessageStart({to_user_id:props.match.params.to_user_id,from_user_id:props.match.params.from_user_id}));chatSocketConnect(to_user_id);},[]);// Scroll down function..\nuseEffect(function(){console.log(\"Scroll down..\");var objDiv=document.getElementById(\"options-holder\");if(objDiv!=null){var differenceNumber=objDiv.offsetHeight>objDiv.scrollHeight?objDiv.offsetHeight-objDiv.scrollHeight:objDiv.scrollHeight-objDiv.offsetHeight;if(differenceNumber>280){objDiv.scrollTop=objDiv.scrollHeight;}else{objDiv.scrollTop=initialHeight;setInitialHeight(initialHeight+20);}}},[props.chatMessages.data.messages]);var chatSocketConnect=function chatSocketConnect(to_user_id){// check the socket url is configured\nvar chatSocketUrl=configuration.get(\"configData.chat_socket_url\");console.log(\"chatSocket\",chatSocketUrl);console.log(\"Input ID\",to_user_id);if(chatSocketUrl){chatSocket=io(chatSocketUrl,{query:\"commonid:'user_id_\"+localStorage.getItem(\"userId\")+\"_to_user_id_\"+to_user_id+\"',myid:\"+localStorage.getItem(\"userId\")});console.log(\"chatSocket\",chatSocket);chatSocket.emit(\"update sender\",{commonid:\"user_id_\"+localStorage.getItem(\"userId\")+\"_to_user_id_\"+to_user_id,myid:localStorage.getItem(\"userId\")});var chatContent;chatSocket.on(\"message\",function(newData){var content=[];content.push(newData);// chatContent = [...this.state.chatData, ...content];\n// this.setState({ chatData: chatContent });\nconsole.log(content);props.dispatch(addMessageContent(content));});}};var handleChatSubmit=function handleChatSubmit(event){event.preventDefault();var chatSocketUrl=configuration.get(\"configData.chat_socket_url\");if(inputMessage.length==0){setEmptyMessageCheck(true);}if(chatSocketUrl!=undefined&&inputMessage){var chatData=[{from_user_id:localStorage.getItem(\"userId\"),to_user_id:toUserId,message:inputMessage,type:\"uu\",user_picture:localStorage.getItem(\"user_picture\"),loggedin_user_id:localStorage.getItem(\"userId\"),created:Date(),from_username:localStorage.getItem(\"username\"),from_displayname:localStorage.getItem(\"name\"),from_userpicture:localStorage.getItem(\"user_picture\"),from_user_unique_id:\"\",to_username:\"\",to_displayname:\"\",to_userpicture:\"\",to_user_unique_id:\"\"}];chatSocket.emit(\"message\",chatData[0]);var messages;if(props.chatMessages.data.messages!=null){messages=[].concat(_toConsumableArray(props.chatMessages.data.messages),chatData);}else{messages=[].concat(chatData);}setInputMessage(\"\");props.dispatch(addMessageContent(chatData));}};useEffect(function(){props.assetUpload.loading||handleMediaSubmit();},[props.assetUpload.loading]);var handleMediaSubmit=function handleMediaSubmit(){var assetData=props.assetUpload.data.chat_asset;var assetMessage=props.assetUpload.data.chat_message;var chatSocketUrl=configuration.get(\"configData.chat_socket_url\");if(chatSocketUrl!=undefined&&assetData&&assetMessage){var chatData=[{from_user_id:localStorage.getItem(\"userId\"),to_user_id:toUserId,chat_message_id:assetMessage?assetMessage.chat_message_id:\"\",message:assetMessage?assetMessage.message:\"\",type:\"uu\",user_picture:localStorage.getItem(\"user_picture\"),loggedin_user_id:localStorage.getItem(\"userId\"),created:Date(),from_username:localStorage.getItem(\"username\"),from_displayname:localStorage.getItem(\"name\"),from_userpicture:localStorage.getItem(\"user_picture\"),from_user_unique_id:\"\",to_username:\"\",to_displayname:\"\",to_userpicture:\"\",to_user_unique_id:\"\",chat_asset_id:assetData?assetData.chat_asset_id:\"\",chat_asset_url:assetMessage.amount>0?assetData.blur_file:assetData.file,file_type:assetData.file_type,is_user_needs_pay:assetMessage.amount>0?1:0,amount:assetMessage.amount>0?assetMessage.amount:0,amount_formatted:assetMessage.amount>0?assetMessage.amount_formatted:0,payment_text:assetMessage.amount>0?\"UNLOCK MESSAGE FOR \"+assetMessage.amount_formatted:\"\"}];var chatMessageData=[{from_user_id:localStorage.getItem(\"userId\"),to_user_id:toUserId,chat_message_id:assetMessage?assetMessage.chat_message_id:\"\",message:assetMessage?assetMessage.message:\"\",type:\"uu\",user_picture:localStorage.getItem(\"user_picture\"),loggedin_user_id:localStorage.getItem(\"userId\"),created:Date(),from_username:localStorage.getItem(\"username\"),from_displayname:localStorage.getItem(\"name\"),from_userpicture:localStorage.getItem(\"user_picture\"),from_user_unique_id:\"\",to_username:\"\",to_displayname:\"\",to_userpicture:\"\",to_user_unique_id:\"\",chat_asset_id:assetData?assetData.chat_asset_id:\"\",chat_asset_url:assetData.file,file_type:assetData.file_type,amount:assetMessage.amount>0?assetMessage.amount:0,amount_formatted:assetMessage.amount>0?assetMessage.amount_formatted:0,is_user_needs_pay:0,payment_text:\"\"}];chatSocket.emit(\"message\",chatData[0]);var messages;if(props.chatMessages.data.messages!=null){messages=[].concat(_toConsumableArray(props.chatMessages.data.messages),chatMessageData);}else{messages=[].concat(chatMessageData);}if(assetData){closeChatAssetUploadModal();}setInputMessage(\"\");props.dispatch(addMessageContent(chatMessageData));}};var chatInputChange=function chatInputChange(value){setInputMessage(value);if(inputMessage.length>0){setEmptyMessageCheck(false);}};var handleAssetUploadModal=function handleAssetUploadModal(fileType){setChatAssetUpload(true);setFileType(fileType);};var handleAssetPayment=function handleAssetPayment(event,chat_message_id,amount_formatted,amount){event.preventDefault();setPaymentData(_objectSpread(_objectSpread({},paymentData),{},{chat_message_id:chat_message_id,amount:amount,amount_formatted:amount_formatted}));setPaymentModal(true);};var closePaymentModal=function closePaymentModal(){setPaymentModal(false);};function triggerPicker(event){event.preventDefault();SetEmojiPicker(!emojiPickerState);}var handleEmojiSelect=function handleEmojiSelect(emoji){SetEmojiPicker(false);setInputMessage(inputMessage+emoji.native);};var handleBlockUser=function handleBlockUser(event,status,user_id){event.preventDefault();props.dispatch(saveBlockUserStart({user_id:user_id,is_other_profile:1}));};var searchUser=function searchUser(value){setSearchKey(value);props.dispatch(fetchChatUsersStart({search_key:value}));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-sec user-chat-mobile-room\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-list-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-list-header\"},/*#__PURE__*/React.createElement(Link,{to:\"/inbox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"back-icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-chevron-left\"}))),/*#__PURE__*/React.createElement(\"h3\",null,\"Messages\"))),props.chatMessages.loading?\"\":props.chatMessages.data.user&&props.chatMessages.data.user.user_unique_id?/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-room-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-room-header\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"+props.chatMessages.data.user.user_unique_id,className:\"user-chat-msg\"},/*#__PURE__*/React.createElement(\"h3\",null,props.chatMessages.data.user.name,\" \",props.chatMessages.data.user.is_verified_badge==1?/*#__PURE__*/React.createElement(VerifiedBadgeNoShadow,null):null,props.chatMessages.data.user.is_online_status==1?props.chatMessages.data.user.is_user_online==1?/*#__PURE__*/React.createElement(\"span\",{className:\"text-success f-12\"},\" \",\"(\",t(\"online\"),\")\"):'':''),/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"link-user-name\"},\"@\",props.chatMessages.data.user.name,\" \")),/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{className:\"btn btn-default dropdown-toggle\",type:\"button\",id:\"dropdown-basic\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-v svg-clone vertical-dots h-dots\"})),/*#__PURE__*/React.createElement(Dropdown.Menu,{className:\"dropdown-menu dropdown-menu-right r-dropdown-menu\"},/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"+props.chatMessages.data.user.user_unique_id,className:\"dropdown-a\"},\"View profile\")),/*#__PURE__*/React.createElement(Media,{as:\"li\",className:\"divider\"}),props.chatMessages.data.is_block_user==0?/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"dropdown-a\",onClick:function onClick(event){return handleBlockUser(event,\"unblocked\",props.chatMessages.data.user.user_id);}},\"Block\")):/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",className:\"dropdown-a\",onClick:function onClick(event){return handleBlockUser(event,\"unblocked\",props.chatMessages.data.user.user_id);}},\"UnBlock\")),/*#__PURE__*/React.createElement(React.Fragment,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-main-wrapper-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-content-sec\",ref:messageRef},props.chatMessages.data.messages.length>0?props.chatMessages.data.messages.map(function(chatMessage,index){return/*#__PURE__*/React.createElement(React.Fragment,null,chatMessage.from_user_id==localStorage.getItem(\"userId\")?/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-right-align\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:localStorage.getItem(\"user_picture\"),alt:\"\",className:\"user-message-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-info\"},chatMessage.chat_asset_url&&chatMessage.file_type==\"video\"?/*#__PURE__*/React.createElement(ReactPlayer,{url:chatMessage.chat_asset_url,controls:true,className:\"post-video-size chat-video\",width:\"450px\",height:\"450px\"}):\"\",chatMessage.chat_asset_url&&chatMessage.file_type==\"audio\"?/*#__PURE__*/React.createElement(ReactAudioPlayer,{src:chatMessage.chat_asset_url,controls:true,width:\"450px\",height:\"450px\",className:\"chat-room-audio-display\",autoPlay:false,controlsList:\"nodownload\"}):// <ReactPlayer\n//   url={chatMessage.chat_asset_url}\n//   controls={true}\n//   width=\"450px\"\n//   height=\"450px\"\n//   className=\"chat-room-audio-display\"\n// />\n\"\",/*#__PURE__*/React.createElement(\"div\",null,chatMessage.chat_asset_url&&chatMessage.file_type==\"image\"?/*#__PURE__*/React.createElement(Image,{src:chatMessage.chat_asset_url,className:\"chat-view-image\"}):\"\",chatMessage.is_user_needs_pay===1?/*#__PURE__*/React.createElement(\"div\",{className:\"gallery-top-btn-sec\"},/*#__PURE__*/React.createElement(Button,{className:\"subscribe-post-btn-sec\",onClick:function onClick(event){return handleAssetPayment(event,chatMessage.chat_message_id,chatMessage.amount,chatMessage.amount_formatted);}},chatMessage.payment_text)):\"\"),chatMessage.message==\"\"?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"You, \",chatMessage.created),/*#__PURE__*/React.createElement(\"h6\",null,chatMessage.message)))):/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-left-align\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:props.chatMessages.data.user.picture,alt:\"\",className:\"user-message-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-message-info\"},chatMessage.chat_asset_url&&chatMessage.file_type==\"video\"?chatMessage.is_user_needs_pay===1?/*#__PURE__*/React.createElement(Image,{src:chatMessage.chat_asset_url,className:\"chat-view-image\"}):/*#__PURE__*/React.createElement(ReactPlayer,{url:chatMessage.chat_asset_url,controls:true,className:\"post-video-size chat-room-video-display chat-video\",width:\"450px\",height:\"450px\"}):\"\",/*#__PURE__*/React.createElement(\"div\",null,chatMessage.chat_asset_url&&chatMessage.file_type==\"image\"?/*#__PURE__*/React.createElement(Image,{src:chatMessage.chat_asset_url,className:\"chat-view-image\"// onClick={(event) =>\n//   handleImagePreview(event, 1)\n// }\n}):\"\",chatMessage.chat_asset_url&&chatMessage.file_type==\"audio\"?chatMessage.is_user_needs_pay===1?/*#__PURE__*/React.createElement(Image,{src:chatMessage.chat_asset_url,className:\"chat-view-image\"}):/*#__PURE__*/React.createElement(ReactAudioPlayer,{src:chatMessage.chat_asset_url,controls:true,width:\"450px\",height:\"450px\",className:\"chat-room-audio-display\",autoPlay:false,controlsList:\"nodownload\"})// <ReactPlayer\n//   url={chatMessage.chat_asset_url}\n//   controls={true}\n//   width=\"450px\"\n//   height=\"450px\"\n//   className=\"chat-room-audio-display\"\n// />\n:\"\",chatMessage.is_user_needs_pay===1?/*#__PURE__*/React.createElement(\"div\",{className:\"gallery-top-btn-sec chat-room-pay-display\"},/*#__PURE__*/React.createElement(Button,{className:\"subscribe-post-btn-sec\",onClick:function onClick(event){return handleAssetPayment(event,chatMessage.chat_message_id,chatMessage.amount,chatMessage.amount_formatted);}},chatMessage.payment_text)):\"\"),chatMessage.message==\"\"?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,props.chatMessages.data.user.name,\", \",chatMessage.created),/*#__PURE__*/React.createElement(\"h6\",null,chatMessage.message)))),\" \");}):\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"user-chat-main-wrapper-footer\"},/*#__PURE__*/React.createElement(Form,{id:\"chat_post_form\",className:\"has-advanced-upload\",onSubmit:handleChatSubmit},/*#__PURE__*/React.createElement(InputGroup,{hasValidation:true},/*#__PURE__*/React.createElement(FormControl,{placeholder:\"Type a message\",\"aria-label\":\"Type a message\",\"aria-describedby\":\"basic-addon2\",value:inputMessage,onChange:function onChange(event){chatInputChange(event.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"chat-icon-sec\"},configuration.get(\"configData.is_chat_asset_enabled\")==1?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,{id:\"basic-addon2\",className:\"chat-border-needed border-radius-zero\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",\"data-can_send\":\"true\",className:\"g-btn m-rounded b-chat__btn-submit\",onClick:function onClick(){return handleAssetUploadModal(\"image\");}},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/icons/picture.svg\",className:\"svg-clone  wh-32\"})))),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,{id:\"basic-addon2\",className:\"border-radius-zero\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",\"data-can_send\":\"true\",className:\"g-btn m-rounded b-chat__btn-submit\",onClick:function onClick(){return handleAssetUploadModal(\"video\");}},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/icons/movie.svg\",className:\"svg-clone  wh-32\"})))),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,{id:\"basic-addon2\",className:\"chat-border-zero\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",\"data-can_send\":\"true\",className:\"g-btn m-rounded b-chat__btn-submit\",onClick:function onClick(){return handleAssetUploadModal(\"audio\");}},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/icons/audio.png\",className:\"svg-clone  wh-32\"}))))):\"\",/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,{id:\"basic-addon2\",className:\"position-relative last-child-mobile-icon chat-border-zero\"},/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"space-between-evenly\",\"data-can_send\":\"true\",onClick:handleChatSubmit,ref:invalidMessageRef},/*#__PURE__*/React.createElement(Image,{className:\"comment-send-icon\",src:window.location.origin+\"/assets/images/icons/comment-send-icon.png\"})))),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,/*#__PURE__*/React.createElement(Overlay,{target:invalidMessageRef,show:emptyMessageCheck,placement:\"top\"},function(props){return/*#__PURE__*/React.createElement(Tooltip,Object.assign({id:\"chat-invalid\"},props),\"Please type a message\");}),/*#__PURE__*/React.createElement(Button,{className:\"ml-2\",type:\"button\",onClick:triggerPicker},/*#__PURE__*/React.createElement(\"i\",{class:\"far fa-smile\"})))))))),emojiPickerState&&/*#__PURE__*/React.createElement(\"div\",{className:\"emojiWrapper chat-emoji\"},/*#__PURE__*/React.createElement(Picker,{title:\"\",emoji:\"point_up\",onSelect:function onSelect(emoji){return handleEmojiSelect(emoji);}}))):/*#__PURE__*/React.createElement(InboxNoDataFound,null))))),/*#__PURE__*/React.createElement(ChatAssetModal,{chatAssetUpload:chatAssetUpload,closeChatAssetUploadModal:closeChatAssetUploadModal,fileType:fileType,toUserId:toUserId}),props.chatMessages.loading?t(\"loading\"):/*#__PURE__*/React.createElement(AssetPaymentModal,{chatPayment:chatPayment,closePaymentModal:closePaymentModal,paymentData:paymentData})));};var mapStateToPros=function mapStateToPros(state){return{chatUsers:state.chat.chatUsers,chatMessages:state.chat.messages,assetUpload:state.chatAsset.saveAssetUpload};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(UserChatMobileRoom));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/UserChat/UserChatMobileRoom.jsx"],"names":["React","useEffect","useState","useRef","Link","Row","Col","Image","Container","InputGroup","FormControl","Button","Form","Overlay","Tooltip","Dropdown","Media","connect","io","configuration","translate","t","ReactPlayer","ReactAudioPlayer","Picker","EmojiData","addMessageContent","fetchChatMessageStart","fetchChatUsersStart","saveBlockUserStart","InboxNoDataFound","VerifiedBadgeNoShadow","ChatAssetModal","AssetPaymentModal","$","window","chatSocket","UserChatMobileRoom","props","toUserId","setToUserId","inputMessage","setInputMessage","initialHeight","setInitialHeight","messageRef","chatAssetUpload","setChatAssetUpload","fileType","setFileType","chatPayment","setPaymentModal","chat_message_id","from_user_id","localStorage","getItem","to_user_id","amount_formatted","amount","paymentData","setPaymentData","closeChatAssetUploadModal","emojiPickerState","SetEmojiPicker","invalidMessageRef","emptyMessageCheck","setEmptyMessageCheck","searchKey","setSearchKey","chatSocketUrl","get","current","scrollIntoView","behavior","block","inline","match","params","dispatch","chatSocketConnect","console","log","objDiv","document","getElementById","differenceNumber","offsetHeight","scrollHeight","scrollTop","chatMessages","data","messages","query","emit","commonid","myid","chatContent","on","newData","content","push","handleChatSubmit","event","preventDefault","length","undefined","chatData","message","type","user_picture","loggedin_user_id","created","Date","from_username","from_displayname","from_userpicture","from_user_unique_id","to_username","to_displayname","to_userpicture","to_user_unique_id","assetUpload","loading","handleMediaSubmit","assetData","chat_asset","assetMessage","chat_message","chat_asset_id","chat_asset_url","blur_file","file","file_type","is_user_needs_pay","payment_text","chatMessageData","chatInputChange","value","handleAssetUploadModal","handleAssetPayment","closePaymentModal","triggerPicker","handleEmojiSelect","emoji","native","handleBlockUser","status","user_id","is_other_profile","searchUser","search_key","user","user_unique_id","name","is_verified_badge","is_online_status","is_user_online","is_block_user","map","chatMessage","index","picture","currentTarget","location","origin","mapStateToPros","state","chatUsers","chat","chatAsset","saveAssetUpload","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Image,\n  Container,\n  InputGroup,\n  FormControl,\n  Button,\n  Form,\n  Overlay,\n  Tooltip,\n  Dropdown,\n  Media,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\nimport ReactPlayer from \"react-player/lazy\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { Picker, EmojiData } from \"emoji-mart\";\nimport {\n  addMessageContent,\n  fetchChatMessageStart,\n  fetchChatUsersStart,\n} from \"../../store/actions/ChatAction\";\nimport { saveBlockUserStart } from \"../../store/actions/UserAction\";\nimport InboxNoDataFound from \"../NoDataFound/InboxNoDataFound\";\nimport VerifiedBadgeNoShadow from \"../Handlers/VerifiedBadgeNoShadow\";\nimport ChatAssetModal from \"../helper/ChatAssetModal\";\nimport AssetPaymentModal from \"../helper/AssetPaymentModal\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport \"./UserChat.css\";\nconst $ = window.$;\n\nlet chatSocket;\n\nconst UserChatMobileRoom = (props) => {\n  const [toUserId, setToUserId] = useState(0);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n\n  const messageRef = useRef();\n\n  const [chatAssetUpload, setChatAssetUpload] = useState(false);\n  const [fileType, setFileType] = useState(\"picture\");\n  const [chatPayment, setPaymentModal] = useState(false);\n  const [paymentData, setPaymentData] = useState({\n    chat_message_id: 0,\n    from_user_id: localStorage.getItem(\"userId\"),\n    to_user_id: toUserId,\n    amount_formatted: 0,\n    amount: 0,\n  });\n\n  const closeChatAssetUploadModal = () => {\n    setChatAssetUpload(false);\n  };\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const invalidMessageRef = useRef(null);\n  const [emptyMessageCheck, setEmptyMessageCheck] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n\n  useEffect(() => {\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl === \"\") {\n      // const notificationMessage = getErrorNotificationMessage(\n      //   \"Socket URL is not configured. Chat wil not work...\"\n      // );\n      // props.dispatch(createNotification(notificationMessage));\n      // window.location.assign(\"/home\");\n    }\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\",\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    let to_user_id =\n      props.match.params.to_user_id == localStorage.getItem(\"userId\")\n        ? props.match.params.from_user_id\n        : props.match.params.to_user_id;\n    setToUserId(to_user_id);\n    props.dispatch(\n      fetchChatMessageStart({\n        to_user_id: props.match.params.to_user_id,\n        from_user_id: props.match.params.from_user_id,\n      })\n    );\n    chatSocketConnect(to_user_id);\n  }, []);\n\n  // Scroll down function..\n  useEffect(() => {\n    console.log(\"Scroll down..\");\n    const objDiv = document.getElementById(\"options-holder\");\n    if (objDiv != null) {\n      let differenceNumber =\n        objDiv.offsetHeight > objDiv.scrollHeight\n          ? objDiv.offsetHeight - objDiv.scrollHeight\n          : objDiv.scrollHeight - objDiv.offsetHeight;\n\n      if (differenceNumber > 280) {\n        objDiv.scrollTop = objDiv.scrollHeight;\n      } else {\n        objDiv.scrollTop = initialHeight;\n        setInitialHeight(initialHeight + 20);\n      }\n    }\n  }, [props.chatMessages.data.messages]);\n\n  const chatSocketConnect = (to_user_id) => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    console.log(\"chatSocket\", chatSocketUrl);\n    console.log(\"Input ID\", to_user_id);\n    if (chatSocketUrl) {\n      chatSocket = io(chatSocketUrl, {\n        query:\n          `commonid:'user_id_` +\n          localStorage.getItem(\"userId\") +\n          `_to_user_id_` +\n          to_user_id +\n          `',myid:` +\n          localStorage.getItem(\"userId\"),\n      });\n      console.log(\"chatSocket\", chatSocket);\n      chatSocket.emit(\"update sender\", {\n        commonid:\n          \"user_id_\" +\n          localStorage.getItem(\"userId\") +\n          \"_to_user_id_\" +\n          to_user_id,\n        myid: localStorage.getItem(\"userId\"),\n      });\n      let chatContent;\n      chatSocket.on(\"message\", (newData) => {\n        let content = [];\n        content.push(newData);\n        // chatContent = [...this.state.chatData, ...content];\n        // this.setState({ chatData: chatContent });\n        console.log(content);\n        props.dispatch(addMessageContent(content));\n      });\n    }\n  };\n\n  const handleChatSubmit = (event) => {\n    event.preventDefault();\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (inputMessage.length == 0) {\n      setEmptyMessageCheck(true);\n    }\n\n    if (chatSocketUrl != undefined && inputMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          message: inputMessage,\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatData];\n      } else {\n        messages = [...chatData];\n      }\n\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatData));\n    }\n  };\n\n  useEffect(() => {\n    props.assetUpload.loading || handleMediaSubmit();\n  }, [props.assetUpload.loading]);\n\n  const handleMediaSubmit = () => {\n    const assetData = props.assetUpload.data.chat_asset;\n    const assetMessage = props.assetUpload.data.chat_message;\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl != undefined && assetData && assetMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url:\n            assetMessage.amount > 0 ? assetData.blur_file : assetData.file,\n          file_type: assetData.file_type,\n          is_user_needs_pay: assetMessage.amount > 0 ? 1 : 0,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          payment_text:\n            assetMessage.amount > 0\n              ? \"UNLOCK MESSAGE FOR \" + assetMessage.amount_formatted\n              : \"\",\n        },\n      ];\n\n      let chatMessageData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url: assetData.file,\n          file_type: assetData.file_type,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          is_user_needs_pay: 0,\n          payment_text: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatMessageData];\n      } else {\n        messages = [...chatMessageData];\n      }\n      if (assetData) {\n        closeChatAssetUploadModal();\n      }\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatMessageData));\n    }\n  };\n\n  const chatInputChange = (value) => {\n    setInputMessage(value);\n    if (inputMessage.length > 0) {\n      setEmptyMessageCheck(false);\n    }\n  };\n\n  const handleAssetUploadModal = (fileType) => {\n    setChatAssetUpload(true);\n    setFileType(fileType);\n  };\n\n  const handleAssetPayment = (\n    event,\n    chat_message_id,\n    amount_formatted,\n    amount\n  ) => {\n    event.preventDefault();\n    setPaymentData({\n      ...paymentData,\n      chat_message_id: chat_message_id,\n      amount: amount,\n      amount_formatted: amount_formatted,\n    });\n    setPaymentModal(true);\n  };\n  const closePaymentModal = () => {\n    setPaymentModal(false);\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  const handleEmojiSelect = (emoji) => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n  };\n\n  const handleBlockUser = (event, status, user_id) => {\n    event.preventDefault();\n    props.dispatch(\n      saveBlockUserStart({\n        user_id: user_id,\n        is_other_profile: 1,\n      })\n    );\n  };\n\n  const searchUser = (value) => {\n    setSearchKey(value);\n    props.dispatch(fetchChatUsersStart({ search_key: value }));\n  };\n\n  return (\n    <>\n      <div className=\"user-chat-sec user-chat-mobile-room\">\n        <Container>\n          <Row>\n            <Col sm=\"12\" md=\"12\">\n              <div className=\"user-chat-box\">\n                <div className=\"user-chat-list-sec\">\n                  <div className=\"user-chat-list-header\">\n                    <Link to={`/inbox`}>\n                      <div className=\"back-icon\">\n                        <i className=\"fas fa-chevron-left\"></i>\n                      </div>\n                    </Link>\n                    <h3>Messages</h3>\n                  </div>\n                  {/* <div className=\"chat-list-search-sec\">\n                    <InputGroup>\n                      <FormControl\n                        placeholder={t(\"search_by_username\")}\n                        aria-label={t(\"search_by_username\")}\n                        aria-describedby=\"basic-addon2\"\n                        onChange={(event) => searchUser(event.target.value)}\n                        value={searchKey}\n                      />\n                      <InputGroup.Text id=\"basic-addon2\">\n                        <i className=\"fas fa-search\"></i>\n                      </InputGroup.Text>\n                    </InputGroup>\n                  </div> */}\n                </div>\n                {props.chatMessages.loading ? (\n                  \"\"\n                ) : props.chatMessages.data.user &&\n                  props.chatMessages.data.user.user_unique_id ? (\n                  <div className=\"user-chat-room-sec\">\n                    <div className=\"user-chat-room-header\">\n                      <Link\n                        to={`/` + props.chatMessages.data.user.user_unique_id}\n                        className=\"user-chat-msg\"\n                      >\n                        <h3>\n                          {props.chatMessages.data.user.name}{\" \"}\n                          {props.chatMessages.data.user.is_verified_badge ==\n                          1 ? (\n                            <VerifiedBadgeNoShadow />\n                          ) : null}\n                          {props.chatMessages.data.user.is_online_status == 1\n                            ? props.chatMessages.data.user.is_user_online == 1\n                              ? (<span className=\"text-success f-12\">\n                              {\" \"}\n                              ({t(\"online\")})\n                            </span>)\n                              : ''\n                            : ''}\n\n                        </h3>\n                        <Link to=\"#\" className=\"link-user-name\">\n                          @{props.chatMessages.data.user.name}{\" \"}\n                        </Link>\n                      </Link>\n                      <Dropdown>\n                        <Dropdown.Toggle\n                          className=\"btn btn-default dropdown-toggle\"\n                          type=\"button\"\n                          id=\"dropdown-basic\"\n                        >\n                          {/* <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/icons/vertical-dots.svg\"\n                            }\n                            className=\"svg-clone vertical-dots\"\n                          /> */}\n                          <i className=\"fas fa-ellipsis-v svg-clone vertical-dots h-dots\"></i>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu className=\"dropdown-menu dropdown-menu-right r-dropdown-menu\">\n                          <Media as=\"li\">\n                            <Link\n                              to={\n                                `/` +\n                                props.chatMessages.data.user.user_unique_id\n                              }\n                              className=\"dropdown-a\"\n                            >\n                              View profile\n                            </Link>\n                          </Media>\n                          <Media as=\"li\" className=\"divider\"></Media>\n                          {props.chatMessages.data.is_block_user == 0 ? (\n                            <Media as=\"li\">\n                              <Link\n                                to=\"#\"\n                                className=\"dropdown-a\"\n                                onClick={(event) =>\n                                  handleBlockUser(\n                                    event,\n                                    \"unblocked\",\n                                    props.chatMessages.data.user.user_id\n                                  )\n                                }\n                              >\n                                Block\n                              </Link>\n                            </Media>\n                          ) : (\n                            <Media as=\"li\">\n                              <Link\n                                to=\"#\"\n                                className=\"dropdown-a\"\n                                onClick={(event) =>\n                                  handleBlockUser(\n                                    event,\n                                    \"unblocked\",\n                                    props.chatMessages.data.user.user_id\n                                  )\n                                }\n                              >\n                                UnBlock\n                              </Link>\n                            </Media>\n                          )}\n                          <></>\n                        </Dropdown.Menu>\n                      </Dropdown>\n                    </div>\n                    <div className=\"user-chat-main-wrapper-body\">\n                      <div\n                        className=\"user-message-content-sec\"\n                        ref={messageRef}\n                      >\n                        {props.chatMessages.data.messages.length > 0\n                          ? props.chatMessages.data.messages.map(\n                              (chatMessage, index) => (\n                                <>\n                                  {chatMessage.from_user_id ==\n                                  localStorage.getItem(\"userId\") ? (\n                                    <div className=\"user-message-right-align\">\n                                      <div className=\"user-message-user-img-sec\">\n                                        <Image\n                                          src={localStorage.getItem(\n                                            \"user_picture\"\n                                          )}\n                                          alt=\"\"\n                                          className=\"user-message-img\"\n                                        />\n                                      </div>\n                                      <div className=\"user-message-info\">\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                          <ReactPlayer\n                                            url={chatMessage.chat_asset_url}\n                                            controls={true}\n                                            className=\"post-video-size chat-video\"\n                                            width=\"450px\"\n                                            height=\"450px\"\n                                          />\n                                        ) : (\n                                          \"\"\n                                        )}\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"audio\" ? (\n                                          <ReactAudioPlayer\n                                            src={chatMessage.chat_asset_url}\n                                            controls={true}\n                                            width=\"450px\"\n                                            height=\"450px\"\n                                            className=\"chat-room-audio-display\"\n                                            autoPlay={false}\n                                            controlsList={\"nodownload\"}\n                                          />\n                                        ) : (\n                                          // <ReactPlayer\n                                          //   url={chatMessage.chat_asset_url}\n                                          //   controls={true}\n                                          //   width=\"450px\"\n                                          //   height=\"450px\"\n                                          //   className=\"chat-room-audio-display\"\n                                          // />\n                                          \"\"\n                                        )}\n                                        <div>\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                            />\n                                          ) : (\n                                            \"\"\n                                          )}\n\n                                          {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <div className=\"gallery-top-btn-sec\">\n                                              <Button\n                                                className=\"subscribe-post-btn-sec\"\n                                                onClick={(event) =>\n                                                  handleAssetPayment(\n                                                    event,\n                                                    chatMessage.chat_message_id,\n                                                    chatMessage.amount,\n                                                    chatMessage.amount_formatted\n                                                  )\n                                                }\n                                              >\n                                                {chatMessage.payment_text}\n                                              </Button>\n                                            </div>\n                                          ) : (\n                                            \"\"\n                                          )}\n                                        </div>\n                                        {chatMessage.message == \"\" ? null : (\n                                          <>\n                                            <p>You, {chatMessage.created}</p>\n                                            <h6>{chatMessage.message}</h6>\n                                          </>\n                                        )}\n                                      </div>\n                                    </div>\n                                  ) : (\n                                    <div className=\"user-message-left-align\">\n                                      <div className=\"user-message-user-img-sec\">\n                                        <Image\n                                          src={\n                                            props.chatMessages.data.user.picture\n                                          }\n                                          alt=\"\"\n                                          className=\"user-message-img\"\n                                        />\n                                      </div>\n                                      <div className=\"user-message-info\">\n                                        {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                          chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                            ></Image>\n                                          ) : (\n                                            <ReactPlayer\n                                              url={chatMessage.chat_asset_url}\n                                              controls={true}\n                                              className=\"post-video-size chat-room-video-display chat-video\"\n                                              width=\"450px\"\n                                              height=\"450px\"\n                                            />\n                                          )\n                                        ) : (\n                                          \"\"\n                                        )}\n                                        <div>\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                              // onClick={(event) =>\n                                              //   handleImagePreview(event, 1)\n                                              // }\n                                            />\n                                          ) : (\n                                            \"\"\n                                          )}\n                                          {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"audio\" ? (\n                                            chatMessage.is_user_needs_pay ===\n                                            1 ? (\n                                              <Image\n                                                src={chatMessage.chat_asset_url}\n                                                className=\"chat-view-image\"\n                                              ></Image>\n                                            ) : (\n                                              <ReactAudioPlayer\n                                                src={chatMessage.chat_asset_url}\n                                                controls={true}\n                                                width=\"450px\"\n                                                height=\"450px\"\n                                                className=\"chat-room-audio-display\"\n                                                autoPlay={false}\n                                                controlsList={\"nodownload\"}\n                                              />\n                                              // <ReactPlayer\n                                              //   url={chatMessage.chat_asset_url}\n                                              //   controls={true}\n                                              //   width=\"450px\"\n                                              //   height=\"450px\"\n                                              //   className=\"chat-room-audio-display\"\n                                              // />\n                                            )\n                                          ) : (\n                                            \"\"\n                                          )}\n\n                                          {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                            <div className=\"gallery-top-btn-sec chat-room-pay-display\">\n                                              <Button\n                                                className=\"subscribe-post-btn-sec\"\n                                                onClick={(event) =>\n                                                  handleAssetPayment(\n                                                    event,\n                                                    chatMessage.chat_message_id,\n                                                    chatMessage.amount,\n                                                    chatMessage.amount_formatted\n                                                  )\n                                                }\n                                              >\n                                                {chatMessage.payment_text}\n                                              </Button>\n                                            </div>\n                                          ) : (\n                                            \"\"\n                                          )}\n                                        </div>\n                                        {chatMessage.message == \"\" ? null : (\n                                          <>\n                                            <p>\n                                              {\n                                                props.chatMessages.data.user\n                                                  .name\n                                              }\n                                              , {chatMessage.created}\n                                            </p>\n                                            <h6>{chatMessage.message}</h6>\n                                          </>\n                                        )}\n                                      </div>\n                                    </div>\n                                  )}{\" \"}\n                                </>\n                              )\n                            )\n                          : \"\"}\n                      </div>\n                      {/* <p className=\"typing-text mt-5\">Jason Doyle is typing...</p> */}\n                    </div>\n                    <div className=\"user-chat-main-wrapper-footer\">\n                      <Form\n                        id=\"chat_post_form\"\n                        className=\"has-advanced-upload\"\n                        onSubmit={handleChatSubmit}\n                      >\n                        <InputGroup hasValidation>\n                          <FormControl\n                            placeholder=\"Type a message\"\n                            aria-label=\"Type a message\"\n                            aria-describedby=\"basic-addon2\"\n                            value={inputMessage}\n                            onChange={(event) => {\n                              chatInputChange(event.currentTarget.value);\n                            }}\n                          />\n                          <div className=\"chat-icon-sec\">\n                            {configuration.get(\n                              \"configData.is_chat_asset_enabled\"\n                            ) == 1 ? (\n                              <>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-needed border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"image\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/picture.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"video\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/movie.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"audio\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/audio.png\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                              </>\n                            ) : (\n                              \"\"\n                            )}\n                            <InputGroup.Append>\n                              <InputGroup.Text\n                                id=\"basic-addon2\"\n                                className=\"position-relative last-child-mobile-icon chat-border-zero\"\n                              >\n                                <Button\n                                  type=\"button\"\n                                  className=\"space-between-evenly\"\n                                  data-can_send=\"true\"\n                                  onClick={handleChatSubmit}\n                                  ref={invalidMessageRef}\n                                >\n                                  {/* <i class=\"far fa-paper-plane\"></i> */}\n                                  <Image\n                                    className=\"comment-send-icon\"\n                                    src={\n                                      window.location.origin +\n                                      \"/assets/images/icons/comment-send-icon.png\"\n                                    }\n                                  />\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                            <InputGroup.Append>\n                              <InputGroup.Text>\n                                <Overlay\n                                  target={invalidMessageRef}\n                                  show={emptyMessageCheck}\n                                  placement=\"top\"\n                                >\n                                  {(props) => (\n                                    <Tooltip id=\"chat-invalid\" {...props}>\n                                      Please type a message\n                                    </Tooltip>\n                                  )}\n                                </Overlay>\n                                <Button\n                                  className=\"ml-2\"\n                                  type=\"button\"\n                                  onClick={triggerPicker}\n                                >\n                                  <i class=\"far fa-smile\"></i>\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                          </div>\n                        </InputGroup>\n                      </Form>\n                    </div>\n                    {emojiPickerState && (\n                      <div className=\"emojiWrapper chat-emoji\">\n                        <Picker\n                          title=\"\"\n                          emoji=\"point_up\"\n                          onSelect={(emoji) => handleEmojiSelect(emoji)}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <InboxNoDataFound />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Container>\n        <ChatAssetModal\n          chatAssetUpload={chatAssetUpload}\n          closeChatAssetUploadModal={closeChatAssetUploadModal}\n          fileType={fileType}\n          toUserId={toUserId}\n        />\n        {props.chatMessages.loading ? (\n          t(\"loading\")\n        ) : (\n          <AssetPaymentModal\n            chatPayment={chatPayment}\n            closePaymentModal={closePaymentModal}\n            paymentData={paymentData}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  chatUsers: state.chat.chatUsers,\n  chatMessages: state.chat.messages,\n  assetUpload: state.chatAsset.saveAssetUpload,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UserChatMobileRoom));\n"]},"metadata":{},"sourceType":"module"}