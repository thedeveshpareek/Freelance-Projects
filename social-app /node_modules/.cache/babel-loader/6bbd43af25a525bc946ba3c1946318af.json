{"ast":null,"code":"import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchCategoriesAPI),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(updateCategoryAPI),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(fetchCategoryUsersAPI),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(followCategoryAPI),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(pageSaga);import{call,select,put,takeLatest,all}from\"redux-saga/effects\";import api from\"../../Environment\";import{FETCH_CATEGORIES_START,FETCH_CATEGORY_USERS_START,FOLLOW_CATEGORY_START,UPDATE_CATEGORY_START}from\"../actions/ActionConstant\";import{createNotification}from\"react-redux-notify\";import{getSuccessNotificationMessage,getErrorNotificationMessage}from\"../../components/helper/NotificationMessage\";import{fetchCategoriesFailure,fetchCategoriesSuccess,fetchCategoryUsersFailure,fetchCategoryUsersSuccess,followCategoryFailure,followCategorySuccess,updateCategoryFailure,updateCategorySuccess}from\"../actions/CategoryAction\";import{checkLogoutStatus}from\"../actions/ErrorAction\";function fetchCategoriesAPI(){var response,notificationMessage,_notificationMessage;return _regeneratorRuntime.wrap(function fetchCategoriesAPI$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.postMethod(\"u_categories_list\");case 3:response=_context.sent;if(!response.data.success){_context.next=9;break;}_context.next=7;return put(fetchCategoriesSuccess(response.data.data));case 7:_context.next=16;break;case 9:_context.next=11;return put(fetchCategoriesFailure(response.data.error));case 11:notificationMessage=getErrorNotificationMessage(response.data.error);_context.next=14;return put(checkLogoutStatus(response.data));case 14:_context.next=16;return put(createNotification(notificationMessage));case 16:_context.next=25;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);_context.next=22;return put(fetchCategoriesFailure(_context.t0));case 22:_notificationMessage=getErrorNotificationMessage(_context.t0.message);_context.next=25;return put(createNotification(_notificationMessage));case 25:case\"end\":return _context.stop();}}},_marked,null,[[0,18]]);}function updateCategoryAPI(){var inputData,response,notificationMessage,_notificationMessage2,_notificationMessage3;return _regeneratorRuntime.wrap(function updateCategoryAPI$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return select(function(state){return state.post.updateCategory.inputData;});case 3:inputData=_context2.sent;_context2.next=6;return api.postMethod(\"posts_save_for_owner\",inputData);case 6:response=_context2.sent;if(!response.data.success){_context2.next=15;break;}_context2.next=10;return put(updateCategorySuccess(response.data.data));case 10:notificationMessage=getSuccessNotificationMessage(response.data.message);_context2.next=13;return put(createNotification(notificationMessage));case 13:_context2.next=22;break;case 15:_context2.next=17;return put(updateCategoryFailure(response.data.error));case 17:_notificationMessage2=getErrorNotificationMessage(response.data.error);_context2.next=20;return put(checkLogoutStatus(response.data));case 20:_context2.next=22;return put(createNotification(_notificationMessage2));case 22:_context2.next=31;break;case 24:_context2.prev=24;_context2.t0=_context2[\"catch\"](0);_context2.next=28;return put(updateCategoryFailure(_context2.t0));case 28:_notificationMessage3=getErrorNotificationMessage(_context2.t0.message);_context2.next=31;return put(createNotification(_notificationMessage3));case 31:case\"end\":return _context2.stop();}}},_marked2,null,[[0,24]]);}function fetchCategoryUsersAPI(){var inputData,response,notificationMessage,_notificationMessage4;return _regeneratorRuntime.wrap(function fetchCategoryUsersAPI$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return select(function(state){return state.category.categoryUsers.inputData;});case 3:inputData=_context3.sent;_context3.next=6;return api.postMethod(\"u_categories_view\",inputData);case 6:response=_context3.sent;if(!response.data.success){_context3.next=12;break;}_context3.next=10;return put(fetchCategoryUsersSuccess(response.data.data));case 10:_context3.next=19;break;case 12:_context3.next=14;return put(fetchCategoryUsersFailure(response.data.error));case 14:notificationMessage=getErrorNotificationMessage(response.data.error);_context3.next=17;return put(checkLogoutStatus(response.data));case 17:_context3.next=19;return put(createNotification(notificationMessage));case 19:_context3.next=28;break;case 21:_context3.prev=21;_context3.t0=_context3[\"catch\"](0);_context3.next=25;return put(fetchCategoryUsersFailure(_context3.t0));case 25:_notificationMessage4=getErrorNotificationMessage(_context3.t0.message);_context3.next=28;return put(createNotification(_notificationMessage4));case 28:case\"end\":return _context3.stop();}}},_marked3,null,[[0,21]]);}function followCategoryAPI(){var inputData,response,notificationMessage,_notificationMessage5,_notificationMessage6;return _regeneratorRuntime.wrap(function followCategoryAPI$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return select(function(state){return state.post.delPost.inputData;});case 3:inputData=_context4.sent;_context4.next=6;return api.postMethod(\"posts_delete_for_owner\",inputData);case 6:response=_context4.sent;if(!response.data.success){_context4.next=16;break;}_context4.next=10;return put(followCategorySuccess(response.data.data));case 10:notificationMessage=getSuccessNotificationMessage(response.data.message);_context4.next=13;return put(createNotification(notificationMessage));case 13:window.location.assign(\"/profile\");_context4.next=23;break;case 16:_context4.next=18;return put(followCategoryFailure(response.data.error));case 18:_notificationMessage5=getErrorNotificationMessage(response.data.error);_context4.next=21;return put(checkLogoutStatus(response.data));case 21:_context4.next=23;return put(createNotification(_notificationMessage5));case 23:_context4.next=32;break;case 25:_context4.prev=25;_context4.t0=_context4[\"catch\"](0);_context4.next=29;return put(followCategoryFailure(_context4.t0));case 29:_notificationMessage6=getErrorNotificationMessage(_context4.t0.message);_context4.next=32;return put(createNotification(_notificationMessage6));case 32:case\"end\":return _context4.stop();}}},_marked4,null,[[0,25]]);}export default function pageSaga(){return _regeneratorRuntime.wrap(function pageSaga$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=all;_context5.next=3;return takeLatest(FETCH_CATEGORIES_START,fetchCategoriesAPI);case 3:_context5.t1=_context5.sent;_context5.t2=[_context5.t1];_context5.next=7;return(0,_context5.t0)(_context5.t2);case 7:_context5.t3=all;_context5.next=10;return takeLatest(UPDATE_CATEGORY_START,updateCategoryAPI);case 10:_context5.t4=_context5.sent;_context5.t5=[_context5.t4];_context5.next=14;return(0,_context5.t3)(_context5.t5);case 14:_context5.t6=all;_context5.next=17;return takeLatest(FETCH_CATEGORY_USERS_START,fetchCategoryUsersAPI);case 17:_context5.t7=_context5.sent;_context5.t8=[_context5.t7];_context5.next=21;return(0,_context5.t6)(_context5.t8);case 21:_context5.t9=all;_context5.next=24;return takeLatest(FOLLOW_CATEGORY_START,followCategoryAPI);case 24:_context5.t10=_context5.sent;_context5.t11=[_context5.t10];_context5.next=28;return(0,_context5.t9)(_context5.t11);case 28:case\"end\":return _context5.stop();}}},_marked5);}","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/store/sagas/CategorySaga.jsx"],"names":["fetchCategoriesAPI","updateCategoryAPI","fetchCategoryUsersAPI","followCategoryAPI","pageSaga","call","select","put","takeLatest","all","api","FETCH_CATEGORIES_START","FETCH_CATEGORY_USERS_START","FOLLOW_CATEGORY_START","UPDATE_CATEGORY_START","createNotification","getSuccessNotificationMessage","getErrorNotificationMessage","fetchCategoriesFailure","fetchCategoriesSuccess","fetchCategoryUsersFailure","fetchCategoryUsersSuccess","followCategoryFailure","followCategorySuccess","updateCategoryFailure","updateCategorySuccess","checkLogoutStatus","postMethod","response","data","success","error","notificationMessage","message","state","post","updateCategory","inputData","category","categoryUsers","delPost","window","location","assign"],"mappings":"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","sourcesContent":["import { call, select, put, takeLatest, all } from \"redux-saga/effects\";\nimport api from \"../../Environment\";\nimport {\n  FETCH_CATEGORIES_START,\n  FETCH_CATEGORY_USERS_START,\n  FOLLOW_CATEGORY_START,\n  UPDATE_CATEGORY_START,\n} from \"../actions/ActionConstant\";\nimport { createNotification } from \"react-redux-notify\";\nimport {\n  getSuccessNotificationMessage,\n  getErrorNotificationMessage,\n} from \"../../components/helper/NotificationMessage\";\nimport {\n  fetchCategoriesFailure,\n  fetchCategoriesSuccess,\n  fetchCategoryUsersFailure,\n  fetchCategoryUsersSuccess,\n  followCategoryFailure,\n  followCategorySuccess,\n  updateCategoryFailure,\n  updateCategorySuccess,\n} from \"../actions/CategoryAction\";\n\nimport {\n  checkLogoutStatus,\n} from \"../actions/ErrorAction\";\n\nfunction* fetchCategoriesAPI() {\n  try {\n    const response = yield api.postMethod(\"u_categories_list\");\n    if (response.data.success) {\n      yield put(fetchCategoriesSuccess(response.data.data));\n    } else {\n      yield put(fetchCategoriesFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(fetchCategoriesFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\nfunction* updateCategoryAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.post.updateCategory.inputData\n    );\n\n    const response = yield api.postMethod(\"posts_save_for_owner\", inputData);\n    if (response.data.success) {\n      yield put(updateCategorySuccess(response.data.data));\n      const notificationMessage = getSuccessNotificationMessage(\n        response.data.message\n      );\n      yield put(createNotification(notificationMessage));\n    } else {\n      yield put(updateCategoryFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(updateCategoryFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* fetchCategoryUsersAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.category.categoryUsers.inputData\n    );\n    const response = yield api.postMethod(\"u_categories_view\", inputData);\n    if (response.data.success) {\n      yield put(fetchCategoryUsersSuccess(response.data.data));\n    } else {\n      yield put(fetchCategoryUsersFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(fetchCategoryUsersFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* followCategoryAPI() {\n  try {\n    const inputData = yield select((state) => state.post.delPost.inputData);\n    const response = yield api.postMethod(\"posts_delete_for_owner\", inputData);\n    if (response.data.success) {\n      yield put(followCategorySuccess(response.data.data));\n      const notificationMessage = getSuccessNotificationMessage(\n        response.data.message\n      );\n      yield put(createNotification(notificationMessage));\n      window.location.assign(\"/profile\");\n    } else {\n      yield put(followCategoryFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(followCategoryFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nexport default function* pageSaga() {\n  yield all([yield takeLatest(FETCH_CATEGORIES_START, fetchCategoriesAPI)]);\n  yield all([yield takeLatest(UPDATE_CATEGORY_START, updateCategoryAPI)]);\n  yield all([\n    yield takeLatest(FETCH_CATEGORY_USERS_START, fetchCategoryUsersAPI),\n  ]);\n  yield all([yield takeLatest(FOLLOW_CATEGORY_START, followCategoryAPI)]);\n}\n"]},"metadata":{},"sourceType":"module"}