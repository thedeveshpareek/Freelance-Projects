{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useEffect}from\"react\";import{Media,Image,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import Slider from\"react-slick\";import StoriesSliderModal from\"./StoriesSliderModal\";import{fetchStoriesStart}from\"../../store/actions/StoriesAction\";import{connect}from\"react-redux\";import StoryUploadModal from\"./StoryUploadModal\";import StorySliderLoader from\"../Loader/StorySliderLoader\";var $=window.$;var StorySlider=function StorySlider(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),renderSliderModal=_useState2[0],setRenderSliderModal=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),selectedSliderIndex=_useState4[0],setSelectedSliderIndex=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),sliderData=_useState6[0],setSliderData=_useState6[1];var settings={dots:false,infinite:false,speed:500,responsive:[{breakpoint:2048,settings:{slidesToShow:9.5,slidesToScroll:3}},{breakpoint:1920,settings:{slidesToShow:9.5,slidesToScroll:3}},{breakpoint:1200,settings:{slidesToShow:8,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:6,slidesToScroll:2}},{breakpoint:991,settings:{slidesToShow:5.5,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:767,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:576,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:376,settings:{slidesToShow:1.75,slidesToScroll:1}}]};var SliderModalToggle=function SliderModalToggle(status,index,story){setRenderSliderModal(status);setSelectedSliderIndex(index);setSliderData(story);};useEffect(function(){props.dispatch(fetchStoriesStart());},[]);useEffect(function(){if(SliderModalToggle){$(\"#storiesSliderModal\").modal(\"show\");}else{$(\"#storiesSliderModal\").modal(\"hide\");}},[renderSliderModal]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"story-slider-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},props.userStories.loading?/*#__PURE__*/React.createElement(StorySliderLoader,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Slider,settings,/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-card-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-slider-card \",\"data-toggle\":\"modal\",\"data-target\":\"#addStoryModal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-slider-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:localStorage.getItem(\"user_picture\"),alt:\"\",className:\"story-slider-img\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"story-text\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Add Story\"))))),props.userStories.data.stories&&props.userStories.data.stories.length>0&&props.userStories.data.stories.map(function(story,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Media,{as:\"li\",onClick:function onClick(){return SliderModalToggle(true,index,story);},key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"story-card-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-slider-card\",\"data-toggle\":\"modal\",\"data-target\":\"#storiesSliderModal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-slider-img-sec\",key:index},/*#__PURE__*/React.createElement(Image,{src:story.picture,alt:\"\",className:\"story-slider-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"story-text\"},/*#__PURE__*/React.createElement(\"h4\",null,story.name))))));})))),renderSliderModal&&!props.userStories.loading&&/*#__PURE__*/React.createElement(StoriesSliderModal,{SliderModalToggle:SliderModalToggle,selectedSliderIndex:selectedSliderIndex,sliderData:sliderData,data:props.userStories.data.stories.filter(function(files){return files.storyFiles.length>0;}),renderSliderModal:renderSliderModal}),/*#__PURE__*/React.createElement(StoryUploadModal,null)));};var mapStateToPros=function mapStateToPros(state){return{userStories:state.userStories.stories};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(StorySlider);","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Home/StorySlider.jsx"],"names":["React","useState","useEffect","Media","Image","Button","Link","Slider","StoriesSliderModal","fetchStoriesStart","connect","StoryUploadModal","StorySliderLoader","$","window","StorySlider","props","renderSliderModal","setRenderSliderModal","selectedSliderIndex","setSelectedSliderIndex","sliderData","setSliderData","settings","dots","infinite","speed","responsive","breakpoint","slidesToShow","slidesToScroll","SliderModalToggle","status","index","story","dispatch","modal","userStories","loading","localStorage","getItem","data","stories","length","map","picture","name","filter","files","storyFiles","mapStateToPros","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Media, Image, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Slider from \"react-slick\";\nimport StoriesSliderModal from \"./StoriesSliderModal\";\nimport { fetchStoriesStart } from \"../../store/actions/StoriesAction\";\nimport { connect } from \"react-redux\";\nimport StoryUploadModal from \"./StoryUploadModal\";\nimport StorySliderLoader from \"../Loader/StorySliderLoader\";\n\nconst $ = window.$;\n\nconst StorySlider = (props) => {\n  const [renderSliderModal, setRenderSliderModal] = useState(false);\n\n  const [selectedSliderIndex, setSelectedSliderIndex] = useState(0);\n\n  const [sliderData, setSliderData] = useState({});\n  \n  var settings = {\n    dots: false,\n    infinite: false,\n    speed: 500,\n    responsive: [\n      {\n        breakpoint: 2048,\n        settings: {\n          slidesToShow: 9.5,\n          slidesToScroll: 3,\n        },\n      },\n      {\n        breakpoint: 1920,\n        settings: {\n          slidesToShow: 9.5,\n          slidesToScroll: 3,\n        },\n      },\n      {\n        breakpoint: 1200,\n        settings: {\n          slidesToShow: 8,\n          slidesToScroll: 3,\n        },\n      },\n      {\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 6,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 991,\n        settings: {\n          slidesToShow: 5.5,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 768,\n        settings: {\n          slidesToShow: 5,\n          slidesToScroll: 2,\n        },\n      },\n      {\n        breakpoint: 767,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n        },\n      },\n      {\n        breakpoint: 576,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n        },\n      },\n      {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n        },\n      },\n      {\n        breakpoint: 376,\n        settings: {\n          slidesToShow: 1.75,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n  };\n\n  const SliderModalToggle = (status, index,story) => {\n    setRenderSliderModal(status);\n    setSelectedSliderIndex(index);\n    setSliderData(story);\n  };\n\n  useEffect(() => {\n    props.dispatch(fetchStoriesStart());\n  }, []);\n\n  useEffect(() => {\n    if (SliderModalToggle) {\n      $(\"#storiesSliderModal\").modal(\"show\");\n    } else {\n      $(\"#storiesSliderModal\").modal(\"hide\");\n    }\n  }, [renderSliderModal]);\n\n  return (\n    <>\n      <div className=\"story-slider-sec\">\n        <div className=\"\">\n          {props.userStories.loading ? (\n            <StorySliderLoader />\n          ) : (\n            <>\n              <Slider {...settings}>\n                <Media as=\"li\">\n                  <div className=\"story-card-wrapper\">\n                    <div\n                      className=\"story-slider-card \"\n                      data-toggle=\"modal\"\n                      data-target=\"#addStoryModal\"\n                    >\n                      <div className=\"story-slider-img-sec\">\n                        <Image\n                          src={localStorage.getItem(\"user_picture\")}\n                          alt=\"\"\n                          className=\"story-slider-img\"\n                        />\n                        <i className=\"fas fa-plus\"></i>\n                      </div>\n                      <div className=\"story-text\">\n                        <h4>Add Story</h4>\n                      </div>\n                    </div>\n                  </div>\n                </Media>\n                {props.userStories.data.stories &&\n                  props.userStories.data.stories.length > 0 &&\n                  props.userStories.data.stories.map((story, index) => (\n                      <>\n                        <Media\n                          as=\"li\"\n                          onClick={() => SliderModalToggle(true, index,story)}\n                          key={index}\n                        >\n                          <div\n                            className=\"story-card-wrapper\"\n                          >\n                            <div className=\"story-slider-card\"\n                              data-toggle=\"modal\"\n                              data-target=\"#storiesSliderModal\">\n                              \n                              <div\n                                className=\"story-slider-img-sec\"\n                                key={index}\n                              >\n                                <Image\n                                  src={story.picture}\n                                  alt=\"\"\n                                  className=\"story-slider-img\"\n                                />\n                              </div>\n                             \n                              <div className=\"story-text\">\n                                <h4>{story.name}</h4>\n                              </div>\n                            </div>\n                          </div>\n                        </Media>\n                      </>\n                    ))}\n              </Slider>\n            </>\n          )}\n        </div>\n        {renderSliderModal && !props.userStories.loading && (\n          <StoriesSliderModal\n            SliderModalToggle={SliderModalToggle}\n            selectedSliderIndex={selectedSliderIndex}\n            sliderData={sliderData}\n            data={props.userStories.data.stories.filter(\n              (files) => files.storyFiles.length > 0\n            )}\n            renderSliderModal={renderSliderModal}\n          />\n        )}\n        <StoryUploadModal />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  userStories: state.userStories.stories,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(StorySlider);\n"]},"metadata":{},"sourceType":"module"}