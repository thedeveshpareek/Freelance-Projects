{"ast":null,"code":"import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{apiConstants}from\"./components/Constant/constants\";import{isAndroid,isIOS,isWindows,isMacOs,mobileModel,browserName,osName,mobileVendor,browserVersion}from\"react-device-detect\";var apiUrl=\"https://cms.onlyally.com/api/user/\";// Production Mode\n// const apiUrl = \"http://localhost:8000/api/user/\"; // Local Mode\nvar Environment={postMethod:function(){var _postMethod=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(action,object){var userId,accessToken,url,formData,socialLoginUser,key,device_model;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userId=localStorage.getItem(\"userId\")!==\"\"&&localStorage.getItem(\"userId\")!==null&&localStorage.getItem(\"userId\")!==undefined?localStorage.getItem(\"userId\"):\"\";accessToken=localStorage.getItem(\"accessToken\")!==\"\"&&localStorage.getItem(\"accessToken\")!==null&&localStorage.getItem(\"accessToken\")!==undefined?localStorage.getItem(\"accessToken\"):\"\";url=apiUrl+action;formData=new FormData();// By Default Id and token\nformData.append(\"id\",userId);formData.append(\"token\",accessToken);socialLoginUser=0;// append your data\nfor(key in object){formData.append(key,object[key]);if(key===\"social_unique_id\"){socialLoginUser=1;}}// By Default added device type and login type in future use\nif(!socialLoginUser){formData.append(\"login_by\",apiConstants.LOGIN_BY);}formData.append(\"device_type\",apiConstants.DEVICE_TYPE);formData.append(\"device_token\",apiConstants.DEVICE_TOKEN);device_model=\"\";if(isAndroid==true){device_model=mobileModel;}else if(isIOS==true){device_model=mobileModel;}else{device_model=browserName+' '+browserVersion;}formData.append(\"device_model\",device_model);_context.next=16;return axios.post(url,formData);case 16:return _context.abrupt(\"return\",_context.sent);case 17:case\"end\":return _context.stop();}}},_callee);}));function postMethod(_x,_x2){return _postMethod.apply(this,arguments);}return postMethod;}(),getMethod:function(){var _getMethod=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(action,object){var userId,accessToken,url,formData,key,device_model;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:userId=localStorage.getItem(\"userId\")!==\"\"&&localStorage.getItem(\"userId\")!==null&&localStorage.getItem(\"userId\")!==undefined?localStorage.getItem(\"userId\"):\"\";accessToken=localStorage.getItem(\"accessToken\")!==\"\"&&localStorage.getItem(\"accessToken\")!==null&&localStorage.getItem(\"accessToken\")!==undefined?localStorage.getItem(\"accessToken\"):\"\";url=apiUrl+action;formData=new FormData();// By Default Id and token\nformData.append(\"id\",userId);formData.append(\"token\",accessToken);// append your data\nfor(key in object){formData.append(key,object[key]);}// By Default added device type and login type in future use\nformData.append(\"login_by\",apiConstants.LOGIN_BY);formData.append(\"device_type\",apiConstants.DEVICE_TYPE);formData.append(\"device_token\",apiConstants.DEVICE_TOKEN);device_model=\"\";if(isAndroid==true){device_model=mobileModel;}else if(isIOS==true){device_model=mobileModel;}else{device_model=browserName+' '+browserVersion;}formData.append(\"device_model\",device_model);_context2.next=15;return axios.get(url,formData);case 15:return _context2.abrupt(\"return\",_context2.sent);case 16:case\"end\":return _context2.stop();}}},_callee2);}));function getMethod(_x3,_x4){return _getMethod.apply(this,arguments);}return getMethod;}()/*methods(action) {\n\n        const url = apiUrl+'/api/'+action;\n\n        return {\n            getOne: ({ id }) => axios.get(`${url}/${id}`),\n            getAll: (toGet) => axios.post(url, toGet),\n            update: (toUpdate) =>  axios.put(url,toUpdate),\n            create: (toCreate) =>  axios.put(url,toCreate),\n            delete: ({ id }) =>  axios.delete(`${url}/${id}`)\n        }\n    }*/};export default Environment;","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/Environment.jsx"],"names":["axios","apiConstants","isAndroid","isIOS","isWindows","isMacOs","mobileModel","browserName","osName","mobileVendor","browserVersion","apiUrl","Environment","postMethod","action","object","userId","localStorage","getItem","undefined","accessToken","url","formData","FormData","append","socialLoginUser","key","LOGIN_BY","DEVICE_TYPE","DEVICE_TOKEN","device_model","post","getMethod","get"],"mappings":"+UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,iCAA7B,CACA,OACEC,SADF,CAEEC,KAFF,CAGEC,SAHF,CAIEC,OAJF,CAKEC,WALF,CAMEC,WANF,CAOEC,MAPF,CAQEC,YARF,CASEC,cATF,KAUO,qBAVP,CAYA,GAAMC,CAAAA,MAAM,CAAG,oCAAf,CAAqD;AAErD;AAEA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,UAAU,oFAAE,iBAAOC,MAAP,CAAeC,MAAf,uLACNC,MADM,CAERC,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmC,EAAnC,EACAD,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmC,IADnC,EAEAD,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmCC,SAFnC,CAGIF,YAAY,CAACC,OAAb,CAAqB,QAArB,CAHJ,CAII,EANI,CAQNE,WARM,CASRH,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwC,EAAxC,EACAD,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwC,IADxC,EAEAD,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwCC,SAFxC,CAGIF,YAAY,CAACC,OAAb,CAAqB,aAArB,CAHJ,CAII,EAbI,CAeJG,GAfI,CAeEV,MAAM,CAAGG,MAfX,CAiBNQ,QAjBM,CAiBK,GAAIC,CAAAA,QAAJ,EAjBL,CAmBV;AAEAD,QAAQ,CAACE,MAAT,CAAgB,IAAhB,CAAsBR,MAAtB,EACAM,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBJ,WAAzB,EAEIK,eAxBM,CAwBY,CAxBZ,CA0BV;AACA,IAASC,GAAT,GAAgBX,CAAAA,MAAhB,CAAwB,CACtBO,QAAQ,CAACE,MAAT,CAAgBE,GAAhB,CAAqBX,MAAM,CAACW,GAAD,CAA3B,EAEA,GAAIA,GAAG,GAAK,kBAAZ,CAAgC,CAC9BD,eAAe,CAAG,CAAlB,CACD,CACF,CAED;AACA,GAAI,CAACA,eAAL,CAAsB,CACpBH,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BvB,YAAY,CAAC0B,QAAzC,EACD,CAEDL,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+BvB,YAAY,CAAC2B,WAA5C,EACAN,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAAgCvB,YAAY,CAAC4B,YAA7C,EAEIC,YA3CM,CA2CS,EA3CT,CA4CV,GAAG5B,SAAS,EAAE,IAAd,CAAmB,CACjB4B,YAAY,CAAGxB,WAAf,CACD,CAFD,IAEO,IAAGH,KAAK,EAAE,IAAV,CAAe,CACpB2B,YAAY,CAAGxB,WAAf,CACD,CAFM,IAEA,CACLwB,YAAY,CAAGvB,WAAW,CAAC,GAAZ,CAAgBG,cAA/B,CACD,CAEDY,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAA+BM,YAA/B,EApDU,uBAsDG9B,CAAAA,KAAK,CAAC+B,IAAN,CAAWV,GAAX,CAAgBC,QAAhB,CAtDH,+GAAF,8FADQ,CAmElBU,SAAS,mFAAE,kBAAOlB,MAAP,CAAeC,MAAf,2KACLC,MADK,CAEPC,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmC,EAAnC,EACAD,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmC,IADnC,EAEAD,YAAY,CAACC,OAAb,CAAqB,QAArB,IAAmCC,SAFnC,CAGIF,YAAY,CAACC,OAAb,CAAqB,QAArB,CAHJ,CAII,EANG,CAOLE,WAPK,CAQPH,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwC,EAAxC,EACAD,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwC,IADxC,EAEAD,YAAY,CAACC,OAAb,CAAqB,aAArB,IAAwCC,SAFxC,CAGIF,YAAY,CAACC,OAAb,CAAqB,aAArB,CAHJ,CAII,EAZG,CAcHG,GAdG,CAcGV,MAAM,CAAGG,MAdZ,CAgBLQ,QAhBK,CAgBM,GAAIC,CAAAA,QAAJ,EAhBN,CAkBT;AAEAD,QAAQ,CAACE,MAAT,CAAgB,IAAhB,CAAsBR,MAAtB,EACAM,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyBJ,WAAzB,EAEA;AACA,IAASM,GAAT,GAAgBX,CAAAA,MAAhB,CAAwB,CACtBO,QAAQ,CAACE,MAAT,CAAgBE,GAAhB,CAAqBX,MAAM,CAACW,GAAD,CAA3B,EACD,CAED;AAEAJ,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4BvB,YAAY,CAAC0B,QAAzC,EACAL,QAAQ,CAACE,MAAT,CAAgB,aAAhB,CAA+BvB,YAAY,CAAC2B,WAA5C,EACAN,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAAgCvB,YAAY,CAAC4B,YAA7C,EAEIC,YAlCK,CAkCU,EAlCV,CAmCT,GAAG5B,SAAS,EAAE,IAAd,CAAmB,CACjB4B,YAAY,CAAGxB,WAAf,CACD,CAFD,IAEO,IAAGH,KAAK,EAAE,IAAV,CAAe,CACpB2B,YAAY,CAAGxB,WAAf,CACD,CAFM,IAEA,CACLwB,YAAY,CAAGvB,WAAW,CAAC,GAAZ,CAAgBG,cAA/B,CACD,CAEDY,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAA+BM,YAA/B,EA3CS,wBA6CI9B,CAAAA,KAAK,CAACiC,GAAN,CAAUZ,GAAV,CAAeC,QAAf,CA7CJ,mHAAF,4FAgDT;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA9HoB,CAApB,CAiIA,cAAeV,CAAAA,WAAf","sourcesContent":["import axios from \"axios\";\nimport { apiConstants } from \"./components/Constant/constants\";\nimport {\n  isAndroid,\n  isIOS,\n  isWindows,\n  isMacOs,\n  mobileModel,\n  browserName,\n  osName,\n  mobileVendor,\n  browserVersion\n} from \"react-device-detect\";\n\nconst apiUrl = \"https://cms.onlyally.com/api/user/\"; // Production Mode\n\n// const apiUrl = \"http://localhost:8000/api/user/\"; // Local Mode\n\nconst Environment = {\n  postMethod: async (action, object) => {\n    let userId =\n      localStorage.getItem(\"userId\") !== \"\" &&\n      localStorage.getItem(\"userId\") !== null &&\n      localStorage.getItem(\"userId\") !== undefined\n        ? localStorage.getItem(\"userId\")\n        : \"\";\n\n    let accessToken =\n      localStorage.getItem(\"accessToken\") !== \"\" &&\n      localStorage.getItem(\"accessToken\") !== null &&\n      localStorage.getItem(\"accessToken\") !== undefined\n        ? localStorage.getItem(\"accessToken\")\n        : \"\";\n\n    const url = apiUrl + action;\n\n    let formData = new FormData();\n\n    // By Default Id and token\n\n    formData.append(\"id\", userId);\n    formData.append(\"token\", accessToken);\n\n    var socialLoginUser = 0;\n\n    // append your data\n    for (var key in object) {\n      formData.append(key, object[key]);\n\n      if (key === \"social_unique_id\") {\n        socialLoginUser = 1;\n      }\n    }\n\n    // By Default added device type and login type in future use\n    if (!socialLoginUser) {\n      formData.append(\"login_by\", apiConstants.LOGIN_BY);\n    }\n\n    formData.append(\"device_type\", apiConstants.DEVICE_TYPE);\n    formData.append(\"device_token\", apiConstants.DEVICE_TOKEN);\n    \n    var device_model = \"\";\n    if(isAndroid==true){\n      device_model = mobileModel;\n    } else if(isIOS==true){\n      device_model = mobileModel;\n    } else {\n      device_model = browserName+' '+browserVersion;\n    }\n\n    formData.append(\"device_model\",device_model);\n    \n    return await axios.post(url, formData);\n\n    // Progress bar\n    // {\n    //   onUploadProgress: (ProgressEvent) => {\n    //     console.log({\n    //       loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\n    //     });\n    //   },\n    // }\n  },\n\n  getMethod: async (action, object) => {\n    let userId =\n      localStorage.getItem(\"userId\") !== \"\" &&\n      localStorage.getItem(\"userId\") !== null &&\n      localStorage.getItem(\"userId\") !== undefined\n        ? localStorage.getItem(\"userId\")\n        : \"\";\n    let accessToken =\n      localStorage.getItem(\"accessToken\") !== \"\" &&\n      localStorage.getItem(\"accessToken\") !== null &&\n      localStorage.getItem(\"accessToken\") !== undefined\n        ? localStorage.getItem(\"accessToken\")\n        : \"\";\n\n    const url = apiUrl + action;\n\n    let formData = new FormData();\n\n    // By Default Id and token\n\n    formData.append(\"id\", userId);\n    formData.append(\"token\", accessToken);\n\n    // append your data\n    for (var key in object) {\n      formData.append(key, object[key]);\n    }\n\n    // By Default added device type and login type in future use\n\n    formData.append(\"login_by\", apiConstants.LOGIN_BY);\n    formData.append(\"device_type\", apiConstants.DEVICE_TYPE);\n    formData.append(\"device_token\", apiConstants.DEVICE_TOKEN);\n\n    var device_model = \"\";\n    if(isAndroid==true){\n      device_model = mobileModel;\n    } else if(isIOS==true){\n      device_model = mobileModel;\n    } else {\n      device_model = browserName+' '+browserVersion;\n    }\n\n    formData.append(\"device_model\",device_model);\n\n    return await axios.get(url, formData);\n  },\n\n  /*methods(action) {\n\n        const url = apiUrl+'/api/'+action;\n\n        return {\n            getOne: ({ id }) => axios.get(`${url}/${id}`),\n            getAll: (toGet) => axios.post(url, toGet),\n            update: (toUpdate) =>  axios.put(url,toUpdate),\n            create: (toCreate) =>  axios.put(url,toCreate),\n            delete: ({ id }) =>  axios.delete(`${url}/${id}`)\n        }\n    }*/\n};\n\nexport default Environment;\n"]},"metadata":{},"sourceType":"module"}