{"ast":null,"code":"import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(logoutStatusCheck),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(pageSaga);import{call,select,put,takeLatest,all}from\"redux-saga/effects\";import{ERROR_LOGOUT_CHECK}from\"../actions/ActionConstant\";import{createNotification}from\"react-redux-notify\";import{getSuccessNotificationMessage,getErrorNotificationMessage}from\"../../components/helper/NotificationMessage\";var erroCode=[1000,1001,1002,1003,1004,1005,1006,1007];function logoutStatusCheck(){var inputData,notificationMessage;return _regeneratorRuntime.wrap(function logoutStatusCheck$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return select(function(state){return state.errorDetails.error;});case 3:inputData=_context.sent;console.log(\"Error Check statrted\",inputData);if(!(erroCode.indexOf(inputData.error_code)!==-1)){_context.next=31;break;}console.log(\"Error Check true\");localStorage.removeItem(\"accessToken\");localStorage.removeItem(\"userId\");localStorage.removeItem(\"userLoginStatus\");localStorage.removeItem(\"user_picture\");localStorage.removeItem(\"username\");localStorage.removeItem(\"socket\");localStorage.removeItem(\"user_cover\");localStorage.removeItem(\"name\");localStorage.removeItem(\"user_unique_id\");localStorage.removeItem(\"is_document_verified\");localStorage.removeItem(\"is_verified_badge\");localStorage.removeItem(\"is_two_step_auth_enabled\");localStorage.removeItem(\"is_content_creator\");localStorage.removeItem(\"default_payment_method\");localStorage.removeItem(\"emailId\");localStorage.removeItem(\"total_followers\");localStorage.removeItem(\"total_followings\");localStorage.removeItem(\"is_subscription_enabled\");notificationMessage=getErrorNotificationMessage(inputData.error);_context.next=28;return put(createNotification(notificationMessage));case 28:setTimeout(function(){window.location.assign(\"/\");},300);_context.next=32;break;case 31:console.log(\"Error Check false\");//   const notificationMessage = getErrorNotificationMessage(\n//     response.data.error\n//   );\n//   yield put(createNotification(notificationMessage));\ncase 32:_context.next=37;break;case 34:_context.prev=34;_context.t0=_context[\"catch\"](0);console.log(\"Error Check false\",_context.t0);// const notificationMessage = getErrorNotificationMessage(error.message);\n// yield put(createNotification(notificationMessage));\ncase 37:case\"end\":return _context.stop();}}},_marked,null,[[0,34]]);}export default function pageSaga(){return _regeneratorRuntime.wrap(function pageSaga$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=all;_context2.next=3;return takeLatest(ERROR_LOGOUT_CHECK,logoutStatusCheck);case 3:_context2.t1=_context2.sent;_context2.t2=[_context2.t1];_context2.next=7;return(0,_context2.t0)(_context2.t2);case 7:case\"end\":return _context2.stop();}}},_marked2);}","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/store/sagas/ErrorSaga.jsx"],"names":["logoutStatusCheck","pageSaga","call","select","put","takeLatest","all","ERROR_LOGOUT_CHECK","createNotification","getSuccessNotificationMessage","getErrorNotificationMessage","erroCode","state","errorDetails","error","inputData","console","log","indexOf","error_code","localStorage","removeItem","notificationMessage","setTimeout","window","location","assign"],"mappings":"kNAUUA,iB,iDA2CeC,Q,EArDzB,OAASC,IAAT,CAAeC,MAAf,CAAuBC,GAAvB,CAA4BC,UAA5B,CAAwCC,GAAxC,KAAmD,oBAAnD,CACA,OAASC,kBAAT,KAAmC,2BAAnC,CACA,OAASC,kBAAT,KAAmC,oBAAnC,CACA,OACEC,6BADF,CAEEC,2BAFF,KAGO,6CAHP,CAKA,GAAMC,CAAAA,QAAQ,CAAG,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAmB,IAAnB,CAAyB,IAAzB,CAA+B,IAA/B,CAAqC,IAArC,CAA2C,IAA3C,CAAjB,CAEA,QAAUX,CAAAA,iBAAV,+LAEsB,MAAMG,CAAAA,MAAM,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACC,YAAN,CAAmBC,KAA9B,EAAD,CAAZ,CAFtB,OAEUC,SAFV,eAGIC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCF,SAApC,EAHJ,KAIQJ,QAAQ,CAACO,OAAT,CAAiBH,SAAS,CAACI,UAA3B,IAA2C,CAAC,CAJpD,2BAKMH,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAG,YAAY,CAACC,UAAb,CAAwB,aAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,iBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,cAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,UAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,YAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,MAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,gBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,sBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,mBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,0BAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,oBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,wBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,SAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,iBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,kBAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,yBAAxB,EACMC,mBAxBZ,CAwBkCZ,2BAA2B,CAACK,SAAS,CAACD,KAAX,CAxB7D,kBAyBM,MAAMV,CAAAA,GAAG,CAACI,kBAAkB,CAACc,mBAAD,CAAnB,CAAT,CAzBN,QA0BMC,UAAU,CAAC,UAAM,CACfC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,GAAvB,EACD,CAFS,CAEP,GAFO,CAAV,CA1BN,+BA8BMV,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACA;AACA;AACA;AACA;AAlCN,yFAqCID,OAAO,CAACC,GAAR,CAAY,mBAAZ,cACA;AACA;AAvCJ,qEA2CA,cAAe,SAAUhB,CAAAA,QAAV,oIACPK,GADO,kBACF,MAAMD,CAAAA,UAAU,CAACE,kBAAD,CAAqBP,iBAArB,CAAhB,CADE,gFACb,qCADa","sourcesContent":["import { call, select, put, takeLatest, all } from \"redux-saga/effects\";\nimport { ERROR_LOGOUT_CHECK } from \"../actions/ActionConstant\";\nimport { createNotification } from \"react-redux-notify\";\nimport {\n  getSuccessNotificationMessage,\n  getErrorNotificationMessage,\n} from \"../../components/helper/NotificationMessage\";\n\nconst erroCode = [1000, 1001, 1002, 1003, 1004, 1005, 1006, 1007];\n\nfunction* logoutStatusCheck() {\n  try {\n    const inputData = yield select((state) => state.errorDetails.error);\n    console.log(\"Error Check statrted\", inputData);\n    if (erroCode.indexOf(inputData.error_code) !== -1) {\n      console.log(\"Error Check true\");\n      localStorage.removeItem(\"accessToken\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"userLoginStatus\");\n      localStorage.removeItem(\"user_picture\");\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"socket\");\n      localStorage.removeItem(\"user_cover\");\n      localStorage.removeItem(\"name\");\n      localStorage.removeItem(\"user_unique_id\");\n      localStorage.removeItem(\"is_document_verified\");\n      localStorage.removeItem(\"is_verified_badge\");\n      localStorage.removeItem(\"is_two_step_auth_enabled\");\n      localStorage.removeItem(\"is_content_creator\");\n      localStorage.removeItem(\"default_payment_method\");\n      localStorage.removeItem(\"emailId\");\n      localStorage.removeItem(\"total_followers\");\n      localStorage.removeItem(\"total_followings\");\n      localStorage.removeItem(\"is_subscription_enabled\");\n      const notificationMessage = getErrorNotificationMessage(inputData.error);\n      yield put(createNotification(notificationMessage));\n      setTimeout(() => {\n        window.location.assign(\"/\");\n      }, 300);\n    } else {\n      console.log(\"Error Check false\");\n      //   const notificationMessage = getErrorNotificationMessage(\n      //     response.data.error\n      //   );\n      //   yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    console.log(\"Error Check false\", error);\n    // const notificationMessage = getErrorNotificationMessage(error.message);\n    // yield put(createNotification(notificationMessage));\n  }\n}\n\nexport default function* pageSaga() {\n  yield all([yield takeLatest(ERROR_LOGOUT_CHECK, logoutStatusCheck)]);\n}\n"]},"metadata":{},"sourceType":"module"}