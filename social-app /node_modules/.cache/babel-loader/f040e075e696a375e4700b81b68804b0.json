{"ast":null,"code":"import _objectSpread from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchOtherUserProfileAPI),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(fetchOtherUserPostAPI),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(searchPostAPI),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(pageSaga);import{call,select,put,takeLatest,all}from\"redux-saga/effects\";import api from\"../../Environment\";import{createNotification}from\"react-redux-notify\";import{getSuccessNotificationMessage,getErrorNotificationMessage}from\"../../components/helper/NotificationMessage\";import{fetchSingleUserPostsFailure,fetchSingleUserPostsSuccess,fetchSingleUserProfileFailure,fetchSingleUserProfileSuccess,searchUserPostSuccess,searchUserPostFailure}from\"../actions/OtherUserAction\";import{FETCH_SINGLE_USER_POSTS_START,FETCH_SINGLE_USER_PROFILE_START,SEARCH_USER_POST_START}from\"../actions/ActionConstant\";import{checkLogoutStatus}from\"../actions/ErrorAction\";function fetchOtherUserProfileAPI(){var inputData,response,notificationMessage,_notificationMessage;return _regeneratorRuntime.wrap(function fetchOtherUserProfileAPI$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return select(function(state){return state.otherUser.userDetails.inputData;});case 3:inputData=_context.sent;if(inputData.user_unique_id==localStorage.getItem(\"user_unique_id\")){window.location.assign(\"/profile\");}_context.next=7;return api.postMethod(\"other_profile\",inputData);case 7:response=_context.sent;if(!response.data.success){_context.next=13;break;}_context.next=11;return put(fetchSingleUserProfileSuccess(response.data.data));case 11:_context.next=21;break;case 13:_context.next=15;return put(fetchSingleUserProfileFailure(response.data.error));case 15:notificationMessage=getErrorNotificationMessage(response.data.error);_context.next=18;return put(checkLogoutStatus(response.data));case 18:_context.next=20;return put(createNotification(notificationMessage));case 20:window.location.assign(\"/home\");case 21:_context.next=30;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](0);_context.next=27;return put(fetchSingleUserProfileFailure(_context.t0));case 27:_notificationMessage=getErrorNotificationMessage(_context.t0.message);_context.next=30;return put(createNotification(_notificationMessage));case 30:case\"end\":return _context.stop();}}},_marked,null,[[0,23]]);}function fetchOtherUserPostAPI(){var inputData,skipCount,response,notificationMessage,_notificationMessage2;return _regeneratorRuntime.wrap(function fetchOtherUserPostAPI$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return select(function(state){return state.otherUser.userPosts.inputData;});case 3:inputData=_context2.sent;_context2.next=6;return select(function(state){return state.otherUser.userPosts.skip;});case 6:skipCount=_context2.sent;_context2.next=9;return api.postMethod(\"other_profile_posts\",_objectSpread(_objectSpread({},inputData),{},{skip:skipCount}));case 9:response=_context2.sent;if(!response.data.success){_context2.next=15;break;}_context2.next=13;return put(fetchSingleUserPostsSuccess(response.data.data));case 13:_context2.next=22;break;case 15:_context2.next=17;return put(fetchSingleUserPostsFailure(response.data.error));case 17:notificationMessage=getErrorNotificationMessage(response.data.error);_context2.next=20;return put(checkLogoutStatus(response.data));case 20:_context2.next=22;return put(createNotification(notificationMessage));case 22:_context2.next=31;break;case 24:_context2.prev=24;_context2.t0=_context2[\"catch\"](0);_context2.next=28;return put(fetchSingleUserPostsFailure(_context2.t0));case 28:_notificationMessage2=getErrorNotificationMessage(_context2.t0.message);_context2.next=31;return put(createNotification(_notificationMessage2));case 31:case\"end\":return _context2.stop();}}},_marked2,null,[[0,24]]);}function searchPostAPI(){var inputData,response,notificationMessage,_notificationMessage3;return _regeneratorRuntime.wrap(function searchPostAPI$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return select(function(state){return state.otherUser.searchPosts.inputData;});case 3:inputData=_context3.sent;_context3.next=6;return api.postMethod(\"posts_search\",inputData);case 6:response=_context3.sent;if(!response.data.success){_context3.next=12;break;}_context3.next=10;return put(fetchSingleUserPostsSuccess(response.data.data));case 10:_context3.next=17;break;case 12:_context3.next=14;return put(searchUserPostFailure(response.data.error));case 14:notificationMessage=getErrorNotificationMessage(response.data.error);_context3.next=17;return put(createNotification(notificationMessage));case 17:_context3.next=26;break;case 19:_context3.prev=19;_context3.t0=_context3[\"catch\"](0);_context3.next=23;return put(searchUserPostFailure(_context3.t0));case 23:_notificationMessage3=getErrorNotificationMessage(_context3.t0.message);_context3.next=26;return put(createNotification(_notificationMessage3));case 26:case\"end\":return _context3.stop();}}},_marked3,null,[[0,19]]);}export default function pageSaga(){return _regeneratorRuntime.wrap(function pageSaga$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.t0=all;_context4.next=3;return takeLatest(FETCH_SINGLE_USER_PROFILE_START,fetchOtherUserProfileAPI);case 3:_context4.t1=_context4.sent;_context4.t2=[_context4.t1];_context4.next=7;return(0,_context4.t0)(_context4.t2);case 7:_context4.t3=all;_context4.next=10;return takeLatest(FETCH_SINGLE_USER_POSTS_START,fetchOtherUserPostAPI);case 10:_context4.t4=_context4.sent;_context4.t5=[_context4.t4];_context4.next=14;return(0,_context4.t3)(_context4.t5);case 14:_context4.t6=all;_context4.next=17;return takeLatest(SEARCH_USER_POST_START,searchPostAPI);case 17:_context4.t7=_context4.sent;_context4.t8=[_context4.t7];_context4.next=21;return(0,_context4.t6)(_context4.t8);case 21:case\"end\":return _context4.stop();}}},_marked4);}","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/store/sagas/OtherUserSaga.jsx"],"names":["fetchOtherUserProfileAPI","fetchOtherUserPostAPI","searchPostAPI","pageSaga","call","select","put","takeLatest","all","api","createNotification","getSuccessNotificationMessage","getErrorNotificationMessage","fetchSingleUserPostsFailure","fetchSingleUserPostsSuccess","fetchSingleUserProfileFailure","fetchSingleUserProfileSuccess","searchUserPostSuccess","searchUserPostFailure","FETCH_SINGLE_USER_POSTS_START","FETCH_SINGLE_USER_PROFILE_START","SEARCH_USER_POST_START","checkLogoutStatus","state","otherUser","userDetails","inputData","user_unique_id","localStorage","getItem","window","location","assign","postMethod","response","data","success","error","notificationMessage","message","userPosts","skip","skipCount","searchPosts"],"mappings":"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","sourcesContent":["import { call, select, put, takeLatest, all } from \"redux-saga/effects\";\nimport api from \"../../Environment\";\nimport { createNotification } from \"react-redux-notify\";\nimport {\n  getSuccessNotificationMessage,\n  getErrorNotificationMessage,\n} from \"../../components/helper/NotificationMessage\";\nimport {\n  fetchSingleUserPostsFailure,\n  fetchSingleUserPostsSuccess,\n  fetchSingleUserProfileFailure,\n  fetchSingleUserProfileSuccess,\n  searchUserPostSuccess,\n  searchUserPostFailure,\n} from \"../actions/OtherUserAction\";\nimport {\n  FETCH_SINGLE_USER_POSTS_START,\n  FETCH_SINGLE_USER_PROFILE_START,\n  SEARCH_USER_POST_START,\n} from \"../actions/ActionConstant\";\n\nimport {\n  checkLogoutStatus,\n} from \"../actions/ErrorAction\";\n\nfunction* fetchOtherUserProfileAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.otherUser.userDetails.inputData\n    );\n    if (inputData.user_unique_id == localStorage.getItem(\"user_unique_id\")) {\n      window.location.assign(\"/profile\");\n    }\n    const response = yield api.postMethod(\"other_profile\", inputData);\n    if (response.data.success) {\n      yield put(fetchSingleUserProfileSuccess(response.data.data));\n    } else {\n      yield put(fetchSingleUserProfileFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n      window.location.assign(\"/home\");\n    }\n  } catch (error) {\n    yield put(fetchSingleUserProfileFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* fetchOtherUserPostAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.otherUser.userPosts.inputData\n    );\n    const skipCount = yield select((state) => state.otherUser.userPosts.skip);\n    const response = yield api.postMethod(\"other_profile_posts\", {\n      ...inputData,\n      skip: skipCount,\n    });\n    if (response.data.success) {\n      yield put(fetchSingleUserPostsSuccess(response.data.data));\n    } else {\n      yield put(fetchSingleUserPostsFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(fetchSingleUserPostsFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* searchPostAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.otherUser.searchPosts.inputData\n    );\n    const response = yield api.postMethod(\"posts_search\", inputData);\n    if (response.data.success) {\n      yield put(fetchSingleUserPostsSuccess(response.data.data));\n    } else {\n      yield put(searchUserPostFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(searchUserPostFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nexport default function* pageSaga() {\n  yield all([\n    yield takeLatest(FETCH_SINGLE_USER_PROFILE_START, fetchOtherUserProfileAPI),\n  ]);\n  yield all([\n    yield takeLatest(FETCH_SINGLE_USER_POSTS_START, fetchOtherUserPostAPI),\n  ]);\n\n  yield all([yield takeLatest(SEARCH_USER_POST_START, searchPostAPI)]);\n}\n"]},"metadata":{},"sourceType":"module"}