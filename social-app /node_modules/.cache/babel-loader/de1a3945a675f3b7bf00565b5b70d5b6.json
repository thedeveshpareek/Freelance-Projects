{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Tab,Image}from\"react-bootstrap\";import\"./Explore.css\";import{Link}from\"react-router-dom\";import{translate,t}from\"react-multi-lang\";import NoDataFound from\"../../NoDataFound/NoDataFound\";import{fetchUserStoriesStart}from\"../../../store/actions/StoriesAction\";import StoryCard from\"./StoryCard\";import ExploreLoader from\"../../Loader/ExploreLoader\";import{connect}from\"react-redux\";import useInfiniteScroll from\"../../helper/useInfiniteScroll\";var StoriesIndex=function StoriesIndex(props){useEffect(function(){props.dispatch(fetchUserStoriesStart());},[]);var fetchStoriesData=function fetchStoriesData(){setTimeout(function(){if(props.userStories.data.stories.length!==0){props.dispatch(fetchUserStoriesStart());setIsFetching(false);}else{setNoMoreData(true);}},3000);};var _useInfiniteScroll=useInfiniteScroll(fetchStoriesData),_useInfiniteScroll2=_slicedToArray(_useInfiniteScroll,2),isFetching=_useInfiniteScroll2[0],setIsFetching=_useInfiniteScroll2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),noMoreData=_useState2[0],setNoMoreData=_useState2[1];return/*#__PURE__*/React.createElement(\"div\",{className:\"explore-tab-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,{className:\"no-gutters\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-post-area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bookmarkes-list bookmarks-right-side resp-sapce-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pull-left\"},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title\",to:\"/home\"},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/icons/back.svg\",className:\"svg-clone\"}),t(\"stories\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\"},props.userStories.loading?/*#__PURE__*/React.createElement(ExploreLoader,null):props.userStories.data.stories&&props.userStories.data.stories.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-box\"},props.userStories.data.stories.map(function(story){return/*#__PURE__*/React.createElement(StoryCard,{story:story,key:story.story_id});})):/*#__PURE__*/React.createElement(NoDataFound,null),noMoreData!==true?/*#__PURE__*/React.createElement(React.Fragment,null,isFetching&&\"Fetching more list items...\"):t(\"no_more_data\")))));};var mapStateToPros=function mapStateToPros(state){return{userStories:state.userStories.userStories};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(StoriesIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Home/Stories/StoriesIndex.jsx"],"names":["React","useState","useEffect","Container","Row","Col","Tab","Image","Link","translate","t","NoDataFound","fetchUserStoriesStart","StoryCard","ExploreLoader","connect","useInfiniteScroll","StoriesIndex","props","dispatch","fetchStoriesData","setTimeout","userStories","data","stories","length","setIsFetching","setNoMoreData","isFetching","noMoreData","window","location","origin","loading","map","story","story_id","mapStateToPros","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport { Container, Row, Col, Tab, Image } from \"react-bootstrap\";\nimport \"./Explore.css\";\nimport { Link } from \"react-router-dom\";\nimport { translate, t } from \"react-multi-lang\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport { fetchUserStoriesStart } from \"../../../store/actions/StoriesAction\";\nimport StoryCard from \"./StoryCard\";\nimport ExploreLoader from \"../../Loader/ExploreLoader\";\nimport { connect } from \"react-redux\";\nimport useInfiniteScroll from \"../../helper/useInfiniteScroll\";\n\nconst StoriesIndex = (props) => {\n\n    useEffect(() => {\n        props.dispatch(fetchUserStoriesStart());\n    }, []);\n\n    const fetchStoriesData = () => {\n        setTimeout(() => {\n            if (props.userStories.data.stories.length !== 0) {\n                props.dispatch(fetchUserStoriesStart());\n                setIsFetching(false);\n            } else {\n                setNoMoreData(true);\n            }\n        }, 3000);\n    };\n\n    const [isFetching, setIsFetching] = useInfiniteScroll(fetchStoriesData);\n\n    const [noMoreData, setNoMoreData] = useState(false);\n\n\n    return (\n        <div className=\"explore-tab-sec\">\n            <Container>\n                <Row className=\"no-gutters\">\n                    <div className=\"profile-post-area\">\n                        <div className=\"bookmarkes-list bookmarks-right-side resp-sapce-center\">\n                            <div className=\"pull-left\">\n                                <Link className=\"bookmarkes-list notify-title\" to={`/home`}>\n                                <Image\n                                    src={\n                                    window.location.origin + \"/assets/images/icons/back.svg\"\n                                    }\n                                    className=\"svg-clone\"\n                                />\n                                {t(\"stories\")}\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n         \n                    <Col sm=\"12\" md=\"12\">\n                        {props.userStories.loading ? (\n                            <ExploreLoader />\n                        ) : props.userStories.data.stories &&\n                            props.userStories.data.stories.length > 0 ? (\n                            <div className=\"live-streaming-post-box\">\n                                {props.userStories.data.stories.map((story) =>\n                                \n                                    <StoryCard story={story} key={story.story_id} />\n                                \n                                )}\n                            </div>\n                        ) : (\n                            <NoDataFound></NoDataFound>\n                        )}\n                        {noMoreData !== true ? (\n                            <>{isFetching && \"Fetching more list items...\"}</>\n                        ) : (\n                            t(\"no_more_data\")\n                        )}\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n};\n\nconst mapStateToPros = (state) => ({\n    userStories: state.userStories.userStories,\n});\n  \nfunction mapDispatchToProps(dispatch) {\n    return { dispatch };\n}\nexport default connect(\n    mapStateToPros,\n    mapDispatchToProps\n)(translate(StoriesIndex));"]},"metadata":{},"sourceType":"module"}