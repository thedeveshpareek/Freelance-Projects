{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Dropdown,Image,Media,Form,Button,InputGroup,FormControl}from\"react-bootstrap\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import{translate,t}from\"react-multi-lang\";import{storyFileDeleteStart}from\"../../../store/actions/StoriesAction\";import Lightbox from\"react-image-lightbox\";import ReactPlayer from\"react-player/lazy\";var StoryCard=function StoryCard(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),modalStatus=_useState2[0],setModalStatus=_useState2[1];var settings={dots:false,infinite:false,speed:500,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,infinite:true,dots:false}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};var handleImagePreview=function handleImagePreview(event,status){event.preventDefault();setModalStatus(status);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-img-sec\"},props.story.story_files?props.story.story_files.length>0?props.story.story_files.map(function(story_file,index){return story_file.file_type===\"image\"?/*#__PURE__*/React.createElement(Link,{to:\"#\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"gallery js-gallery\"},/*#__PURE__*/React.createElement(Image,{src:story_file.file,className:\"live-streaming-post-img\",onClick:function onClick(event){return handleImagePreview(event,1);}})),modalStatus?/*#__PURE__*/React.createElement(Lightbox,{mainSrc:story_file.file,onCloseRequest:function onCloseRequest(){return setModalStatus(0);}}):\"\"):story_file.file_type===\"video\"?/*#__PURE__*/React.createElement(\"div\",{className:\"post-image post-video\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"stories\"},/*#__PURE__*/React.createElement(ReactPlayer,{light:story_file.preview_file,url:story_file.file,controls:true,width:\"100%\",height:\"100%\",playing:true,className:\"post-video-size\"}))):\"\";}):null:null),/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-user-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:props.story.user.picture,alt:\"\",className:\"live-streaming-post-user-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-user-details\"},/*#__PURE__*/React.createElement(Link,{to:\"/\".concat(props.story.user.user_unique_id)},/*#__PURE__*/React.createElement(\"h4\",null,props.story.user.name)),/*#__PURE__*/React.createElement(\"p\",null,props.story.updated),/*#__PURE__*/React.createElement(\"p\",null,props.story.status_formatted))),/*#__PURE__*/React.createElement(\"div\",{className:\"live-streaming-post-action-sec\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-unstyled live-streaming-post-action-icons\"},/*#__PURE__*/React.createElement(Media,{as:\"li\",role:\"presentation\",className:\"profile-card active\"},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list\",onClick:function onClick(){if(window.confirm(t(\"delete_story_confirmation\"))){props.dispatch(storyFileDeleteStart({story_id:props.story.story_id}));}}},/*#__PURE__*/React.createElement(Image,{src:\"assets/images/icons/delete.png\",className:\"svg-clone\"}))))))));};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapDispatchToProps)(translate(StoryCard));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Home/Stories/StoryCard.jsx"],"names":["React","useState","Dropdown","Image","Media","Form","Button","InputGroup","FormControl","connect","Link","translate","t","storyFileDeleteStart","Lightbox","ReactPlayer","StoryCard","props","modalStatus","setModalStatus","settings","dots","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","initialSlide","handleImagePreview","event","status","preventDefault","story","story_files","length","map","story_file","index","file_type","file","preview_file","user","picture","user_unique_id","name","updated","status_formatted","window","confirm","dispatch","story_id","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Dropdown, Image, Media, Form, Button, InputGroup, FormControl } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { translate, t } from \"react-multi-lang\";\nimport { storyFileDeleteStart } from \"../../../store/actions/StoriesAction\";\nimport Lightbox from \"react-image-lightbox\";\nimport ReactPlayer from \"react-player/lazy\";\n\nconst StoryCard = (props) => {\n\n\tconst [modalStatus, setModalStatus] = useState(0);\n\n\tconst settings = {\n    dots: false,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    responsive: [\n      {\n        breakpoint: 1024,\n        settings: {\n          slidesToShow: 3,\n          slidesToScroll: 1,\n          infinite: true,\n          dots: false,\n        },\n      },\n      {\n        breakpoint: 600,\n        settings: {\n          slidesToShow: 2,\n          slidesToScroll: 1,\n          initialSlide: 2,\n        },\n      },\n      {\n        breakpoint: 480,\n        settings: {\n          slidesToShow: 1,\n          slidesToScroll: 1,\n        },\n      },\n    ],\n\t};\n\n\tconst handleImagePreview = (event, status) => {\n    event.preventDefault();\n    setModalStatus(status);\n\t};\n\t\n  return (\n    <>\n      <div className=\"live-streaming-post-card\">\n\t\t\t\t<div className=\"live-streaming-post-img-sec\">\n\t\t\t\t\t{props.story.story_files\n\t\t\t\t\t\t? props.story.story_files.length > 0\n\t\t\t\t\t\t\t? props.story.story_files.map((story_file, index) =>\n\t\t\t\t\t\t\t\tstory_file.file_type === \"image\" ? (\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"gallery js-gallery\">\n\t\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={story_file.file}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"live-streaming-post-img\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(event) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleImagePreview(event, 1)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{modalStatus ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Lightbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tmainSrc={story_file.file}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCloseRequest={() => setModalStatus(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t) : story_file.file_type === \"video\" ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"post-image post-video\" key={index}>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"stories\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ReactPlayer\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlight={story_file.preview_file}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl={story_file.file}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaying\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"post-video-size\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t: null}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"live-streaming-post-info\">\n\t\t\t\t\t\t<div className=\"live-streaming-post-user-info\">\n\t\t\t\t\t\t\t\t<div className=\"live-streaming-post-user-img-sec\">\n\t\t\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.story.user.picture\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"live-streaming-post-user-img\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"live-streaming-post-user-details\">\n\t\t\t\t\t\t\t\t\t\t<Link to={`/${props.story.user.user_unique_id}`}><h4>{props.story.user.name}</h4></Link>\n\t\t\t\t\t\t\t\t\t\t<p>{props.story.updated}</p>\n\t\t\t\t\t\t\t\t\t\t<p>{props.story.status_formatted}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"live-streaming-post-action-sec\">\n\t\t\t\t\t\t\t\t<ul className=\"list-unstyled live-streaming-post-action-icons\">\n\t\t\t\t\t\t\t\t\t<Media\n\t\t\t\t\t\t\t\t\t\tas=\"li\"\n\t\t\t\t\t\t\t\t\t\trole=\"presentation\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"profile-card active\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bookmarkes-list\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (window.confirm(t(\"delete_story_confirmation\"))) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.dispatch(storyFileDeleteStart({ story_id: props.story.story_id }));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Image src=\"assets/images/icons/delete.png\" className=\"svg-clone\" />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Media>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n    </>\n  );\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapDispatchToProps)(translate(StoryCard));\n"]},"metadata":{},"sourceType":"module"}