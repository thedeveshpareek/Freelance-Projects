{"ast":null,"code":"import _objectSpread from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Form,Button,Modal,Row,Col}from\"react-bootstrap\";import{connect}from\"react-redux\";import{getBankAccountStart}from\"../../store/actions/BankAccountAction\";import{sendWithDrawRequestStart}from\"../../store/actions/WithDrawAction\";import{Link}from\"react-router-dom\";import{translate,t}from\"react-multi-lang\";var WithdrawModel=function WithdrawModel(props){useEffect(function(){props.dispatch(getBankAccountStart());},[]);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputData=_useState2[0],setInputData=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();props.dispatch(sendWithDrawRequestStart(inputData));props.closeWithdrawModal();setInputData({});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{className:\"modal-dialog-center withdraw-modal\",size:\"md\",centered:true,show:props.withdrawModal,onHide:props.closeWithdrawModal},props.withdrawModal===true?/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,t(\"send_request_to_admin\"))),/*#__PURE__*/React.createElement(Modal.Body,null,props.payments.loading?t(\"loading\"):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-5\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-2\"},t(\"min_amount_required\"),\":\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-muted\"},props.payments.data.user_withdrawals_min_amount_formatted)),/*#__PURE__*/React.createElement(\"h4\",{className:\"text-muted\"},t(\"wallet_balance\"),\":\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-muted\"},props.payments.data.user_wallet?props.payments.data.user_wallet.remaining_formatted:\"\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"floating-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"floating-label\"},/*#__PURE__*/React.createElement(\"input\",{className:\"floating-input\",type:\"number\",placeholder:\"Amount\",value:inputData.requested_amount,onChange:function onChange(event){return setInputData(_objectSpread(_objectSpread({},inputData),{},{requested_amount:event.currentTarget.value}));}}),/*#__PURE__*/React.createElement(\"span\",{className:\"highlight\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"default-label\"},t(\"enter_amount\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"floating-label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label-default-1\"},t(\"choose_bank_account\")),/*#__PURE__*/React.createElement(Form,null,[\"radio\"].map(function(type){return/*#__PURE__*/React.createElement(\"div\",{key:\"custom-inline-\".concat(type),className:\"mb-3\"},props.bankAccount.loading?t(\"loading\"):props.bankAccount.data.billing_accounts.length>0?props.bankAccount.data.billing_accounts.map(function(account){return/*#__PURE__*/React.createElement(Form.Check,{custom:true,inline:true,label:account.first_name,type:type,id:account.user_billing_account_id,value:account.user_billing_account_id,name:\"user_billing_account_id\",onChange:function onChange(event){return setInputData(_objectSpread(_objectSpread({},inputData),{},{user_billing_account_id:account.user_billing_account_id}));}});}):/*#__PURE__*/React.createElement(\"h4\",null,t(\"no_bank_accounts_added\"),\". \",t(\"to_add_account\"),\" \",/*#__PURE__*/React.createElement(Link,{className:\"text-sm\",to:\"/add-bank\"},t(\"click_here\"))));}))))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"btn btn-danger\",\"data-dismiss\":\"modal\",onClick:props.closeWithdrawModal},t(\"cancel\")),/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"btn btn-success\",\"data-dismiss\":\"modal\",onClick:handleSubmit,disabled:props.sendWithDraw.buttonDisable?props.sendWithDraw.buttonDisable:inputData.user_billing_account_id?false:true},props.sendWithDraw.loadingButtonContent!==null?props.sendWithDraw.loadingButtonContent:t(\"send_request\")))):null));};var mapStateToPros=function mapStateToPros(state){return{sendWithDraw:state.withDraw.sendWithDraw,bankAccount:state.bankAccount.bankAccount};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(WithdrawModel));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/helper/WithdrawModal.jsx"],"names":["React","useState","useEffect","Form","Button","Modal","Row","Col","connect","getBankAccountStart","sendWithDrawRequestStart","Link","translate","t","WithdrawModel","props","dispatch","inputData","setInputData","handleSubmit","event","preventDefault","closeWithdrawModal","withdrawModal","payments","loading","data","user_withdrawals_min_amount_formatted","user_wallet","remaining_formatted","requested_amount","currentTarget","value","map","type","bankAccount","billing_accounts","length","account","first_name","user_billing_account_id","sendWithDraw","buttonDisable","loadingButtonContent","mapStateToPros","state","withDraw","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Form, Button, Modal, Row, Col } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { getBankAccountStart } from \"../../store/actions/BankAccountAction\";\nimport { sendWithDrawRequestStart } from \"../../store/actions/WithDrawAction\";\nimport { Link } from \"react-router-dom\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst WithdrawModel = (props) => {\n  useEffect(() => {\n    props.dispatch(getBankAccountStart());\n  }, []);\n\n  const [inputData, setInputData] = useState({});\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.dispatch(sendWithDrawRequestStart(inputData));\n    props.closeWithdrawModal();\n    setInputData({})\n  };\n\n  return (\n    <>\n      <Modal\n        className=\"modal-dialog-center withdraw-modal\"\n        size=\"md\"\n        centered\n        show={props.withdrawModal}\n        onHide={props.closeWithdrawModal}\n      >\n        {props.withdrawModal === true ? \n        <Form onSubmit={handleSubmit}>\n          <Modal.Header closeButton>\n            <Modal.Title>{t(\"send_request_to_admin\")}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {props.payments.loading ? (\n              t(\"loading\")\n            ) : (\n              <Row>\n                <Col md=\"12\">\n                  <div className=\"mb-5\">\n                    <h4 className=\"mb-2\">\n                      {t(\"min_amount_required\")}:{\" \"}\n                      <span className=\"text-muted\">\n                        {\n                          props.payments.data\n                            .user_withdrawals_min_amount_formatted\n                        }\n                      </span>\n                    </h4>\n                    <h4 className=\"text-muted\">\n                      {t(\"wallet_balance\")}:{\" \"}\n                      <span className=\"text-muted\">\n                        {props.payments.data.user_wallet\n                          ? props.payments.data.user_wallet.remaining_formatted\n                          : \"\"}\n                      </span>\n                    </h4>\n                  </div>\n                </Col>\n              </Row>\n            )}\n            <div className=\"floating-form\">\n              <div className=\"floating-label\">\n                <input\n                  className=\"floating-input\"\n                  type=\"number\"\n                  placeholder=\"Amount\"\n                  value={inputData.requested_amount}\n                  onChange={(event) =>\n                    setInputData({\n                      ...inputData,\n                      requested_amount: event.currentTarget.value,\n                    })\n                  }\n                />\n                <span className=\"highlight\"></span>\n                <label className=\"default-label\">{t(\"enter_amount\")}</label>\n              </div>\n              <div className=\"floating-label\">\n                <label className=\"label-default-1\">{t(\"choose_bank_account\")}</label>\n                  <Form>\n                    {[\"radio\"].map((type) => (\n                      <div key={`custom-inline-${type}`} className=\"mb-3\">\n                        {props.bankAccount.loading ? (\n                          t(\"loading\")\n                        ) : props.bankAccount.data.billing_accounts.length > 0 ? (\n                          props.bankAccount.data.billing_accounts.map((account) => (\n                              <Form.Check\n                                custom\n                                inline\n                                label={account.first_name}\n                                type={type}\n                                id={account.user_billing_account_id}\n                                value={account.user_billing_account_id}\n                                name=\"user_billing_account_id\"\n                                onChange={(event) =>\n                                  setInputData({\n                                    ...inputData,\n                                    user_billing_account_id:\n                                      account.user_billing_account_id,\n                                  })\n                                }\n                              />\n                          ))\n                        ) : (\n                          <h4>\n                            {t(\"no_bank_accounts_added\")}. {t(\"to_add_account\")}{\" \"}\n                            <Link className=\"text-sm\" to={`/add-bank`}>\n                              {t(\"click_here\")}\n                            </Link>\n                          </h4>\n                        )}\n                      </div>\n                    ))}\n                </Form>\n              </div>\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button\n              type=\"button\"\n              className=\"btn btn-danger\"\n              data-dismiss=\"modal\"\n              onClick={props.closeWithdrawModal}\n            >\n              {t(\"cancel\")}\n            </Button>\n            <Button\n              type=\"button\"\n              className=\"btn btn-success\"\n              data-dismiss=\"modal\"\n              onClick={handleSubmit}\n              disabled={props.sendWithDraw.buttonDisable ? props.sendWithDraw.buttonDisable : inputData.user_billing_account_id ? false : true }\n            >\n              {props.sendWithDraw.loadingButtonContent !== null\n                ? props.sendWithDraw.loadingButtonContent\n                : t(\"send_request\")}\n            </Button>\n          </Modal.Footer>\n        </Form>\n        : null}\n      </Modal>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  sendWithDraw: state.withDraw.sendWithDraw,\n  bankAccount: state.bankAccount.bankAccount,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(WithdrawModel));\n"]},"metadata":{},"sourceType":"module"}