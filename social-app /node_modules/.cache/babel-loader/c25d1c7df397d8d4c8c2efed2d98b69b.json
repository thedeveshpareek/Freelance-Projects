{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Container,Row,Col,Image,Button,Media,Form,InputGroup,FormControl}from\"react-bootstrap\";import\"./BecomeAContentCreator.css\";import{editUserDetails,updateUserSubscriptionStart}from\"../../store/actions/UserAction\";import{connect}from\"react-redux\";import configuration from\"react-global-configuration\";import{createNotification}from\"react-redux-notify\";import{getErrorNotificationMessage}from\"../helper/NotificationMessage\";import{translate,t}from\"react-multi-lang\";var Step5=function Step5(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),profileInputData=_useState2[0],setProfileInputData=_useState2[1];useEffect(function(){if(props.user.data.content_creator_step===0){var notificationMessage=getErrorNotificationMessage(t(\"upload_doc_message\"));props.dispatch(createNotification(notificationMessage));props.jumpToStep(0);}else if(props.user.data.content_creator_step===1){var _notificationMessage=getErrorNotificationMessage(t(\"doc_verification_pending_message\"));props.dispatch(createNotification(_notificationMessage));props.jumpToStep(2);}else if(props.user.data.content_creator_step===2){var _notificationMessage2=getErrorNotificationMessage(t(\"update_billing_details_message\"));props.dispatch(createNotification(_notificationMessage2));props.jumpToStep(3);}},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();if(Object.keys(profileInputData).length>0)props.dispatch(updateUserSubscriptionStart(profileInputData));else props.dispatch(updateUserSubscriptionStart());};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-content-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-info\"},/*#__PURE__*/React.createElement(\"h4\",null,t('setup_subscribers_fee')),/*#__PURE__*/React.createElement(\"p\",null,t('set_fee_for_people_who_want_to_subscribe'),\" \",/*#__PURE__*/React.createElement(\"span\",null,t('two_different_ways'),\" \")),/*#__PURE__*/React.createElement(\"p\",null,t('these_charges_will_not_be_renewed')),/*#__PURE__*/React.createElement(\"ul\",{className:\"step-4-list list-unstyled\"},/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-double-right mr-2\"}),\" \",t('if_you_block_your_subscribers_text')),/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-double-right mr-2\"}),\" \",t('you_can_activate_or_deactivate_your_subscription_pricing')),/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-double-right mr-2\"}),\" \",t('changing_the_fee_will_not_change_the_price_of_previous_subscribers')))),/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-subscription-fee-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-subscription-flex-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-subscription-content-sec\"},/*#__PURE__*/React.createElement(\"h5\",null,t('monthly_subscription_fee')),/*#__PURE__*/React.createElement(\"p\",null,t('payments_are_made_monthly_by_the_subscriber')),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Prepend,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,configuration.get(\"configData.currency\"))),/*#__PURE__*/React.createElement(FormControl,{\"aria-label\":\"Amount (to the nearest dollar)\",id:\"monthly_amount\",type:\"number\",step:\"any\",min:\"0\",placeholder:\"\",name:\"monthly_amount\",className:\"form-control edit-reset\",disabled:localStorage.getItem(\"is_subscription_enabled\")==1?false:true,defaultValue:props.user.data.monthly_amount,onChange:function onChange(event){props.dispatch(editUserDetails(event.currentTarget.name,event.currentTarget.value));}}),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,\"Monthly\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-subscription-flex-data\"},/*#__PURE__*/React.createElement(\"div\",{className:\"step-4-subscription-content-sec\"},/*#__PURE__*/React.createElement(\"h5\",null,t('yearly_subscription_fee')),/*#__PURE__*/React.createElement(\"p\",null,t('payments_are_made_yearly_by_the_subscriber')),/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Prepend,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,configuration.get(\"configData.currency\"))),/*#__PURE__*/React.createElement(FormControl,{\"aria-label\":\"Amount (to the nearest dollar)\",id:\"yearly_amount\",type:\"number\",step:\"any\",min:\"0\",placeholder:\"\",name:\"yearly_amount\",className:\"form-control edit-reset\",disabled:localStorage.getItem(\"is_subscription_enabled\")==1?false:true,defaultValue:props.user.data.yearly_amount,onChange:function onChange(event){props.dispatch(editUserDetails(event.currentTarget.name,event.currentTarget.value));}}),/*#__PURE__*/React.createElement(InputGroup.Append,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,\"Yearly\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"edit-save\"},/*#__PURE__*/React.createElement(Button,{className:\"save-btn\",onClick:handleSubmit,disabled:props.profileInputData.buttonDisable},props.profileInputData.loadingButtonContent!==null?props.profileInputData.loadingButtonContent:t(\"submit\"))))));};var mapStateToPros=function mapStateToPros(state){return{profileInputData:state.users.profileInputData};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(Step5));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/BecomeAContentCreator/Step5.jsx"],"names":["React","useState","useEffect","Container","Row","Col","Image","Button","Media","Form","InputGroup","FormControl","editUserDetails","updateUserSubscriptionStart","connect","configuration","createNotification","getErrorNotificationMessage","translate","t","Step5","props","profileInputData","setProfileInputData","user","data","content_creator_step","notificationMessage","dispatch","jumpToStep","handleSubmit","event","preventDefault","Object","keys","length","get","localStorage","getItem","monthly_amount","currentTarget","name","value","yearly_amount","buttonDisable","loadingButtonContent","mapStateToPros","state","users","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Image,\n  Button,\n  Media,\n  Form,\n  InputGroup,\n  FormControl,\n} from \"react-bootstrap\";\nimport \"./BecomeAContentCreator.css\";\nimport {\n  editUserDetails,\n  updateUserSubscriptionStart,\n} from \"../../store/actions/UserAction\";\nimport { connect } from \"react-redux\";\nimport configuration from \"react-global-configuration\";\nimport { createNotification } from \"react-redux-notify\";\nimport { getErrorNotificationMessage } from \"../helper/NotificationMessage\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst Step5 = (props) => {\n  const [profileInputData, setProfileInputData] = useState({});\n\n  useEffect(() => {\n    if (props.user.data.content_creator_step === 0) {\n      const notificationMessage = getErrorNotificationMessage(\n        t(\"upload_doc_message\")\n      );\n      props.dispatch(createNotification(notificationMessage));\n      props.jumpToStep(0);\n    } else if (props.user.data.content_creator_step === 1) {\n      const notificationMessage = getErrorNotificationMessage(\n        t(\"doc_verification_pending_message\")\n      );\n      props.dispatch(createNotification(notificationMessage));\n      props.jumpToStep(2);\n    } else if (props.user.data.content_creator_step === 2) {\n      const notificationMessage = getErrorNotificationMessage(\n        t(\"update_billing_details_message\")\n      );\n      props.dispatch(createNotification(notificationMessage));\n      props.jumpToStep(3);\n    }\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0)\n      props.dispatch(updateUserSubscriptionStart(profileInputData));\n    else props.dispatch(updateUserSubscriptionStart());\n  };\n\n  return (\n    <>\n      <div className=\"step-4-content-sec\">\n        <div className=\"step-4-info\">\n          <h4>{t('setup_subscribers_fee')}</h4>\n          <p>\n            {t('set_fee_for_people_who_want_to_subscribe')} <span>{t('two_different_ways')} </span>\n          </p>\n          <p>\n            {t('these_charges_will_not_be_renewed')}\n          </p>\n          <ul className=\"step-4-list list-unstyled\">\n            <Media as=\"li\">\n              <i className=\"fas fa-angle-double-right mr-2\"></i> {t('if_you_block_your_subscribers_text')}\n            </Media>\n            <Media as=\"li\">\n              <i className=\"fas fa-angle-double-right mr-2\"></i> {t('you_can_activate_or_deactivate_your_subscription_pricing')}\n            </Media>\n            <Media as=\"li\">\n              <i className=\"fas fa-angle-double-right mr-2\"></i> {t('changing_the_fee_will_not_change_the_price_of_previous_subscribers')}\n            </Media>\n          </ul>\n        </div>\n        <div className=\"step-4-subscription-fee-sec\">\n          <div className=\"step-4-subscription-flex-data\">\n            <div className=\"step-4-subscription-content-sec\">\n              <h5>{t('monthly_subscription_fee')}</h5>\n              <p>{t('payments_are_made_monthly_by_the_subscriber')}</p>\n              <InputGroup>\n                <InputGroup.Prepend>\n                  <InputGroup.Text>\n                    {configuration.get(\"configData.currency\")}\n                  </InputGroup.Text>\n                </InputGroup.Prepend>\n                <FormControl\n                  aria-label=\"Amount (to the nearest dollar)\"\n                  id=\"monthly_amount\"\n                  type=\"number\"\n                  step=\"any\"\n                  min=\"0\"\n                  placeholder=\"\"\n                  name=\"monthly_amount\"\n                  className=\"form-control edit-reset\"\n                  disabled={\n                    localStorage.getItem(\"is_subscription_enabled\") == 1\n                      ? false\n                      : true\n                  }\n                  defaultValue={props.user.data.monthly_amount}\n                  onChange={(event) => {\n                    props.dispatch(\n                      editUserDetails(\n                        event.currentTarget.name,\n                        event.currentTarget.value\n                      )\n                    );\n                  }}\n                />\n                <InputGroup.Append>\n                  <InputGroup.Text>Monthly</InputGroup.Text>\n                </InputGroup.Append>\n              </InputGroup>\n            </div>\n          </div>\n          <div className=\"step-4-subscription-flex-data\">\n            <div className=\"step-4-subscription-content-sec\">\n              <h5>{t('yearly_subscription_fee')}</h5>\n              <p>{t('payments_are_made_yearly_by_the_subscriber')}</p>\n              <InputGroup>\n                <InputGroup.Prepend>\n                  <InputGroup.Text>\n                    {configuration.get(\"configData.currency\")}\n                  </InputGroup.Text>\n                </InputGroup.Prepend>\n                <FormControl\n                  aria-label=\"Amount (to the nearest dollar)\"\n                  id=\"yearly_amount\"\n                  type=\"number\"\n                  step=\"any\"\n                  min=\"0\"\n                  placeholder=\"\"\n                  name=\"yearly_amount\"\n                  className=\"form-control edit-reset\"\n                  disabled={\n                    localStorage.getItem(\"is_subscription_enabled\") == 1\n                      ? false\n                      : true\n                  }\n                  defaultValue={props.user.data.yearly_amount}\n                  onChange={(event) => {\n                    props.dispatch(\n                      editUserDetails(\n                        event.currentTarget.name,\n                        event.currentTarget.value\n                      )\n                    );\n                  }}\n                />\n                <InputGroup.Append>\n                  <InputGroup.Text>Yearly</InputGroup.Text>\n                </InputGroup.Append>\n              </InputGroup>\n            </div>\n          </div>\n          <div className=\"edit-save\">\n            <Button\n              className=\"save-btn\"\n              onClick={handleSubmit}\n              disabled={props.profileInputData.buttonDisable}\n            >\n              {props.profileInputData.loadingButtonContent !== null\n                ? props.profileInputData.loadingButtonContent\n                : t(\"submit\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  profileInputData: state.users.profileInputData,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(Step5));\n"]},"metadata":{},"sourceType":"module"}