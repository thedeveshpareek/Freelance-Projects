{"ast":null,"code":"var _jsxFileName = \"/Users/devsmac/Downloads/fx-frontend/src/components/OneToOneStreaming/AudioCallRequestList/AudioCallHistoryIndex.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Container, Row, Col, Table, Badge } from \"react-bootstrap\";\nimport \"../../Wallet/Wallet.css\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport { acceptAudioCallStart, audioCallHistoryUserStart, rejectAudioCallStart } from \"../../../store/actions/PrivateCallAction\";\nimport { Link } from \"react-router-dom\";\nimport AudioCallMakePaymentModel from \"../../helper/AudioCallMakePaymentModel\";\n\nconst AudioCallHistoryIndex = props => {\n  useEffect(() => {\n    props.dispatch(audioCallHistoryUserStart());\n  }, []);\n  const [makePaymentInput, setMakePaymentInput] = useState({\n    audio_call_request_id: \"\",\n    model_displayname: \"\",\n    model_picture: \"\",\n    amount: \"\",\n    amount_formatted: \"\",\n    model_unique_id: \"\",\n    modelname: \"\"\n  });\n  const [selectedCallDetailsToMakePayment, setSelectedCallDetailsToMakePayment] = useState(null);\n  const [makePaymentModel, setMakePaymentModel] = useState(false);\n\n  const closePaymentModal = () => {\n    setMakePaymentModel(false);\n  };\n\n  const makePayment = (event, callDetails) => {\n    event.preventDefault();\n    setMakePaymentInput({\n      audio_call_request_id: callDetails.audio_call_request_id,\n      model_displayname: callDetails.model_displayname,\n      model_picture: callDetails.model_picture,\n      amount: callDetails.amount,\n      amount_formatted: callDetails.amount_formatted,\n      model_unique_id: callDetails.model_unique_id,\n      modelname: callDetails.modelname\n    });\n    setSelectedCallDetailsToMakePayment(callDetails);\n    setMakePaymentModel(true);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wallet-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wallet-header-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    xl: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"bookmarkes-list notify-title back-button\",\n    onClick: () => props.history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: window.location.origin + \"/assets/images/icons/back.svg\",\n    className: \"svg-clone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"ml-2 mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }, t(\"audio_call_history\"))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted f-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, t(\"audio_call_history_note\"))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trans-table-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, props.callHistoryUser.loading ? /*#__PURE__*/React.createElement(BillingAccountLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }) : props.callHistoryUser.data.audio_call_requests && props.callHistoryUser.data.audio_call_requests.length > 0 ? /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trans-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    borderedless: true,\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-white text-muted text-center text-uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, t(\"s_no\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, t(\"model\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, t(\"user\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, t(\"amount\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, t(\"scheduled\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, t(\"end_time\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, t(\"status\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, t(\"action\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, props.callHistoryUser.data.audio_call_requests.map((audioCall, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: audioCall.audio_call_request_id,\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + audioCall.model_unique_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 31\n    }\n  }, audioCall.model_displayname)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + audioCall.user_unique_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 31\n    }\n  }, audioCall.user_displayname)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, audioCall.amount_formatted), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, audioCall.start_time ? audioCall.start_time : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, audioCall.end_time ? audioCall.end_time : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, audioCall.call_status_formatted), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, audioCall.accept_btn_status == 1 ? /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-sm btn-success mr-3\",\n    onClick: () => props.dispatch(acceptAudioCallStart({\n      audio_call_request_id: audioCall.audio_call_request_id\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, t(\"accept\")) : \"\", audioCall.reject_btn_status == 1 ? /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-sm btn-danger  mr-3\",\n    onClick: () => props.dispatch(rejectAudioCallStart({\n      audio_call_request_id: audioCall.audio_call_request_id\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, t(\"reject\")) : \"\", audioCall.payment_btn_status == 1 ? /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-success mr-3\",\n    onClick: event => makePayment(event, audioCall),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 33\n    }\n  }, t(\"paynow\")) : \"\", audioCall.join_btn_status == 1 ? /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-success mr-3\",\n    to: `/private-audio-call/${audioCall.audio_call_request_unique_id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, t(\"join_call\")) : \"\", audioCall.start_btn_status == 1 ? /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-success mr-3\",\n    to: `/private-audio-call/${audioCall.audio_call_request_unique_id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 33\n    }\n  }, t(\"start_call\")) : \"\", audioCall.end_btn_status == 1 ? /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-danger mr-3\",\n    onClick: () => props.dispatch(rejectAudioCallStart({\n      audio_call_request_id: audioCall.audio_call_request_id\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, t(\"end_call\")) : \"\"))))))), /*#__PURE__*/React.createElement(AudioCallMakePaymentModel, {\n    audio_call_request_id: makePaymentInput.audio_call_request_id,\n    audioCallPayment: makePaymentModel,\n    closePaymentModal: closePaymentModal,\n    userPicture: makePaymentInput.model_picture,\n    name: makePaymentInput.model_displayname,\n    user_unique_id: makePaymentInput.model_unique_id,\n    callDetails: makePaymentInput,\n    username: makePaymentInput.modelname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(NoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapStateToPros = state => ({\n  callHistoryUser: state.privateCall.audioCallHistoryUser\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(AudioCallHistoryIndex));","map":{"version":3,"sources":["/Users/devsmac/Downloads/fx-frontend/src/components/OneToOneStreaming/AudioCallRequestList/AudioCallHistoryIndex.jsx"],"names":["React","useEffect","useState","connect","Button","Container","Row","Col","Table","Badge","NoDataFound","BillingAccountLoader","translate","t","acceptAudioCallStart","audioCallHistoryUserStart","rejectAudioCallStart","Link","AudioCallMakePaymentModel","AudioCallHistoryIndex","props","dispatch","makePaymentInput","setMakePaymentInput","audio_call_request_id","model_displayname","model_picture","amount","amount_formatted","model_unique_id","modelname","selectedCallDetailsToMakePayment","setSelectedCallDetailsToMakePayment","makePaymentModel","setMakePaymentModel","closePaymentModal","makePayment","event","callDetails","preventDefault","history","goBack","window","location","origin","callHistoryUser","loading","data","audio_call_requests","length","map","audioCall","index","user_unique_id","user_displayname","start_time","end_time","call_status_formatted","accept_btn_status","reject_btn_status","payment_btn_status","join_btn_status","audio_call_request_unique_id","start_btn_status","end_btn_status","mapStateToPros","state","privateCall","audioCallHistoryUser","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Container, Row, Col, Table, Badge } from \"react-bootstrap\";\nimport \"../../Wallet/Wallet.css\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport {\n  acceptAudioCallStart,\n  audioCallHistoryUserStart,\n  rejectAudioCallStart,\n} from \"../../../store/actions/PrivateCallAction\";\nimport { Link } from \"react-router-dom\";\nimport AudioCallMakePaymentModel from \"../../helper/AudioCallMakePaymentModel\";\n\nconst AudioCallHistoryIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(audioCallHistoryUserStart());\n  }, []);\n  const [makePaymentInput, setMakePaymentInput] = useState({\n    audio_call_request_id: \"\",\n    model_displayname: \"\",\n    model_picture: \"\",\n    amount: \"\",\n    amount_formatted: \"\",\n    model_unique_id: \"\",\n    modelname: \"\",\n  });\n\n  const [\n    selectedCallDetailsToMakePayment,\n    setSelectedCallDetailsToMakePayment,\n  ] = useState(null);\n\n  const [makePaymentModel, setMakePaymentModel] = useState(false);\n\n  const closePaymentModal = () => {\n    setMakePaymentModel(false);\n  };\n\n  const makePayment = (event, callDetails) => {\n    event.preventDefault();\n    setMakePaymentInput({\n      audio_call_request_id: callDetails.audio_call_request_id,\n      model_displayname: callDetails.model_displayname,\n      model_picture: callDetails.model_picture,\n      amount: callDetails.amount,\n      amount_formatted: callDetails.amount_formatted,\n      model_unique_id: callDetails.model_unique_id,\n      modelname: callDetails.modelname,\n    });\n    setSelectedCallDetailsToMakePayment(callDetails);\n    setMakePaymentModel(true);\n  };\n\n  return (\n    <>\n      <div className=\"wallet-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12}>\n              <div className=\"wallet-header-sec\">\n                <Row>\n                  <Col sm={12} md={12} xl={9}>\n                  <Link\n                      className=\"bookmarkes-list notify-title back-button\"\n                      onClick={() => props.history.goBack()}\n                    >\n                      <img\n                        src={\n                          window.location.origin +\n                          \"/assets/images/icons/back.svg\"\n                        }\n                        className=\"svg-clone\"\n                      />\n                      <h3 className=\"ml-2 mb-0\">{t(\"audio_call_history\")}</h3>\n                    </Link>\n                    <p className=\"text-muted f-2\">\n                      {t(\"audio_call_history_note\")}\n                    </p>\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <div className=\"trans-table-sec\">\n        <Container>\n          {props.callHistoryUser.loading ? (\n            <BillingAccountLoader />\n          ) : props.callHistoryUser.data.audio_call_requests &&\n            props.callHistoryUser.data.audio_call_requests.length > 0 ? (\n            <Row>\n              <Col sm={12} md={12}>\n                <div className=\"trans-table\">\n                  <Table borderedless responsive>\n                    <thead>\n                      <tr className=\"bg-white text-muted text-center text-uppercase\">\n                        <th>{t(\"s_no\")}</th>\n                        <th>{t(\"model\")}</th>\n                        <th>{t(\"user\")}</th>\n                        <th>{t(\"amount\")}</th>\n                        <th>{t(\"scheduled\")}</th>\n                        <th>{t(\"end_time\")}</th>\n                        <th>{t(\"status\")}</th>\n                        <th>{t(\"action\")}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {props.callHistoryUser.data.audio_call_requests.map(\n                        (audioCall, index) => (\n                          <tr\n                            key={audioCall.audio_call_request_id}\n                            className=\"text-center\"\n                          >\n                            <td>{index + 1}</td>\n                            <td>\n                              <Link to={`/` + audioCall.model_unique_id}>\n                                {audioCall.model_displayname}\n                              </Link>\n                            </td>\n                            <td>\n                              <Link to={`/` + audioCall.user_unique_id}>\n                                {audioCall.user_displayname}\n                              </Link>\n                            </td>\n                            <td>{audioCall.amount_formatted}</td>\n                            <td>\n                              {audioCall.start_time\n                                ? audioCall.start_time\n                                : \"-\"}\n                            </td>\n                            <td>\n                              {audioCall.end_time ? audioCall.end_time : \"-\"}\n                            </td>\n                            <td>{audioCall.call_status_formatted}</td>\n                            <td>\n                              {audioCall.accept_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-success mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      acceptAudioCallStart({\n                                        audio_call_request_id:\n                                          audioCall.audio_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"accept\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {audioCall.reject_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-danger  mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectAudioCallStart({\n                                        audio_call_request_id:\n                                          audioCall.audio_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"reject\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {audioCall.payment_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-success mr-3\"\n                                  onClick={(event) =>\n                                    makePayment(event, audioCall)\n                                  }\n                                >\n                                  {t(\"paynow\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {audioCall.join_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3\"\n                                  to={`/private-audio-call/${audioCall.audio_call_request_unique_id}`}\n                                >\n                                  {t(\"join_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {audioCall.start_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3\"\n                                  to={`/private-audio-call/${audioCall.audio_call_request_unique_id}`}\n                                >\n                                  {t(\"start_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {audioCall.end_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-danger mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectAudioCallStart({\n                                        audio_call_request_id:\n                                          audioCall.audio_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"end_call\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                            </td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n              <AudioCallMakePaymentModel\n                audio_call_request_id={makePaymentInput.audio_call_request_id}\n                audioCallPayment={makePaymentModel}\n                closePaymentModal={closePaymentModal}\n                userPicture={makePaymentInput.model_picture}\n                name={makePaymentInput.model_displayname}\n                user_unique_id={makePaymentInput.model_unique_id}\n                callDetails={makePaymentInput}\n                username={makePaymentInput.modelname}\n              />\n            </Row>\n          ) : (\n            <NoDataFound />\n          )}\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  callHistoryUser: state.privateCall.audioCallHistoryUser,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(AudioCallHistoryIndex));\n"]},"metadata":{},"sourceType":"module"}