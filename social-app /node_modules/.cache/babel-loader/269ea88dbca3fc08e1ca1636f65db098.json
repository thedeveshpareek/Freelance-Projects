{"ast":null,"code":"var _jsxFileName = \"/Users/devsmac/Downloads/fx-frontend/src/components/helper/ChatAssetModal.jsx\";\nimport React, { useState } from \"react\";\nimport { Form, Button, Image, Modal } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { chatAssetFileUploadStart, uploadAssetDetails } from \"../../store/actions/ChatAssetAction\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst ChatAssetModal = props => {\n  const [chatAssetInputData, setChatAssetInputData] = useState({});\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (Object.keys(chatAssetInputData).length > 0 && chatAssetInputData.file) {\n      props.dispatch(chatAssetFileUploadStart({\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: props.toUserId,\n        file_type: props.fileType,\n        message: chatAssetInputData.message ? chatAssetInputData.message : \"\",\n        amount: chatAssetInputData.amount ? chatAssetInputData.amount : \"\",\n        file: chatAssetInputData.file ? chatAssetInputData.file : \"\"\n      }));\n    } else {\n      alert(\"Please upload image and try again\");\n    }\n\n    setChatAssetInputData({ ...chatAssetInputData,\n      file: '',\n      message: '',\n      amount: ''\n    });\n    setImage({ ...image,\n      title: '',\n      picture: ''\n    });\n    props.closeChatAssetUploadModal();\n  };\n\n  const [image, setImage] = useState({\n    picture: \"\"\n  });\n\n  const handleChangeImage = event => {\n    if (event.currentTarget.type === \"file\") {\n      setChatAssetInputData({ ...chatAssetInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0]\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n      setImage({ ...image,\n        title: event.currentTarget.files[0].name\n      });\n\n      reader.onloadend = () => {\n        if (props.fileType == 'image') {\n          setImage({ ...image,\n            picture: reader.result\n          });\n        }\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    className: \"modal-dialog-center sent-tip-modal\",\n    size: \"md\",\n    centered: true,\n    show: props.chatAssetUpload,\n    onHide: props.closeChatAssetUploadModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, props.chatAssetUpload === true ? /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Upload \", props.fileType)), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floating-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floating-label mb-5 chat-upload-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"upload-chat-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    id: \"fileupload_photo\",\n    type: \"file\",\n    accept: props.fileType == \"image\" ? \"image/*\" : props.fileType == \"video\" ? \"video/*\" : \"audio/*\",\n    onChange: event => handleChangeImage(event),\n    name: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    id: \"attach_file_photo\",\n    for: \"fileupload_photo\",\n    className: \"chat-attach_file\",\n    \"data-original-title\": \"null\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 23\n    }\n  }, \"Upload \", props.fileType))), image.picture !== \"\" ? /*#__PURE__*/React.createElement(Image, {\n    src: image.picture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 43\n    }\n  }) : null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 24\n    }\n  }, image.title))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floating-label mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"floating-input\",\n    type: \"text\",\n    name: \"message\",\n    placeholder: \"Message(optional)\",\n    value: chatAssetInputData.message ? chatAssetInputData.message : null,\n    onChange: event => setChatAssetInputData({ ...chatAssetInputData,\n      message: event.currentTarget.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"default-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, \"Message (optional)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"floating-label mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"floating-input\",\n    type: \"number\",\n    min: \"0\",\n    step: \"any\",\n    name: \"amount\",\n    value: chatAssetInputData.amount ? chatAssetInputData.amount : null,\n    onChange: event => setChatAssetInputData({ ...chatAssetInputData,\n      amount: event.currentTarget.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"highlight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"default-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"PPV Amount(Optional)\")))), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"btn btn-danger\",\n    \"data-dismiss\": \"modal\",\n    onClick: props.closeChatAssetUploadModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, t(\"cancel\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"btn btn-success\",\n    \"data-dismiss\": \"modal\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, t(\"send\")))) : null));\n};\n\nconst mapStateToPros = state => ({\n  chatAssetInputData: state.chatAsset.chatAssetInputData\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(ChatAssetModal));","map":{"version":3,"sources":["/Users/devsmac/Downloads/fx-frontend/src/components/helper/ChatAssetModal.jsx"],"names":["React","useState","Form","Button","Image","Modal","connect","chatAssetFileUploadStart","uploadAssetDetails","translate","t","ChatAssetModal","props","chatAssetInputData","setChatAssetInputData","handleSubmit","event","preventDefault","Object","keys","length","file","dispatch","from_user_id","localStorage","getItem","to_user_id","toUserId","file_type","fileType","message","amount","alert","setImage","image","title","picture","closeChatAssetUploadModal","handleChangeImage","currentTarget","type","name","files","reader","FileReader","onloadend","result","readAsDataURL","chatAssetUpload","value","mapStateToPros","state","chatAsset","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Button, Image, Modal } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport {\n  chatAssetFileUploadStart,\n  uploadAssetDetails,\n} from \"../../store/actions/ChatAssetAction\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst ChatAssetModal = (props) => {\n  const [chatAssetInputData, setChatAssetInputData] = useState({});\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (Object.keys(chatAssetInputData).length > 0 && chatAssetInputData.file) {\n      props.dispatch(\n        chatAssetFileUploadStart({\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: props.toUserId,\n          file_type:props.fileType,\n          message: chatAssetInputData.message ? chatAssetInputData.message : \"\",\n          amount: chatAssetInputData.amount ? chatAssetInputData.amount : \"\",\n          file: chatAssetInputData.file ? chatAssetInputData.file : \"\",\n        })\n      );\n    } else {\n      alert(\"Please upload image and try again\");\n    }\n    setChatAssetInputData({\n      ...chatAssetInputData,\n      file: '',\n      message: '',\n      amount: '',\n    });\n    setImage({ ...image, title: '',picture:''});\n    props.closeChatAssetUploadModal();\n  };\n\n  const [image, setImage] = useState({\n    picture: \"\",\n  });\n\n  const handleChangeImage = (event) => {\n    if (event.currentTarget.type === \"file\") {\n      setChatAssetInputData({\n        ...chatAssetInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0],\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      setImage({ ...image, title: event.currentTarget.files[0].name});\n      reader.onloadend = () => {\n        if(props.fileType == 'image') {\n          setImage({ ...image, picture: reader.result });\n        }\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  return (\n    <>\n      <Modal\n        className=\"modal-dialog-center sent-tip-modal\"\n        size=\"md\"\n        centered\n        show={props.chatAssetUpload}\n        onHide={props.closeChatAssetUploadModal}\n      >\n        {props.chatAssetUpload === true ? (\n          <Form onSubmit={handleSubmit}>\n            <Modal.Header closeButton>\n              <Modal.Title>Upload {props.fileType}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <div className=\"floating-form\">\n                <div className=\"floating-label mb-5 chat-upload-sec\">\n                  <Button className=\"upload-chat-btn\">\n                    <Form.Group className=\"mb-0\">\n                      <Form.Control\n                        id=\"fileupload_photo\"\n                        type=\"file\"\n                        accept={\n                          props.fileType == \"image\" ? \"image/*\" : props.fileType == \"video\" ? \"video/*\" : \"audio/*\"\n                        }\n                        onChange={(event) => handleChangeImage(event)}\n                        name=\"file\"\n                      />\n                      <Form.Label\n                        id=\"attach_file_photo\"\n                        for=\"fileupload_photo\"\n                        className=\"chat-attach_file\"\n                        data-original-title=\"null\"\n                      >\n                        Upload {props.fileType}\n                      </Form.Label>\n                    </Form.Group>\n                  </Button>\n                  {image.picture !== \"\" ? <Image src={image.picture} /> : null}\n                  <div><h4>{image.title}</h4></div>\n                  \n                </div>\n                <div className=\"floating-label mb-5\">\n                  <input\n                    className=\"floating-input\"\n                    type=\"text\"\n                    name=\"message\"\n                    placeholder=\"Message(optional)\"\n                    value={\n                      chatAssetInputData.message\n                        ? chatAssetInputData.message\n                        : null\n                    }\n                    onChange={(event) =>\n                      setChatAssetInputData({\n                        ...chatAssetInputData,\n                        message: event.currentTarget.value,\n                      })\n                    }\n                  />\n                  <span className=\"highlight\"></span>\n                  <label className=\"default-label\">Message (optional)</label>\n                </div>\n                <div className=\"floating-label mb-5\">\n                  <input\n                    className=\"floating-input\"\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"any\"\n                    name=\"amount\"\n                    value={\n                      chatAssetInputData.amount\n                        ? chatAssetInputData.amount\n                        : null\n                    }\n                    onChange={(event) =>\n                      setChatAssetInputData({\n                        ...chatAssetInputData,\n                        amount: event.currentTarget.value,\n                      })\n                    }\n                  />\n                  <span className=\"highlight\"></span>\n                  <label className=\"default-label\">PPV Amount(Optional)</label>\n                </div>\n              </div>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                data-dismiss=\"modal\"\n                onClick={props.closeChatAssetUploadModal}\n              >\n                {t(\"cancel\")}\n              </Button>\n              <Button\n                type=\"button\"\n                className=\"btn btn-success\"\n                data-dismiss=\"modal\"\n                onClick={handleSubmit}\n              >\n                {t(\"send\")}\n              </Button>\n            </Modal.Footer>\n          </Form>\n        ) : null}\n      </Modal>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  chatAssetInputData: state.chatAsset.chatAssetInputData,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(ChatAssetModal));"]},"metadata":{},"sourceType":"module"}