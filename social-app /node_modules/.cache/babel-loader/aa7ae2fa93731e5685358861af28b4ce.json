{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import{Form,Button,Row,Col,Image}from\"react-bootstrap\";import{translate,t}from\"react-multi-lang\";import{twoStepAuthUpdateStart}from'../../../store/actions/UserAction';var TwoStepAuthentication=function TwoStepAuthentication(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(localStorage.getItem(\"is_two_step_auth_enabled\")!=undefined?localStorage.getItem(\"is_two_step_auth_enabled\")==1?true:false:false),_useState4=_slicedToArray(_useState3,2),twoFactor=_useState4[0],setTwoFactor=_useState4[1];var handleChange=function handleChange(event){setTwoFactor(!twoFactor);};var handleSubmit=function handleSubmit(event){event.preventDefault();props.dispatch(twoStepAuthUpdateStart({password:password}));setPassword(\"\");};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{role:\"two_factor\",className:props.activeSec===\"two_factor\"?\"tab-pane fade in active\":\"tab-pane fade\",id:\"Section3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"change-password-sec\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header bg-transparent\"},/*#__PURE__*/React.createElement(\"h4\",null,t(\"two_step_authentication\")),/*#__PURE__*/React.createElement(Form,{className:\"switch-flex\"},/*#__PURE__*/React.createElement(Form.Check,{type:\"switch\",id:\"change-enable\",label:\"Enable\",checked:twoFactor,onChange:function onChange(event){return handleChange(event);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"two-step-auth-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/two-step-auth.svg\",alt:\"\",className:\"two-step-auth-img\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Form,{autoComplete:\"new-password\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,{for:\"password\"},t(\"password\")),/*#__PURE__*/React.createElement(Form.Control,{className:\"form-control\",id:\"password\",type:\"password\",placeholder:t(\"enter_your_password\"),name:\"password\",value:password,onChange:function onChange(event){return setPassword(event.currentTarget.value);}})),/*#__PURE__*/React.createElement(Row,{className:\"mt-5\"},/*#__PURE__*/React.createElement(Col,{sm:12,xs:12,md:6,className:\"mx-auto\"},/*#__PURE__*/React.createElement(Button,{className:\"btn gradient-btn gradientcolor\",type:\"submit\",disabled:props.twoStepAuthUpdate.buttonDisable||password!=\"\"?false:true},props.twoStepAuthUpdate.loadingButtonContent!==null?props.twoStepAuthUpdate.loadingButtonContent:t(\"submit\")))))))))));};var mapStateToPros=function mapStateToPros(state){return{twoStepAuthUpdate:state.users.twoStepAuthUpdate};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(TwoStepAuthentication));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Accounts/Profile/TwoStepAuthentication.jsx"],"names":["React","useState","connect","Form","Button","Row","Col","Image","translate","t","twoStepAuthUpdateStart","TwoStepAuthentication","props","password","setPassword","localStorage","getItem","undefined","twoFactor","setTwoFactor","handleChange","event","handleSubmit","preventDefault","dispatch","activeSec","window","location","origin","currentTarget","value","twoStepAuthUpdate","buttonDisable","loadingButtonContent","mapStateToPros","state","users","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Button, Row, Col, Image } from \"react-bootstrap\";\nimport { translate, t } from \"react-multi-lang\";\nimport {twoStepAuthUpdateStart} from '../../../store/actions/UserAction'\n\nconst TwoStepAuthentication = (props) => {\n  const [password, setPassword] = useState(\"\");\n\n  const [twoFactor, setTwoFactor] = useState(localStorage.getItem(\"is_two_step_auth_enabled\") != undefined ? localStorage.getItem(\"is_two_step_auth_enabled\") == 1 ? true : false : false)\n\n  const handleChange = (event) => {\n    setTwoFactor(!twoFactor)\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    props.dispatch(twoStepAuthUpdateStart({ password : password}))\n    setPassword(\"\")\n  };\n\n  return (\n    <>\n      <div\n        role=\"two_factor\"\n        className={\n          props.activeSec === \"two_factor\"\n            ? \"tab-pane fade in active\"\n            : \"tab-pane fade\"\n        }\n        id=\"Section3\"\n      >\n        <div className=\"change-password-sec\">\n          <div className=\"card-header bg-transparent\">\n            <h4>{t(\"two_step_authentication\")}</h4>\n            <Form className=\"switch-flex\">\n              <Form.Check\n                type=\"switch\"\n                id=\"change-enable\"\n                label=\"Enable\"\n                checked={twoFactor}\n                onChange={(event) => handleChange(event)}\n              />\n            </Form>\n            <div className=\"two-step-auth-img-sec\">\n              <Image\n                src={\n                  window.location.origin +\n                  \"/assets/images/two-step-auth.svg\"\n                }\n                alt=\"\"\n                className=\"two-step-auth-img\"\n              />\n            </div>\n          </div>\n          <div className=\"card-body\">\n            <Row>\n              <Col sm={12} md={12}>\n                <Form autoComplete=\"new-password\" onSubmit={handleSubmit}>\n                  <Form.Group>\n                    <Form.Label for=\"password\">{t(\"password\")}</Form.Label>\n                    <Form.Control\n                      className=\"form-control\"\n                      id=\"password\"\n                      type=\"password\"\n                      placeholder={t(\"enter_your_password\")}\n                      name=\"password\"\n                      value={password}\n                      onChange={(event) =>\n                        setPassword(event.currentTarget.value)\n                      }\n                    />\n                  </Form.Group>\n                  <Row className=\"mt-5\">\n                    <Col sm={12} xs={12} md={6} className=\"mx-auto\">\n                      <Button\n                        className=\"btn gradient-btn gradientcolor\"\n                        type=\"submit\"\n                        disabled={props.twoStepAuthUpdate.buttonDisable || password != \"\" ? false : true}\n                      >\n                        {props.twoStepAuthUpdate.loadingButtonContent !== null\n                          ? props.twoStepAuthUpdate.loadingButtonContent\n                          : t(\"submit\")}\n                      </Button>\n                    </Col>\n                  </Row>\n                </Form>\n              </Col>\n            </Row>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  twoStepAuthUpdate: state.users.twoStepAuthUpdate,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(TwoStepAuthentication));\n"]},"metadata":{},"sourceType":"module"}