{"ast":null,"code":"import _defineProperty from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{Form,Button,Container,Row,Col,Image,FormGroup}from\"react-bootstrap\";import\"./DocumentUploadIndex.css\";import{connect}from\"react-redux\";import{addKycDocumentStart,getKycDocumentStart}from\"../../store/actions/KycDocumentAction\";import NoDataFound from\"../NoDataFound/NoDataFound\";import DocumentUploadLoader from\"../Loader/DocumentUploadLoader\";import{translate,t}from\"react-multi-lang\";var DocumentUploadIndex=function DocumentUploadIndex(props){useEffect(function(){props.dispatch(getKycDocumentStart());},[]);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),inputData=_useState2[0],setInputData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),uploadDocumentID=_useState6[0],setUploadDocumentID=_useState6[1];var handleChangeImage=function handleChangeImage(event,doc){if(event.currentTarget.type===\"file\"){setInputData(_objectSpread(_objectSpread({},inputData),{},{document_file:event.currentTarget.files[0],document_id:doc.document_id}));var reader=new FileReader();var file=event.currentTarget.files[0];reader.onloadend=function(){setImage(_objectSpread(_objectSpread({},image),{},_defineProperty({},doc.document_id,reader.result)));};if(file){reader.readAsDataURL(file);}}};var handleSubmit=function handleSubmit(event,doc){event.preventDefault();setUploadDocumentID(doc.document_id);props.dispatch(addKycDocumentStart(inputData));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"document-upload-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:8},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title back-button head-title\",onClick:function onClick(){return props.history.goBack();}},/*#__PURE__*/React.createElement(\"img\",{src:window.location.origin+\"/assets/images/icons/back.svg\",className:\"svg-clone\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"ml-2 mb-0\"},t(\"upload_your_documents\"))))),props.kycDocDetails.loading?\"\":/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-10 text-info\"},props.kycDocDetails.data.document_status_text_formatted)),props.kycDocDetails.loading?/*#__PURE__*/React.createElement(DocumentUploadLoader,null):props.kycDocDetails.data.documents.length>0?props.kycDocDetails.data.documents.map(function(doc){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"document-card\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"sub-heading\"},/*#__PURE__*/React.createElement(\"h4\",null,doc.name),/*#__PURE__*/React.createElement(\"p\",null,doc.description)))),/*#__PURE__*/React.createElement(Row,null,doc.is_delete_edit_option?/*#__PURE__*/React.createElement(Col,{sm:12,md:6,xl:6,className:\"resp-mrg-btn-xs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"document-upload-box\"},/*#__PURE__*/React.createElement(Image,{src:doc.picture,className:\"doc-upload-img\"}))):\"\",/*#__PURE__*/React.createElement(Col,{sm:12,md:6,xl:6},/*#__PURE__*/React.createElement(FormGroup,null,doc.is_delete_edit_option?/*#__PURE__*/React.createElement(Form.File,{type:\"file\",id:doc.document_id,name:doc.document_id,onChange:function onChange(event){return handleChangeImage(event,doc);},accept:\"image/*\"}):null,/*#__PURE__*/React.createElement(Form.Label,{htmlFor:doc.document_id,className:\"document-upload-box-1\"},/*#__PURE__*/React.createElement(Image,{src:doc.picture!==undefined?doc.picture:window.location.origin+\"/assets/images/document-upload.svg\",className:\"doc-upload-img-1\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"document-desc\"},doc.is_delete_edit_option?t(\"click_here_to_upload\"):null))))),doc.is_delete_edit_option?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(Button,{className:\"receive-btn-blue\",onClick:function onClick(event){return handleSubmit(event,doc);},disabled:doc.is_delete_edit_option?false:true},uploadDocumentID===doc.document_id?props.addKycDocInput.loadingButtonContent:t(\"send_for_approval\")))):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"space-mg\"}));}):/*#__PURE__*/React.createElement(NoDataFound,null))));};var mapStateToPros=function mapStateToPros(state){return{kycDocDetails:state.kycDocument.kycDocDetails,addKycDocInput:state.kycDocument.addKycDocInput};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(DocumentUploadIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/DocumentUpload/DocumentUploadIndex.jsx"],"names":["React","useState","useEffect","Link","Form","Button","Container","Row","Col","Image","FormGroup","connect","addKycDocumentStart","getKycDocumentStart","NoDataFound","DocumentUploadLoader","translate","t","DocumentUploadIndex","props","dispatch","inputData","setInputData","image","setImage","uploadDocumentID","setUploadDocumentID","handleChangeImage","event","doc","currentTarget","type","document_file","files","document_id","reader","FileReader","file","onloadend","result","readAsDataURL","handleSubmit","preventDefault","history","goBack","window","location","origin","kycDocDetails","loading","data","document_status_text_formatted","documents","length","map","name","description","is_delete_edit_option","picture","undefined","addKycDocInput","loadingButtonContent","mapStateToPros","state","kycDocument","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Form,\n  Button,\n  Container,\n  Row,\n  Col,\n  Image,\n  FormGroup,\n} from \"react-bootstrap\";\nimport \"./DocumentUploadIndex.css\";\nimport { connect } from \"react-redux\";\nimport {\n  addKycDocumentStart,\n  getKycDocumentStart,\n} from \"../../store/actions/KycDocumentAction\";\n\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport DocumentUploadLoader from \"../Loader/DocumentUploadLoader\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst DocumentUploadIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(getKycDocumentStart());\n  }, []);\n\n  const [inputData, setInputData] = useState({});\n\n  const [image, setImage] = useState({});\n\n  const [uploadDocumentID, setUploadDocumentID] = useState(null);\n\n  const handleChangeImage = (event, doc) => {\n    if (event.currentTarget.type === \"file\") {\n      setInputData({\n        ...inputData,\n        document_file: event.currentTarget.files[0],\n        document_id: doc.document_id,\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      reader.onloadend = () => {\n        setImage({ ...image, [doc.document_id]: reader.result });\n      };\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event, doc) => {\n    event.preventDefault();\n    setUploadDocumentID(doc.document_id);\n    props.dispatch(addKycDocumentStart(inputData));\n  };\n\n  return (\n    <>\n      <div className=\"document-upload-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12} xl={8}>\n              <Link\n                className=\"bookmarkes-list notify-title back-button head-title\"\n                onClick={() => props.history.goBack()}\n              >\n                <img\n                  src={window.location.origin + \"/assets/images/icons/back.svg\"}\n                  className=\"svg-clone\"\n                />\n                <h3 className=\"ml-2 mb-0\">{t(\"upload_your_documents\")}</h3>\n              </Link>\n            </Col>\n          </Row>\n          {props.kycDocDetails.loading ? (\n            \"\"\n          ) : (\n            <>\n              <h3 className=\"mb-10 text-info\">\n                {props.kycDocDetails.data.document_status_text_formatted}\n              </h3>\n            </>\n          )}\n\n          {props.kycDocDetails.loading ? (\n            <DocumentUploadLoader></DocumentUploadLoader>\n          ) : props.kycDocDetails.data.documents.length > 0 ? (\n            props.kycDocDetails.data.documents.map((doc) => (\n              <>\n                <div className=\"document-card\">\n                  <Row>\n                    <Col sm={12} md={12}>\n                      <div className=\"sub-heading\">\n                        <h4>{doc.name}</h4>\n                        <p>{doc.description}</p>\n                      </div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    {doc.is_delete_edit_option ? (\n                      <Col sm={12} md={6} xl={6} className=\"resp-mrg-btn-xs\">\n                        <div className=\"document-upload-box\">\n                          <Image src={doc.picture} className=\"doc-upload-img\" />\n                        </div>\n                      </Col>\n                    ) : (\n                      \"\"\n                    )}\n                    <Col sm={12} md={6} xl={6}>\n                      <FormGroup>\n                        {doc.is_delete_edit_option ? (\n                          <Form.File\n                            type=\"file\"\n                            id={doc.document_id}\n                            name={doc.document_id}\n                            onChange={(event) => handleChangeImage(event, doc)}\n                            accept=\"image/*\"\n                          />\n                        ) : null}\n                        <Form.Label\n                          htmlFor={doc.document_id}\n                          className=\"document-upload-box-1\"\n                        >\n                          <Image\n                            src={\n                              doc.picture !== undefined\n                                ? doc.picture\n                                : window.location.origin +\n                                  \"/assets/images/document-upload.svg\"\n                            }\n                            className=\"doc-upload-img-1\"\n                          />\n                          <br></br>\n                          <p className=\"document-desc\">\n                            {doc.is_delete_edit_option\n                              ? t(\"click_here_to_upload\")\n                              : null}\n                          </p>\n                        </Form.Label>\n                      </FormGroup>\n                    </Col>\n                  </Row>\n                  {doc.is_delete_edit_option ? (\n                    <Row>\n                      <Col sm={12} md={12}>\n                        <Button\n                          className=\"receive-btn-blue\"\n                          onClick={(event) => handleSubmit(event, doc)}\n                          disabled={doc.is_delete_edit_option ? false : true}\n                        >\n                          {uploadDocumentID === doc.document_id\n                            ? props.addKycDocInput.loadingButtonContent\n                            : t(\"send_for_approval\")}\n                        </Button>\n                      </Col>\n                    </Row>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n                <div className=\"space-mg\"></div>\n              </>\n            ))\n          ) : (\n            <NoDataFound></NoDataFound>\n          )}\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  kycDocDetails: state.kycDocument.kycDocDetails,\n  addKycDocInput: state.kycDocument.addKycDocInput,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(DocumentUploadIndex));\n"]},"metadata":{},"sourceType":"module"}