{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from\"react\";import{Dropdown,Image,Media,Form,Button,InputGroup,FormControl}from\"react-bootstrap\";import{connect}from\"react-redux\";import{Link}from\"react-router-dom\";import{saveBookmarkStart}from\"../../store/actions/BookmarkAction\";import{fetchCommentRepliesStart,saveCommentReplyStart}from\"../../store/actions/CommentsAction\";import\"react-image-lightbox/style.css\";import{translate,t}from\"react-multi-lang\";import PostEditor from\"../Post/postMentions/PostEditor\";import{Picker,EmojiData}from\"emoji-mart\";import\"emoji-mart/css/emoji-mart.css\";import{EditorState,convertToRaw,Modifier}from\"draft-js\";var CommentReplies=function CommentReplies(props){var commentReplies=props.commentReplies,comment=props.comment,commentActiveIndex=props.commentActiveIndex;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),commentReplyInputData=_useState2[0],setCommentReplyInputData=_useState2[1];var mentionsRef=useRef();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),editorContentState=_useState4[0],setEditorContentstate=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editorHtmlContent=_useState6[0],setEditorHtmlContent=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),emojiPickerState=_useState8[0],SetEmojiPicker=_useState8[1];var _useState9=useState(function(){return EditorState.createEmpty();}),_useState10=_slicedToArray(_useState9,2),editorState=_useState10[0],setEditorState=_useState10[1];var handleCommentReplySubmit=function handleCommentReplySubmit(event,comment){event.preventDefault();props.dispatch(saveCommentReplyStart({reply:editorHtmlContent,post_id:comment.post_id,post_comment_id:comment.post_comment_id}));setCommentReplyInputData({});props.dispatch(fetchCommentRepliesStart({post_id:comment.post_id,post_comment_id:comment.post_comment_id}));};function triggerPicker(event){event.preventDefault();SetEmojiPicker(!emojiPickerState);}// const handleEmojiSelect = (emoji) => {\n//   setEditorHtmlContent(editorHtmlContent + emoji.native);\n//   setEditorContentstate(editorContentState + emoji.native);\n//   SetEmojiPicker(false);\n// };\nvar handleEmojiSelect=function handleEmojiSelect(emoji){SetEmojiPicker(false);setEditorState(insertCharacter(emoji.native,editorState));};var insertCharacter=function insertCharacter(emoji,editorState){var currentContent=editorState.getCurrentContent();var currentSelection=editorState.getSelection();var newContent=Modifier.insertText(currentContent,currentSelection,emoji);var newEditorState=EditorState.push(editorState,newContent,\"insert-characters\");return EditorState.forceSelection(newEditorState,newContent.getSelectionAfter());};return/*#__PURE__*/React.createElement(React.Fragment,null,commentActiveIndex==props.currentIndex&&(commentReplies.loading?\"Loading...\":commentReplies.data.post_comment_replies.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,commentReplies.data.post_comment_replies.map(function(comment_reply,index){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"reply-box\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"reply-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/user.png\",alt:\"\",className:\"reply-user-img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"reply-user-info\"},/*#__PURE__*/React.createElement(Link,{to:\"#\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"reply-user-name\"},comment_reply.user_displayname)),/*#__PURE__*/React.createElement(\"p\",{dangerouslySetInnerHTML:{__html:comment_reply.reply!=undefined?comment_reply.reply:\"\"},className:\"reply-message\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"reply-info-sec\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-unstyled reply-info-link\"},/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"p\",null,comment_reply.created)))))));}),\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"reply-text-field\"},/*#__PURE__*/React.createElement(\"div\",{className:\"reply-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/user.png\",alt:\"\",className:\"reply-user-img\"})),/*#__PURE__*/React.createElement(Form,{className:\"form-inline\",action:\"\",onSubmit:handleCommentReplySubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-reply\"},/*#__PURE__*/React.createElement(PostEditor,{className:\"PostEditor__input\",placeholder:\"Write a reply\",ref:mentionsRef,getEditorRawContent:setEditorContentstate,getEditorHtmlContent:setEditorHtmlContent,dispatch:props.dispatch,editorState:editorState,setEditorState:setEditorState}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-reply-right-icons\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-unstyled reply-action-icons\"},/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(event){return handleCommentReplySubmit(event,comment);}},/*#__PURE__*/React.createElement(Image,{className:\"comment-send-icon\",src:window.location.origin+\"/assets/images/icons/comment-send-icon.png\"}))),/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"g-btn m-rounded emojiButtoon p-0 pr-2\",onClick:triggerPicker},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-smile\"}))),emojiPickerState&&/*#__PURE__*/React.createElement(\"div\",{className:\"emojiWrapper\"},/*#__PURE__*/React.createElement(Picker,{title:\"\",emoji:\"point_up\",onSelect:function onSelect(emoji){return handleEmojiSelect(emoji);}})))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"reply-text-field\"},/*#__PURE__*/React.createElement(\"div\",{className:\"reply-user-img-sec\"},/*#__PURE__*/React.createElement(Image,{src:window.location.origin+\"/assets/images/user.png\",alt:\"\",className:\"reply-user-img\"})),/*#__PURE__*/React.createElement(Form,{className:\"form-inline\",action:\"\",onSubmit:handleCommentReplySubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-reply\"},/*#__PURE__*/React.createElement(PostEditor,{className:\"PostEditor__input\",placeholder:\"Write a reply\",ref:mentionsRef,getEditorRawContent:setEditorContentstate,getEditorHtmlContent:setEditorHtmlContent,dispatch:props.dispatch,editorState:editorState,setEditorState:setEditorState}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-reply-right-icons\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-unstyled reply-action-icons\"},/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(Link,{to:\"#\",onClick:function onClick(event){return handleCommentReplySubmit(event,comment);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-paper-plane\"}))),/*#__PURE__*/React.createElement(Media,{as:\"li\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"g-btn m-rounded emojiButtoon p-0 pr-2\",onClick:triggerPicker},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-smile\"}))),emojiPickerState&&/*#__PURE__*/React.createElement(\"div\",{className:\"emojiWrapper\"},/*#__PURE__*/React.createElement(Picker,{title:\"\",emoji:\"point_up\",onSelect:function onSelect(emoji){return handleEmojiSelect(emoji);}}))))))));};var mapStateToPros=function mapStateToPros(state){return{commentReplies:state.comment.commentReplies};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(CommentReplies));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/helper/CommentReplies.jsx"],"names":["React","useRef","useState","Dropdown","Image","Media","Form","Button","InputGroup","FormControl","connect","Link","saveBookmarkStart","fetchCommentRepliesStart","saveCommentReplyStart","translate","t","PostEditor","Picker","EmojiData","EditorState","convertToRaw","Modifier","CommentReplies","props","commentReplies","comment","commentActiveIndex","commentReplyInputData","setCommentReplyInputData","mentionsRef","editorContentState","setEditorContentstate","editorHtmlContent","setEditorHtmlContent","emojiPickerState","SetEmojiPicker","createEmpty","editorState","setEditorState","handleCommentReplySubmit","event","preventDefault","dispatch","reply","post_id","post_comment_id","triggerPicker","handleEmojiSelect","emoji","insertCharacter","native","currentContent","getCurrentContent","currentSelection","getSelection","newContent","insertText","newEditorState","push","forceSelection","getSelectionAfter","currentIndex","loading","data","post_comment_replies","length","map","comment_reply","index","window","location","origin","user_displayname","__html","undefined","created","mapStateToPros","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport {\n  Dropdown,\n  Image,\n  Media,\n  Form,\n  Button,\n  InputGroup,\n  FormControl,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { saveBookmarkStart } from \"../../store/actions/BookmarkAction\";\nimport {\n  fetchCommentRepliesStart,\n  saveCommentReplyStart,\n} from \"../../store/actions/CommentsAction\";\nimport \"react-image-lightbox/style.css\";\nimport { translate, t } from \"react-multi-lang\";\nimport PostEditor from \"../Post/postMentions/PostEditor\";\nimport { Picker, EmojiData } from \"emoji-mart\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { EditorState, convertToRaw, Modifier } from \"draft-js\";\n\nconst CommentReplies = (props) => {\n  const { commentReplies, comment, commentActiveIndex } = props;\n\n  const [commentReplyInputData, setCommentReplyInputData] = useState({});\n\n  const mentionsRef = useRef();\n\n  const [editorContentState, setEditorContentstate] = useState(\"\");\n\n  const [editorHtmlContent, setEditorHtmlContent] = useState(\"\");\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n\n\tconst [editorState, setEditorState] = useState(() =>\n\t\tEditorState.createEmpty()\n\t);\n\n  const handleCommentReplySubmit = (event, comment) => {\n    event.preventDefault();\n    props.dispatch(\n      saveCommentReplyStart({\n        reply: editorHtmlContent,\n        post_id: comment.post_id,\n        post_comment_id: comment.post_comment_id,\n      })\n    );\n    setCommentReplyInputData({});\n    props.dispatch(\n      fetchCommentRepliesStart({\n        post_id: comment.post_id,\n        post_comment_id: comment.post_comment_id,\n      })\n    );\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  // const handleEmojiSelect = (emoji) => {\n  //   setEditorHtmlContent(editorHtmlContent + emoji.native);\n  //   setEditorContentstate(editorContentState + emoji.native);\n  //   SetEmojiPicker(false);\n  // };\n\n\tconst handleEmojiSelect = (emoji) => {\n    SetEmojiPicker(false);\n    setEditorState(insertCharacter(emoji.native, editorState))\n  };\n\n  const insertCharacter = (emoji, editorState) => {\n    const currentContent = editorState.getCurrentContent();\n    const currentSelection = editorState.getSelection();\n\n    const newContent = Modifier.insertText(\n      currentContent,\n      currentSelection,\n      emoji\n    );\n\n    const newEditorState = EditorState.push(\n      editorState,\n      newContent,\n      \"insert-characters\"\n    );\n\n    return EditorState.forceSelection(\n      newEditorState,\n      newContent.getSelectionAfter()\n    );\n  };\n\n  return (\n    <>\n      {commentActiveIndex == props.currentIndex &&\n        (commentReplies.loading ? (\n          \"Loading...\"\n        ) : commentReplies.data.post_comment_replies.length > 0 ? (\n          <>\n            {commentReplies.data.post_comment_replies.map(\n              (comment_reply, index) => (\n                <>\n                  <div className=\"reply-box\" key={index}>\n                    <div className=\"reply-user-img-sec\">\n                      <Image\n                        src={window.location.origin + \"/assets/images/user.png\"}\n                        alt=\"\"\n                        className=\"reply-user-img\"\n                      />\n                    </div>\n                    <div className=\"reply-user-info\">\n                      <Link to=\"#\">\n                        <h4 className=\"reply-user-name\">\n                          {comment_reply.user_displayname}\n                        </h4>\n                      </Link>\n                      <p\n                        dangerouslySetInnerHTML={{\n                          __html:\n                            comment_reply.reply != undefined\n                              ? comment_reply.reply\n                              : \"\",\n                        }}\n                        className=\"reply-message\"\n                      ></p>\n                      <div className=\"reply-info-sec\">\n                        <ul className=\"list-unstyled reply-info-link\">\n                          <Media as=\"li\">\n                            <p>{comment_reply.created}</p>\n                          </Media>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                </>\n              )\n            )}{\" \"}\n            <div className=\"reply-text-field\">\n              <div className=\"reply-user-img-sec\">\n                <Image\n                  src={window.location.origin + \"/assets/images/user.png\"}\n                  alt=\"\"\n                  className=\"reply-user-img\"\n                />\n              </div>\n\n              <Form\n                className=\"form-inline\"\n                action=\"\"\n                onSubmit={handleCommentReplySubmit}\n              >\n                <div className=\"form-reply\">\n                  {/* <Form.Control\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"Write a reply\"\n\t\t\t\t\t\t\tid=\"reply\"\n\t\t\t\t\t\t\tname=\"reply\"\n\t\t\t\t\t\t\tvalue={commentReplyInputData.reply}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\tsetCommentReplyInputData({\n\t\t\t\t\t\t\t\t\t...commentReplyInputData,\n\t\t\t\t\t\t\t\t\treply: event.currentTarget.value,\n\t\t\t\t\t\t\t\t\tpost_id: comment.post_id,\n\t\t\t\t\t\t\t\t\tpost_comment_id: comment.post_comment_id,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/> */}\n                  <PostEditor\n                    className=\"PostEditor__input\"\n                    placeholder=\"Write a reply\"\n                    ref={mentionsRef}\n                    getEditorRawContent={setEditorContentstate}\n                    getEditorHtmlContent={setEditorHtmlContent}\n                    dispatch={props.dispatch}\n\t\t\t\t\t\t\t\t\t\teditorState={editorState}\n\t\t\t\t\t\t\t\t\t\tsetEditorState={setEditorState}\n                  />\n                </div>\n              </Form>\n              <div className=\"form-reply-right-icons\">\n                    <ul className=\"list-unstyled reply-action-icons\">\n                      <Media as=\"li\">\n                        <Link\n                          to=\"#\"\n                          onClick={(event) =>\n                            handleCommentReplySubmit(event, comment)\n                          }\n                        >\n                          {/* <i className=\"fas fa-paper-plane\"></i> */}\n                          <Image\n                              className=\"comment-send-icon\"\n                              src={\n                                window.location.origin + \"/assets/images/icons/comment-send-icon.png\"}\n                            />\n                        </Link>\n                      </Media>\n                      <Media as=\"li\">\n                        <button\n                          type=\"button\"\n                          className=\"g-btn m-rounded emojiButtoon p-0 pr-2\"\n                          onClick={triggerPicker}\n                        >\n                          <i className=\"far fa-smile\"></i>\n                        </button>\n                      </Media>\n\t\t\t\t\t\t\t\t\t\t\t{emojiPickerState && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"emojiWrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Picker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\temoji=\"point_up\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect={(emoji) => handleEmojiSelect(emoji)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n                      {/* <Media as=\"li\">\n\t\t\t\t\t\t\t\t\t\t<Link to=\"#\">\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-smile\"></i>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Media> */}\n                    </ul>\n                  </div>\n            </div>\n          </>\n        ) : (\n          <>\n            <div className=\"reply-text-field\">\n              <div className=\"reply-user-img-sec\">\n                <Image\n                  src={window.location.origin + \"/assets/images/user.png\"}\n                  alt=\"\"\n                  className=\"reply-user-img\"\n                />\n              </div>\n              <Form\n                className=\"form-inline\"\n                action=\"\"\n                onSubmit={handleCommentReplySubmit}\n              >\n                <div className=\"form-reply\">\n                  <PostEditor\n                    className=\"PostEditor__input\"\n                    placeholder=\"Write a reply\"\n                    ref={mentionsRef}\n                    getEditorRawContent={setEditorContentstate}\n                    getEditorHtmlContent={setEditorHtmlContent}\n                    dispatch={props.dispatch}\n                    editorState={editorState}\n\t\t\t\t\t\t\t\t\t\tsetEditorState={setEditorState}\n                  />\n                </div>\n              </Form>\n              <div className=\"form-reply-right-icons\">\n                    <ul className=\"list-unstyled reply-action-icons\">\n                      <Media as=\"li\">\n                        <Link\n                          to=\"#\"\n                          onClick={(event) =>\n                            handleCommentReplySubmit(event, comment)\n                          }\n                        >\n                          <i className=\"fas fa-paper-plane\"></i>\n                        </Link>\n                      </Media>\n                      <Media as=\"li\">\n                        <button\n                          type=\"button\"\n                          className=\"g-btn m-rounded emojiButtoon p-0 pr-2\"\n                          onClick={triggerPicker}\n                        >\n                          <i className=\"far fa-smile\"></i>\n                        </button>\n                      </Media>\n                      {emojiPickerState && (\n                        <div className=\"emojiWrapper\">\n                          <Picker\n                            title=\"\"\n                            emoji=\"point_up\"\n                            onSelect={(emoji) => handleEmojiSelect(emoji)}\n                          />\n                        </div>\n                      )}\n                      {/* <Media as=\"li\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"#\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-smile\"></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t</Media> */}\n                    </ul>\n                  </div>\n            </div>\n          </>\n        ))}\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  commentReplies: state.comment.commentReplies,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(CommentReplies));\n"]},"metadata":{},"sourceType":"module"}