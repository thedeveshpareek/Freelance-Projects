{"ast":null,"code":"import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(fetchUserStoriesAPI),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(fetchStoriesAPI),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(storyFileUploadAPI),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(storyFileDeleteAPI),_marked5=/*#__PURE__*/_regeneratorRuntime.mark(pageSaga);import{call,select,put,takeLatest,all}from\"redux-saga/effects\";import api from\"../../Environment\";import{FETCH_USER_STORIES_START,STORY_FILE_UPLOAD_START,FETCH_STORIES_START,STORY_FILE_DELETE_START}from\"../actions/ActionConstant\";import{createNotification}from\"react-redux-notify\";import{getSuccessNotificationMessage,getErrorNotificationMessage}from\"../../components/helper/NotificationMessage\";import{fetchStoriesSucess,fetchStoriesFailure,fetchuserStoriesSuccess,fetchUserStoriesFailure,storyFileUploadSuccess,storyFileUploadFailure,fetchStoriesStart,storyFileDeleteSuccess,storyFileDeleteFailure,fetchUserStoriesStart}from\"../actions/StoriesAction\";function fetchUserStoriesAPI(){var skipCount,response,notificationMessage,_notificationMessage;return _regeneratorRuntime.wrap(function fetchUserStoriesAPI$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return select(function(state){return state.userStories.userStories.skip;});case 3:skipCount=_context.sent;_context.next=6;return api.postMethod(\"stories_list\",{skip:skipCount});case 6:response=_context.sent;if(!response.data.success){_context.next=12;break;}_context.next=10;return put(fetchuserStoriesSuccess(response.data.data));case 10:_context.next=17;break;case 12:_context.next=14;return put(fetchUserStoriesFailure(response.data.error));case 14:notificationMessage=getErrorNotificationMessage(response.data.error);_context.next=17;return put(createNotification(notificationMessage));case 17:_context.next=26;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](0);_context.next=23;return put(fetchUserStoriesFailure(_context.t0));case 23:_notificationMessage=getErrorNotificationMessage(_context.t0.message);_context.next=26;return put(createNotification(_notificationMessage));case 26:case\"end\":return _context.stop();}}},_marked,null,[[0,19]]);}function fetchStoriesAPI(){var response,notificationMessage,_notificationMessage2;return _regeneratorRuntime.wrap(function fetchStoriesAPI$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.postMethod(\"stories_home\");case 3:response=_context2.sent;if(!response.data.success){_context2.next=9;break;}_context2.next=7;return put(fetchStoriesSucess(response.data.data));case 7:_context2.next=14;break;case 9:_context2.next=11;return put(fetchStoriesFailure(response.data.error));case 11:notificationMessage=getErrorNotificationMessage(response.data.error);_context2.next=14;return put(createNotification(notificationMessage));case 14:_context2.next=23;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](0);_context2.next=20;return put(fetchStoriesFailure(_context2.t0));case 20:_notificationMessage2=getErrorNotificationMessage(_context2.t0.message);_context2.next=23;return put(createNotification(_notificationMessage2));case 23:case\"end\":return _context2.stop();}}},_marked2,null,[[0,16]]);}function storyFileUploadAPI(action){var response,notificationMessage,_notificationMessage3,_notificationMessage4;return _regeneratorRuntime.wrap(function storyFileUploadAPI$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.postMethod(\"story_files_upload\",action.data);case 3:response=_context3.sent;if(!response.data.success){_context3.next=14;break;}_context3.next=7;return put(storyFileUploadSuccess(response.data.data));case 7:_context3.next=9;return put(fetchStoriesStart());case 9:notificationMessage=getSuccessNotificationMessage(response.data.message);_context3.next=12;return put(createNotification(notificationMessage));case 12:_context3.next=19;break;case 14:_context3.next=16;return put(storyFileUploadFailure(response.data.error));case 16:_notificationMessage3=getErrorNotificationMessage(response.data.error);_context3.next=19;return put(createNotification(_notificationMessage3));case 19:_context3.next=28;break;case 21:_context3.prev=21;_context3.t0=_context3[\"catch\"](0);_context3.next=25;return put(storyFileUploadFailure(_context3.t0));case 25:_notificationMessage4=getErrorNotificationMessage(_context3.t0.message);_context3.next=28;return put(createNotification(_notificationMessage4));case 28:case\"end\":return _context3.stop();}}},_marked3,null,[[0,21]]);}function storyFileDeleteAPI(action){var response,notificationMessage,_notificationMessage5,_notificationMessage6;return _regeneratorRuntime.wrap(function storyFileDeleteAPI$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.postMethod(\"stories_delete\",action.data);case 3:response=_context4.sent;if(!response.data.success){_context4.next=14;break;}_context4.next=7;return put(storyFileDeleteSuccess(response.data.data));case 7:_context4.next=9;return put(fetchUserStoriesStart());case 9:notificationMessage=getSuccessNotificationMessage(response.data.message);_context4.next=12;return put(createNotification(notificationMessage));case 12:_context4.next=19;break;case 14:_context4.next=16;return put(storyFileDeleteFailure(response.data.error));case 16:_notificationMessage5=getErrorNotificationMessage(response.data.error);_context4.next=19;return put(createNotification(_notificationMessage5));case 19:_context4.next=28;break;case 21:_context4.prev=21;_context4.t0=_context4[\"catch\"](0);_context4.next=25;return put(storyFileDeleteFailure(_context4.t0));case 25:_notificationMessage6=getErrorNotificationMessage(_context4.t0.message);_context4.next=28;return put(createNotification(_notificationMessage6));case 28:case\"end\":return _context4.stop();}}},_marked4,null,[[0,21]]);}export default function pageSaga(){return _regeneratorRuntime.wrap(function pageSaga$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.t0=all;_context5.next=3;return takeLatest(FETCH_STORIES_START,fetchStoriesAPI);case 3:_context5.t1=_context5.sent;_context5.t2=[_context5.t1];_context5.next=7;return(0,_context5.t0)(_context5.t2);case 7:_context5.t3=all;_context5.next=10;return takeLatest(STORY_FILE_UPLOAD_START,storyFileUploadAPI);case 10:_context5.t4=_context5.sent;_context5.t5=[_context5.t4];_context5.next=14;return(0,_context5.t3)(_context5.t5);case 14:_context5.t6=all;_context5.next=17;return takeLatest(FETCH_USER_STORIES_START,fetchUserStoriesAPI);case 17:_context5.t7=_context5.sent;_context5.t8=[_context5.t7];_context5.next=21;return(0,_context5.t6)(_context5.t8);case 21:_context5.t9=all;_context5.next=24;return takeLatest(STORY_FILE_DELETE_START,storyFileDeleteAPI);case 24:_context5.t10=_context5.sent;_context5.t11=[_context5.t10];_context5.next=28;return(0,_context5.t9)(_context5.t11);case 28:case\"end\":return _context5.stop();}}},_marked5);}","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/store/sagas/StoriesSaga.jsx"],"names":["fetchUserStoriesAPI","fetchStoriesAPI","storyFileUploadAPI","storyFileDeleteAPI","pageSaga","call","select","put","takeLatest","all","api","FETCH_USER_STORIES_START","STORY_FILE_UPLOAD_START","FETCH_STORIES_START","STORY_FILE_DELETE_START","createNotification","getSuccessNotificationMessage","getErrorNotificationMessage","fetchStoriesSucess","fetchStoriesFailure","fetchuserStoriesSuccess","fetchUserStoriesFailure","storyFileUploadSuccess","storyFileUploadFailure","fetchStoriesStart","storyFileDeleteSuccess","storyFileDeleteFailure","fetchUserStoriesStart","state","userStories","skip","skipCount","postMethod","response","data","success","error","notificationMessage","message","action"],"mappings":"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","sourcesContent":["\nimport { call, select, put, takeLatest, all } from \"redux-saga/effects\";\nimport api from \"../../Environment\";\nimport {\n  FETCH_USER_STORIES_START,\n  STORY_FILE_UPLOAD_START,\n  FETCH_STORIES_START,\n  STORY_FILE_DELETE_START\n} from \"../actions/ActionConstant\";\nimport { createNotification } from \"react-redux-notify\";\nimport {\n  getSuccessNotificationMessage,\n  getErrorNotificationMessage,\n} from \"../../components/helper/NotificationMessage\";\n\nimport {\n  fetchStoriesSucess,\n  fetchStoriesFailure,\n  fetchuserStoriesSuccess,\n  fetchUserStoriesFailure,\n  storyFileUploadSuccess,\n  storyFileUploadFailure,\n  fetchStoriesStart,\n  storyFileDeleteSuccess,\n  storyFileDeleteFailure,\n  fetchUserStoriesStart,\n} from \"../actions/StoriesAction\";\n\nfunction* fetchUserStoriesAPI() {\n  try {\n    const skipCount = yield select((state) => state.userStories.userStories.skip);\n    const response = yield api.postMethod(\"stories_list\", { skip: skipCount });\n\n    if (response.data.success) {\n      yield put(fetchuserStoriesSuccess(response.data.data));\n    } else {\n      yield put(fetchUserStoriesFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(fetchUserStoriesFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* fetchStoriesAPI() {\n  try {\n    const response = yield api.postMethod(\"stories_home\");\n\n    if (response.data.success) {\n      yield put(fetchStoriesSucess(response.data.data));\n    } else {\n      yield put(fetchStoriesFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(fetchStoriesFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* storyFileUploadAPI(action) {\n  try {\n    const response = yield api.postMethod(\"story_files_upload\" , action.data);\n\n    if (response.data.success) {\n      yield put(storyFileUploadSuccess(response.data.data));\n      yield put(fetchStoriesStart());\n      const notificationMessage = getSuccessNotificationMessage(\n        response.data.message\n      );\n      yield put(createNotification(notificationMessage));\n    } else {\n      yield put(storyFileUploadFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(storyFileUploadFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* storyFileDeleteAPI(action) {\n  try {\n    const response = yield api.postMethod(\"stories_delete\" , action.data);\n\n    if (response.data.success) {\n      yield put(storyFileDeleteSuccess(response.data.data));\n      yield put(fetchUserStoriesStart())\n      const notificationMessage = getSuccessNotificationMessage(\n        response.data.message\n      );\n      yield put(createNotification(notificationMessage));\n    } else {\n      yield put(storyFileDeleteFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(storyFileDeleteFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nexport default function* pageSaga() {\n  yield all([yield takeLatest(FETCH_STORIES_START, fetchStoriesAPI)]);\n  yield all([yield takeLatest(STORY_FILE_UPLOAD_START, storyFileUploadAPI)]);\n  yield all([yield takeLatest(FETCH_USER_STORIES_START, fetchUserStoriesAPI)]);\n  yield all([yield takeLatest(STORY_FILE_DELETE_START, storyFileDeleteAPI)]);\n}\n"]},"metadata":{},"sourceType":"module"}