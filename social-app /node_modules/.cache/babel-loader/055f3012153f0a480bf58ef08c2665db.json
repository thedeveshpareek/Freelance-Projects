{"ast":null,"code":"var _jsxFileName = \"/Users/devsmac/Downloads/fx-frontend/src/components/Accounts/Profile/UploadProfilePicture.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Form, Image, Button } from \"react-bootstrap\";\nimport \"./UploadProfilePicture.css\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport { updateUserDetailsStart, fetchUserDetailsStart } from \"../../../store/actions/UserAction\";\n\nconst UploadProfilePicture = props => {\n  const [profileInputData, setProfileInputData] = useState({});\n  const [image, setImage] = useState({\n    picture: \"\",\n    cover: \"\"\n  });\n  useEffect(() => {\n    if (props.profile.loading) props.dispatch(fetchUserDetailsStart());\n  }, []);\n\n  const handleChangeImage = event => {\n    if (event.currentTarget.type === \"file\") {\n      setProfileInputData({ ...profileInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0]\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      if (event.currentTarget.name === \"picture\") {\n        reader.onloadend = () => {\n          setImage({ ...image,\n            picture: reader.result\n          });\n        };\n      }\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0) props.dispatch(updateUserDetailsStart(profileInputData));else props.dispatch(updateUserDetailsStart());\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-upload-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"head-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, t(\"upload_profile_picture\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-picture-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-picture-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"upload-profile-img-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"hidden-input\",\n    id: \"changePicture\",\n    type: \"file\",\n    accept: \"image/*\",\n    name: \"picture\",\n    onChange: handleChangeImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    for: \"file\",\n    className: \"hidden-input\",\n    for: \"changePicture\",\n    type: \"file\",\n    title: \"Change picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: image.picture === \"\" ? window.location.origin + \"/assets/images/upload-profile-img.svg\" : image.picture,\n    className: \"upload-profile-picture-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-icon-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 27\n    }\n  }))))))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, t(\"profile_photo\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, t(\"profile_photo_para\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"upload-profile-img-btn btn-block\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, t(\"submit\")))))))));\n};\n\nconst mapStateToPros = state => ({\n  profile: state.users.profile,\n  profileInputData: state.users.profileInputData\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(UploadProfilePicture));","map":{"version":3,"sources":["/Users/devsmac/Downloads/fx-frontend/src/components/Accounts/Profile/UploadProfilePicture.jsx"],"names":["React","useState","useEffect","Container","Row","Col","Form","Image","Button","connect","translate","t","updateUserDetailsStart","fetchUserDetailsStart","UploadProfilePicture","props","profileInputData","setProfileInputData","image","setImage","picture","cover","profile","loading","dispatch","handleChangeImage","event","currentTarget","type","name","files","reader","FileReader","file","onloadend","result","readAsDataURL","handleSubmit","preventDefault","Object","keys","length","window","location","origin","mapStateToPros","state","users","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Form, Image, Button } from \"react-bootstrap\";\nimport \"./UploadProfilePicture.css\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\n\nimport {\n  updateUserDetailsStart,\n  fetchUserDetailsStart,\n} from \"../../../store/actions/UserAction\";\n\nconst UploadProfilePicture = (props) => {\n  const [profileInputData, setProfileInputData] = useState({});\n\n  const [image, setImage] = useState({\n    picture: \"\",\n    cover: \"\",\n  });\n\n  useEffect(() => {\n    if (props.profile.loading) props.dispatch(fetchUserDetailsStart());\n  }, []);\n\n  const handleChangeImage = (event) => {\n    if (event.currentTarget.type === \"file\") {\n      setProfileInputData({\n        ...profileInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0],\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      if (event.currentTarget.name === \"picture\") {\n        reader.onloadend = () => {\n          setImage({ ...image, picture: reader.result });\n        };\n      }\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0)\n      props.dispatch(updateUserDetailsStart(profileInputData));\n    else props.dispatch(updateUserDetailsStart());\n  };\n\n  return (\n    <>\n      <div className=\"document-upload-sec\">\n        <Container>\n          <h4 className=\"head-title\">{t(\"upload_profile_picture\")}</h4>\n          <div className=\"upload-profile-picture-card\">\n            <Row>\n              <Col md={6}>\n                <div className=\"upload-profile-picture-sec\">\n                  <Form className=\"upload-profile-img-form\">\n                    <Form.Group>\n                      <input type=\"file\" id=\"file\" />\n                      <Form.Control\n                        className=\"hidden-input\"\n                        id=\"changePicture\"\n                        type=\"file\"\n                        accept=\"image/*\"\n                        name=\"picture\"\n                        onChange={handleChangeImage}\n                      />\n                      <Form.Label\n                        for=\"file\"\n                        className=\"hidden-input\"\n                        for=\"changePicture\"\n                        type=\"file\"\n                        title=\"Change picture\"\n                      >\n                        <Image\n                          src={\n                            image.picture === \"\"\n                              ? window.location.origin +\n                                \"/assets/images/upload-profile-img.svg\"\n                              : image.picture\n                          }\n                          className=\"upload-profile-picture-img\"\n                        />\n                        <div className=\"edit-icon-sec\">\n                          <i className=\"fas fa-upload\"></i>\n                        </div>\n                      </Form.Label>\n                    </Form.Group>\n                  </Form>\n                </div>\n              </Col>\n              <Col md={6}>\n                <div className=\"upload-profile-info\">\n                  <h2 className=\"title\">{t(\"profile_photo\")}</h2>\n                  <p className=\"desc\">{t(\"profile_photo_para\")}</p>\n                  <Button\n                    className=\"upload-profile-img-btn btn-block\"\n                    onClick={handleSubmit}\n                  >\n                    {t(\"submit\")}\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  profile: state.users.profile,\n  profileInputData: state.users.profileInputData,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UploadProfilePicture));\n"]},"metadata":{},"sourceType":"module"}