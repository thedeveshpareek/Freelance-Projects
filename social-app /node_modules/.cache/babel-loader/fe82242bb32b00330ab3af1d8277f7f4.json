{"ast":null,"code":"import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import{Button,Container,Row,Col,Table,Badge}from\"react-bootstrap\";import\"../../Wallet/Wallet.css\";import NoDataFound from\"../../NoDataFound/NoDataFound\";import BillingAccountLoader from\"../../Loader/BillingAccountLoader\";import{translate,t}from\"react-multi-lang\";import{Link}from\"react-router-dom\";import{acceptCallStart,callRequestReceivedModelStart,rejectCallStart}from\"../../../store/actions/PrivateCallAction\";var VideoCallRequestReceivedIndex=function VideoCallRequestReceivedIndex(props){useEffect(function(){props.dispatch(callRequestReceivedModelStart());},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-header-sec\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:9},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title back-button\",onClick:function onClick(){return props.history.goBack();}},/*#__PURE__*/React.createElement(\"img\",{src:window.location.origin+\"/assets/images/icons/back.svg\",className:\"svg-clone\"}),t(\"video_call_request_received\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted f-2\"},t(\"video_calls_note\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table-sec\"},/*#__PURE__*/React.createElement(Container,null,props.callRequestReceivedModel.loading?/*#__PURE__*/React.createElement(BillingAccountLoader,null):props.callRequestReceivedModel.data.video_call_requests&&props.callRequestReceivedModel.data.video_call_requests.length>0?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table\"},/*#__PURE__*/React.createElement(Table,{borderedless:true,responsive:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"bg-white text-muted text-center text-uppercase\"},/*#__PURE__*/React.createElement(\"th\",null,t(\"s_no\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"model\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"user\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"scheduled\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"end_time\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"status\")),/*#__PURE__*/React.createElement(\"th\",null,t(\"action\")))),/*#__PURE__*/React.createElement(\"tbody\",null,props.callRequestReceivedModel.data.video_call_requests.map(function(videoCall,index){return/*#__PURE__*/React.createElement(\"tr\",{key:videoCall.video_call_request_id,className:\"text-center\"},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"+videoCall.modelname},videoCall.model_displayname)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/\"+videoCall.username},videoCall.user_displayname)),/*#__PURE__*/React.createElement(\"td\",null,videoCall.start_time?videoCall.start_time:\"-\"),/*#__PURE__*/React.createElement(\"td\",null,videoCall.end_time?videoCall.end_time:\"-\"),/*#__PURE__*/React.createElement(\"td\",null,videoCall.call_status_formatted),/*#__PURE__*/React.createElement(\"td\",null,videoCall.accept_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-sm btn-success mr-3\",onClick:function onClick(){return props.dispatch(acceptCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"accept\")):\"\",videoCall.reject_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-sm btn-danger  mr-3\",onClick:function onClick(){return props.dispatch(rejectCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"reject\")):\"\",videoCall.payment_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-success mr-3\",onClick:function onClick(){return props.dispatch(rejectCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"paynow\")):\"\",videoCall.join_btn_status==1?/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success mr-3\",to:\"/private-call/\".concat(videoCall.video_call_request_unique_id)},t(\"join_call\")):\"\",videoCall.start_btn_status==1?/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success mr-3\",to:\"/private-call/\".concat(videoCall.video_call_request_unique_id)},t(\"start_call\")):\"\",videoCall.end_btn_status==1?/*#__PURE__*/React.createElement(Button,{className:\"btn btn-danger mr-3\",onClick:function onClick(){return props.dispatch(rejectCallStart({video_call_request_id:videoCall.video_call_request_id}));}},t(\"end_call\")):\"\"));})))))):/*#__PURE__*/React.createElement(NoDataFound,null))));};var mapStateToPros=function mapStateToPros(state){return{callRequestReceivedModel:state.privateCall.callRequestReceivedModel};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(VideoCallRequestReceivedIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/OneToOneStreaming/VideoCallRequestList/VideoCallRequestReceivedIndex.jsx"],"names":["React","useEffect","connect","Button","Container","Row","Col","Table","Badge","NoDataFound","BillingAccountLoader","translate","t","Link","acceptCallStart","callRequestReceivedModelStart","rejectCallStart","VideoCallRequestReceivedIndex","props","dispatch","history","goBack","window","location","origin","callRequestReceivedModel","loading","data","video_call_requests","length","map","videoCall","index","video_call_request_id","modelname","model_displayname","username","user_displayname","start_time","end_time","call_status_formatted","accept_btn_status","reject_btn_status","payment_btn_status","join_btn_status","video_call_request_unique_id","start_btn_status","end_btn_status","mapStateToPros","state","privateCall","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Container, Row, Col, Table, Badge } from \"react-bootstrap\";\nimport \"../../Wallet/Wallet.css\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  acceptCallStart,\n  callRequestReceivedModelStart,\n  rejectCallStart,\n} from \"../../../store/actions/PrivateCallAction\";\n\nconst VideoCallRequestReceivedIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(callRequestReceivedModelStart());\n  }, []);\n  return (\n    <>\n      <div className=\"wallet-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12}>\n              <div className=\"wallet-header-sec\">\n                <Row>\n                  <Col sm={12} md={12} xl={9}>\n                    <Link\n                      className=\"bookmarkes-list notify-title back-button\"\n                      onClick={() => props.history.goBack()}\n                    >\n                      <img\n                        src={\n                          window.location.origin +\n                          \"/assets/images/icons/back.svg\"\n                        }\n                        className=\"svg-clone\"\n                      />\n                      {t(\"video_call_request_received\")}\n                    </Link>\n                    <p className=\"text-muted f-2\">{t(\"video_calls_note\")}</p>\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <div className=\"trans-table-sec\">\n        <Container>\n          {props.callRequestReceivedModel.loading ? (\n            <BillingAccountLoader />\n          ) : props.callRequestReceivedModel.data.video_call_requests &&\n            props.callRequestReceivedModel.data.video_call_requests.length >\n              0 ? (\n            <Row>\n              <Col sm={12} md={12}>\n                <div className=\"trans-table\">\n                  <Table borderedless responsive>\n                    <thead>\n                      <tr className=\"bg-white text-muted text-center text-uppercase\">\n                        <th>{t(\"s_no\")}</th>\n                        <th>{t(\"model\")}</th>\n                        <th>{t(\"user\")}</th>\n                        <th>{t(\"scheduled\")}</th>\n                        <th>{t(\"end_time\")}</th>\n                        <th>{t(\"status\")}</th>\n                        <th>{t(\"action\")}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {props.callRequestReceivedModel.data.video_call_requests.map(\n                        (videoCall, index) => (\n                          <tr\n                            key={videoCall.video_call_request_id}\n                            className=\"text-center\"\n                          >\n                            <td>{index + 1}</td>\n                            <td>\n                              <Link to={`/` + videoCall.modelname}>\n                                {videoCall.model_displayname}\n                              </Link>\n                            </td>\n                            <td>\n                              <Link to={`/` + videoCall.username}>\n                                {videoCall.user_displayname}\n                              </Link>\n                            </td>\n                            <td>\n                              {videoCall.start_time\n                                ? videoCall.start_time\n                                : \"-\"}\n                            </td>\n                            <td>\n                              {videoCall.end_time ? videoCall.end_time : \"-\"}\n                            </td>\n                            <td>{videoCall.call_status_formatted}</td>\n                            <td>\n                              {videoCall.accept_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-success mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      acceptCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"accept\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {videoCall.reject_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-sm btn-danger  mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"reject\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                              {videoCall.payment_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-success mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"paynow\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.join_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3\"\n                                  to={`/private-call/${videoCall.video_call_request_unique_id}`}\n                                >\n                                  {t(\"join_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.start_btn_status == 1 ? (\n                                <Link\n                                  className=\"btn btn-success mr-3\"\n                                  to={`/private-call/${videoCall.video_call_request_unique_id}`}\n                                >\n                                  {t(\"start_call\")}\n                                </Link>\n                              ) : (\n                                \"\"\n                              )}\n\n                              {videoCall.end_btn_status == 1 ? (\n                                <Button\n                                  className=\"btn btn-danger mr-3\"\n                                  onClick={() =>\n                                    props.dispatch(\n                                      rejectCallStart({\n                                        video_call_request_id:\n                                          videoCall.video_call_request_id,\n                                      })\n                                    )\n                                  }\n                                >\n                                  {t(\"end_call\")}\n                                </Button>\n                              ) : (\n                                \"\"\n                              )}\n                            </td>\n                          </tr>\n                        )\n                      )}\n                    </tbody>\n                  </Table>\n                </div>\n              </Col>\n            </Row>\n          ) : (\n            <NoDataFound />\n          )}\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  callRequestReceivedModel: state.privateCall.callRequestReceivedModel,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(VideoCallRequestReceivedIndex));\n"]},"metadata":{},"sourceType":"module"}