{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Button,Container,Row,Col,Image}from\"react-bootstrap\";import\"../Wallet/Wallet.css\";import{fetchLiveVideosStart}from\"../../store/actions/LiveVideoAction\";import{Link}from\"react-router-dom\";import NoDataFound from\"../NoDataFound/NoDataFound\";import BillingAccountLoader from\"../Loader/BillingAccountLoader\";import{translate,t}from\"react-multi-lang\";import GoLiveModal from\"../helper/GoLiveModal\";import{fetchUserDetailsStart}from\"../../store/actions/UserAction\";import LiveDataCard from\"./LiveDataCard\";import UserLiveVideoLoader from\"../Loader/UserLiveVideoLoader\";var UserLiveVideosIndex=function UserLiveVideosIndex(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),goLive=_useState2[0],setGoLive=_useState2[1];useEffect(function(){if(props.userDetails.loading)props.dispatch(fetchUserDetailsStart());props.dispatch(fetchLiveVideosStart());},[]);var closeGoLiveModal=function closeGoLiveModal(){setGoLive(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-sec live-video-list-header-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:12,md:12},/*#__PURE__*/React.createElement(\"div\",{className:\"wallet-header-sec\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:2},/*#__PURE__*/React.createElement(Link,{className:\"bookmarkes-list notify-title back-button\",onClick:function onClick(){return props.history.goBack();}},/*#__PURE__*/React.createElement(\"img\",{src:window.location.origin+\"/assets/images/icons/back-white.svg\",className:\"svg-clone\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"ml-2 mb-0\"},t(\"on_live\")))),/*#__PURE__*/React.createElement(Col,{sm:12,md:12,xl:10,className:\"text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"resp-btn-align\"},/*#__PURE__*/React.createElement(Link,{className:\"live-history-btn mr-2\",to:\"/live-videos-history\"},t(\"live_history\")),/*#__PURE__*/React.createElement(Link,{className:\"go-live-btn\",onClick:function onClick(){return setGoLive(true);}},t(\"go_live\")),/*#__PURE__*/React.createElement(Link,{to:\"/audio-calls-history\",className:\"audio-call-btn\"},\"Audio Call\"),/*#__PURE__*/React.createElement(Link,{to:\"/video-calls-history\",className:\"video-call-btn\"},\"Video Call\"))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"trans-table-sec\"},/*#__PURE__*/React.createElement(Container,null,props.liveVideos.loading?/*#__PURE__*/React.createElement(UserLiveVideoLoader,null):props.liveVideos.data.videos.filter(function(liveVideo){return liveVideo.user_id!=localStorage.getItem(\"userId\");}).length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"video-list-sec\"},props.liveVideos.data.videos.filter(function(liveVideo){return localStorage.getItem(\"userId\")!=String(liveVideo.user_id);}).map(function(video){return/*#__PURE__*/React.createElement(LiveDataCard,{video:video,key:video.live_video_id});})):/*#__PURE__*/React.createElement(NoDataFound,null)),props.userDetails.loading?t(\"loading\"):/*#__PURE__*/React.createElement(GoLiveModal,{goLive:goLive,closeGoLiveModal:closeGoLiveModal,username:props.userDetails.data.username,userPicture:props.userDetails.data.picture,name:props.userDetails.data.name,user_id:props.userDetails.data.user_id})));};var mapStateToPros=function mapStateToPros(state){return{liveVideos:state.liveVideo.liveVideos,userDetails:state.users.profile};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(UserLiveVideosIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/LiveVideos/UserLiveVideosIndex.jsx"],"names":["React","useState","useEffect","connect","Button","Container","Row","Col","Image","fetchLiveVideosStart","Link","NoDataFound","BillingAccountLoader","translate","t","GoLiveModal","fetchUserDetailsStart","LiveDataCard","UserLiveVideoLoader","UserLiveVideosIndex","props","goLive","setGoLive","userDetails","loading","dispatch","closeGoLiveModal","history","goBack","window","location","origin","liveVideos","data","videos","filter","liveVideo","user_id","localStorage","getItem","length","String","map","video","live_video_id","username","picture","name","mapStateToPros","state","users","profile","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Container, Row, Col, Image } from \"react-bootstrap\";\nimport \"../Wallet/Wallet.css\";\nimport { fetchLiveVideosStart } from \"../../store/actions/LiveVideoAction\";\nimport { Link } from \"react-router-dom\";\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport BillingAccountLoader from \"../Loader/BillingAccountLoader\";\nimport { translate, t } from \"react-multi-lang\";\nimport GoLiveModal from \"../helper/GoLiveModal\";\nimport { fetchUserDetailsStart } from \"../../store/actions/UserAction\";\nimport LiveDataCard from \"./LiveDataCard\";\nimport UserLiveVideoLoader from \"../Loader/UserLiveVideoLoader\";\n\nconst UserLiveVideosIndex = (props) => {\n  const [goLive, setGoLive] = useState(false);\n\n  useEffect(() => {\n    if (props.userDetails.loading) props.dispatch(fetchUserDetailsStart());\n    props.dispatch(fetchLiveVideosStart());\n  }, []);\n\n  const closeGoLiveModal = () => {\n    setGoLive(false);\n  };\n\n  return (\n    <>\n      <div className=\"wallet-sec live-video-list-header-sec\">\n        <Container>\n          <Row>\n            <Col sm={12} md={12}>\n              <div className=\"wallet-header-sec\">\n                <Row className=\"align-items-center\">\n                  <Col sm={12} md={12} xl={2}>\n                    <Link\n                      className=\"bookmarkes-list notify-title back-button\"\n                      onClick={() => props.history.goBack()}\n                    >\n                      <img\n                        src={\n                          window.location.origin +\n                          \"/assets/images/icons/back-white.svg\"\n                        }\n                        className=\"svg-clone\"\n                      />\n                      <h3 className=\"ml-2 mb-0\">{t(\"on_live\")}</h3>\n                    </Link>\n                  </Col>\n                  <Col sm={12} md={12} xl={10} className=\"text-right\">\n                    <div className=\"resp-btn-align\">\n                      <Link\n                        className=\"live-history-btn mr-2\"\n                        to={\"/live-videos-history\"}\n                      >\n                        {t(\"live_history\")}\n                      </Link>\n\n                      <Link\n                        className=\"go-live-btn\"\n                        onClick={() => setGoLive(true)}\n                      >\n                        {t(\"go_live\")}\n                      </Link>\n                      <Link\n                        to={\"/audio-calls-history\"}\n                        className=\"audio-call-btn\"\n                      >\n                        Audio Call\n                      </Link>\n                      <Link\n                        to={\"/video-calls-history\"}\n                        className=\"video-call-btn\"\n                      >\n                        Video Call\n                      </Link>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <div className=\"trans-table-sec\">\n        <Container>\n          {props.liveVideos.loading ? (\n            <UserLiveVideoLoader />\n          ) : props.liveVideos.data.videos.filter(liveVideo => liveVideo.user_id != localStorage.getItem(\"userId\")).length > 0 ? (\n            <div className=\"video-list-sec\">\n              {props.liveVideos.data.videos.filter(liveVideo => localStorage.getItem(\"userId\") != String(liveVideo.user_id)).map((video) => (\n                <LiveDataCard video={video} key={video.live_video_id} />\n              ))}\n            </div>\n          ) : (\n            <NoDataFound />\n          )}\n        </Container>\n        {props.userDetails.loading ? (\n          t(\"loading\")\n        ) : (\n          <GoLiveModal\n            goLive={goLive}\n            closeGoLiveModal={closeGoLiveModal}\n            username={props.userDetails.data.username}\n            userPicture={props.userDetails.data.picture}\n            name={props.userDetails.data.name}\n            user_id={props.userDetails.data.user_id}\n          />\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  liveVideos: state.liveVideo.liveVideos,\n  userDetails: state.users.profile,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UserLiveVideosIndex));\n"]},"metadata":{},"sourceType":"module"}