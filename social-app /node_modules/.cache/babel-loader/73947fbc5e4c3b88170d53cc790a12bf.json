{"ast":null,"code":"import _slicedToArray from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Container,Row,Col,Image}from\"react-bootstrap\";import AddCardModal from\"../../helper/AddCardModal\";import\"./CardsIndex.css\";import{fetchCardDetailsStart,selectDefaultCardStart,deleteCardStart}from\"../../../store/actions/CardsAction\";import{Link}from\"react-router-dom\";import{loadStripe}from\"@stripe/stripe-js\";import{Elements}from\"@stripe/react-stripe-js\";import PaymentAddCardModal from\"../../helper/PaymentAddCardModal\";import NoDataFound from\"../../NoDataFound/NoDataFound\";import CardListLoader from\"../../Loader/CardListLoader\";import configuration from\"react-global-configuration\";import{translate,t}from\"react-multi-lang\";var CardsIndex=function CardsIndex(props){useEffect(function(){props.dispatch(fetchCardDetailsStart());},[]);var stripePromise=loadStripe(configuration.get(\"configData.stripe_publishable_key\"));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),addCard=_useState2[0],setAddCard=_useState2[1];var closeAddCardModal=function closeAddCardModal(){setAddCard(false);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),paymentAddCard=_useState4[0],setPaymentAddCard=_useState4[1];var closePaymentAddCardModal=function closePaymentAddCardModal(){setPaymentAddCard(false);};var cards=props.cards;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card-list-sec\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"head-title\"},t(\"your_cards\")),/*#__PURE__*/React.createElement(Row,null,cards.loading?/*#__PURE__*/React.createElement(CardListLoader,null):cards.data.cards.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,cards.data.cards.map(function(card){return/*#__PURE__*/React.createElement(Col,{sm:12,md:6,xl:4},/*#__PURE__*/React.createElement(\"div\",{className:\"card-list-box\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-4\"},\"XXXX XXXX XXXX \",card.last_four),/*#__PURE__*/React.createElement(\"h5\",{className:\"text-muted\"},card.card_type),/*#__PURE__*/React.createElement(\"div\",{className:\"payment-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"action-btn\"},card.is_default==1?/*#__PURE__*/React.createElement(\"p\",{className:\"card-link-text text-success\"},t(\"default_card\")):/*#__PURE__*/React.createElement(Link,{className:\"card-link-text text-info\",onClick:function onClick(){return props.dispatch(selectDefaultCardStart({user_card_id:card.id}));}},t(\"mark_as_default\")),/*#__PURE__*/React.createElement(Link,{className:\"card-link-text text-info\",onClick:function onClick(){if(window.confirm(t(\"delete_cards_confirmation\"))){props.dispatch(deleteCardStart({user_card_id:card.id}));};}},/*#__PURE__*/React.createElement(Image,{src:\"assets/images/icons/delete.png\",className:\"svg-clone\"}))),/*#__PURE__*/React.createElement(Image,{src:\"/assets/images/icons/credit-card.svg\",className:\"credit-img\"}))));})):null,/*#__PURE__*/React.createElement(Col,{sm:12,md:6,xl:4},/*#__PURE__*/React.createElement(\"div\",{className:\"card-list-box cursor-pointer-link\",onClick:function onClick(){return setPaymentAddCard(true);}},/*#__PURE__*/React.createElement(\"div\",{className:\"add-account-sec\"},/*#__PURE__*/React.createElement(Image,{src:\"/assets/images/icons/add-card.svg\",className:\"add-card-img\"}),/*#__PURE__*/React.createElement(\"h5\",{className:\"text-muted\"},t(\"add_card\")))))))),/*#__PURE__*/React.createElement(Elements,{stripe:stripePromise},/*#__PURE__*/React.createElement(PaymentAddCardModal,{paymentAddCard:paymentAddCard,closePaymentAddCardModal:closePaymentAddCardModal})));};var mapStateToPros=function mapStateToPros(state){return{cards:state.cards.cardDetails};};function mapDispatchToProps(dispatch){return{dispatch:dispatch};}export default connect(mapStateToPros,mapDispatchToProps)(translate(CardsIndex));","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/components/Accounts/Payments/CardsIndex.jsx"],"names":["React","useState","useEffect","connect","Container","Row","Col","Image","AddCardModal","fetchCardDetailsStart","selectDefaultCardStart","deleteCardStart","Link","loadStripe","Elements","PaymentAddCardModal","NoDataFound","CardListLoader","configuration","translate","t","CardsIndex","props","dispatch","stripePromise","get","addCard","setAddCard","closeAddCardModal","paymentAddCard","setPaymentAddCard","closePaymentAddCardModal","cards","loading","data","length","map","card","last_four","card_type","is_default","user_card_id","id","window","confirm","mapStateToPros","state","cardDetails","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Container, Row, Col, Image } from \"react-bootstrap\";\nimport AddCardModal from \"../../helper/AddCardModal\";\nimport \"./CardsIndex.css\";\nimport {\n  fetchCardDetailsStart,\n  selectDefaultCardStart,\n  deleteCardStart,\n} from \"../../../store/actions/CardsAction\";\nimport { Link } from \"react-router-dom\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport PaymentAddCardModal from \"../../helper/PaymentAddCardModal\";\nimport NoDataFound from \"../../NoDataFound/NoDataFound\";\nimport CardListLoader from \"../../Loader/CardListLoader\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst CardsIndex = (props) => {\n  useEffect(() => {\n    props.dispatch(fetchCardDetailsStart());\n  }, []);\n\n  const stripePromise = loadStripe(\n    configuration.get(\"configData.stripe_publishable_key\")\n  );\n\n  const [addCard, setAddCard] = useState(false);\n\n  const closeAddCardModal = () => {\n    setAddCard(false);\n  };\n\n  const [paymentAddCard, setPaymentAddCard] = useState(false);\n\n  const closePaymentAddCardModal = () => {\n    setPaymentAddCard(false);\n  };\n\n  const { cards } = props;\n\n  return (\n    <>\n      <div className=\"card-list-sec\">\n        <Container>\n          <h3 className=\"head-title\">{t(\"your_cards\")}</h3>\n          {/* <Row>\n            <Col sm={12} md={6} xl={4}>\n              <div\n                className=\"card-list-box cursor-pointer-link\"\n                onClick={() => setPaymentAddCard(true)}\n              >\n                <div className=\"add-account-sec\">\n                  <Image\n                    src=\"/assets/images/icons/add-card.svg\"\n                    className=\"add-card-img\"\n                  />\n                  <h5 className=\"text-muted\">{t(\"add_card\")}</h5>\n                </div>\n              </div>\n            </Col>\n          </Row> */}\n          <Row>\n            {cards.loading ? (\n              <CardListLoader />\n            ) : cards.data.cards.length > 0 ? (\n              <>\n              {cards.data.cards.map((card) => (\n                <Col sm={12} md={6} xl={4}>\n                  <div className=\"card-list-box\">\n                    <h5 className=\"mb-4\">XXXX XXXX XXXX {card.last_four}</h5>\n                    <h5 className=\"text-muted\">{card.card_type}</h5>\n                    <div className=\"payment-bottom\">\n                      <div className=\"action-btn\">\n                        {card.is_default == 1 ? (\n                          <p className=\"card-link-text text-success\">\n                            {t(\"default_card\")}\n                          </p>\n                        ) : (\n                          <Link\n                            className=\"card-link-text text-info\"\n                            onClick={() =>\n                              props.dispatch(\n                                selectDefaultCardStart({\n                                  user_card_id: card.id,\n                                })\n                              )\n                            }\n                          >\n                            {t(\"mark_as_default\")}\n                          </Link>\n                        )}\n                        <Link\n                            className=\"card-link-text text-info\"\n                            onClick={() =>\n                              {if(window.confirm(t(\"delete_cards_confirmation\"))){ \n                                props.dispatch(\n                                  deleteCardStart({\n                                    user_card_id: card.id,\n                                  })\n                                )};}\n                            }\n                          >\n                            <Image src=\"assets/images/icons/delete.png\" className=\"svg-clone\" />\n                          </Link>\n                      </div>\n                      <Image\n                        src=\"/assets/images/icons/credit-card.svg\"\n                        className=\"credit-img\"\n                      />\n                    </div>\n                  </div>\n                </Col>\n              ))}\n              </>\n            ) : null}\n            <Col sm={12} md={6} xl={4}>\n              <div\n                className=\"card-list-box cursor-pointer-link\"\n                onClick={() => setPaymentAddCard(true)}\n              >\n                <div className=\"add-account-sec\">\n                  <Image\n                    src=\"/assets/images/icons/add-card.svg\"\n                    className=\"add-card-img\"\n                  />\n                  <h5 className=\"text-muted\">{t(\"add_card\")}</h5>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n      <Elements stripe={stripePromise}>\n        <PaymentAddCardModal\n          paymentAddCard={paymentAddCard}\n          closePaymentAddCardModal={closePaymentAddCardModal}\n        />\n      </Elements>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  cards: state.cards.cardDetails,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(CardsIndex));\n"]},"metadata":{},"sourceType":"module"}