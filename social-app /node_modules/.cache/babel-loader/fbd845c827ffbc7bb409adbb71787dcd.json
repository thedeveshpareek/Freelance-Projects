{"ast":null,"code":"import _regeneratorRuntime from\"/home/codegama/bhawya/source_code/fx-frontend-base/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(addKycDocumentAPI),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getKycDocumentAPI),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(pageSaga);import{call,select,put,takeLatest,all}from\"redux-saga/effects\";import api from\"../../Environment\";import{ADD_KYC_DOCUMENT_START,GET_KYC_DOCUMENT_START}from\"../actions/ActionConstant\";import{createNotification}from\"react-redux-notify\";import{getSuccessNotificationMessage,getErrorNotificationMessage}from\"../../components/helper/NotificationMessage\";import{addKycDocumentSuccess,addKycDocumentFailure,getKycDocumentSuccess,getKycDocumentFailure}from\"../actions/KycDocumentAction\";import{checkLogoutStatus}from\"../actions/ErrorAction\";function addKycDocumentAPI(){var inputData,response,notificationMessage,_notificationMessage,errorMessage,_notificationMessage2,_notificationMessage3;return _regeneratorRuntime.wrap(function addKycDocumentAPI$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return select(function(state){return state.kycDocument.addKycDocInput.inputData;});case 3:inputData=_context.sent;if(!(inputData.document_id&&inputData.document_file)){_context.next=25;break;}_context.next=7;return api.postMethod(\"documents_save\",inputData);case 7:response=_context.sent;_context.next=10;return put(addKycDocumentSuccess(response.data.data));case 10:if(!response.data.success){_context.next=16;break;}notificationMessage=getSuccessNotificationMessage(response.data.message);_context.next=14;return put(createNotification(notificationMessage));case 14:_context.next=23;break;case 16:_context.next=18;return put(addKycDocumentFailure(response.data.error));case 18:_notificationMessage=getErrorNotificationMessage(response.data.error);_context.next=21;return put(checkLogoutStatus(response.data));case 21:_context.next=23;return put(createNotification(_notificationMessage));case 23:_context.next=31;break;case 25:errorMessage=\"Please upload the file and choose document\";_context.next=28;return put(addKycDocumentFailure(errorMessage));case 28:_notificationMessage2=getErrorNotificationMessage(errorMessage);_context.next=31;return put(createNotification(_notificationMessage2));case 31:_context.next=40;break;case 33:_context.prev=33;_context.t0=_context[\"catch\"](0);_context.next=37;return put(addKycDocumentFailure(_context.t0));case 37:_notificationMessage3=getErrorNotificationMessage(_context.t0.message);_context.next=40;return put(createNotification(_notificationMessage3));case 40:case\"end\":return _context.stop();}}},_marked,null,[[0,33]]);}function getKycDocumentAPI(){var response,notificationMessage,_notificationMessage4;return _regeneratorRuntime.wrap(function getKycDocumentAPI$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.postMethod(\"documents_list\");case 3:response=_context2.sent;_context2.next=6;return put(getKycDocumentSuccess(response.data.data));case 6:if(!response.data.success){_context2.next=9;break;}_context2.next=16;break;case 9:_context2.next=11;return put(getKycDocumentFailure(response.data.error));case 11:notificationMessage=getErrorNotificationMessage(response.data.error);_context2.next=14;return put(checkLogoutStatus(response.data));case 14:_context2.next=16;return put(createNotification(notificationMessage));case 16:_context2.next=25;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](0);_context2.next=22;return put(getKycDocumentFailure(_context2.t0));case 22:_notificationMessage4=getErrorNotificationMessage(_context2.t0.message);_context2.next=25;return put(createNotification(_notificationMessage4));case 25:case\"end\":return _context2.stop();}}},_marked2,null,[[0,18]]);}export default function pageSaga(){return _regeneratorRuntime.wrap(function pageSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=all;_context3.next=3;return takeLatest(ADD_KYC_DOCUMENT_START,addKycDocumentAPI);case 3:_context3.t1=_context3.sent;_context3.t2=[_context3.t1];_context3.next=7;return(0,_context3.t0)(_context3.t2);case 7:_context3.t3=all;_context3.next=10;return takeLatest(GET_KYC_DOCUMENT_START,getKycDocumentAPI);case 10:_context3.t4=_context3.sent;_context3.t5=[_context3.t4];_context3.next=14;return(0,_context3.t3)(_context3.t5);case 14:case\"end\":return _context3.stop();}}},_marked3);}","map":{"version":3,"sources":["/home/codegama/bhawya/source_code/fx-frontend-base/src/store/sagas/KycDocumentSaga.jsx"],"names":["addKycDocumentAPI","getKycDocumentAPI","pageSaga","call","select","put","takeLatest","all","api","ADD_KYC_DOCUMENT_START","GET_KYC_DOCUMENT_START","createNotification","getSuccessNotificationMessage","getErrorNotificationMessage","addKycDocumentSuccess","addKycDocumentFailure","getKycDocumentSuccess","getKycDocumentFailure","checkLogoutStatus","state","kycDocument","addKycDocInput","inputData","document_id","document_file","postMethod","response","data","success","notificationMessage","message","error","errorMessage"],"mappings":"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","sourcesContent":["import { call, select, put, takeLatest, all } from \"redux-saga/effects\";\nimport api from \"../../Environment\";\nimport {\n  ADD_KYC_DOCUMENT_START,\n  GET_KYC_DOCUMENT_START,\n} from \"../actions/ActionConstant\";\nimport { createNotification } from \"react-redux-notify\";\nimport {\n  getSuccessNotificationMessage,\n  getErrorNotificationMessage,\n} from \"../../components/helper/NotificationMessage\";\nimport {\n  addKycDocumentSuccess,\n  addKycDocumentFailure,\n  getKycDocumentSuccess,\n  getKycDocumentFailure,\n} from \"../actions/KycDocumentAction\";\n\nimport {\n  checkLogoutStatus,\n} from \"../actions/ErrorAction\";\n\nfunction* addKycDocumentAPI() {\n  try {\n    const inputData = yield select(\n      (state) => state.kycDocument.addKycDocInput.inputData\n    );\n    if (inputData.document_id && inputData.document_file) {\n      const response = yield api.postMethod(\"documents_save\", inputData);\n      yield put(addKycDocumentSuccess(response.data.data));\n      if (response.data.success) {\n        const notificationMessage = getSuccessNotificationMessage(\n          response.data.message\n        );\n        yield put(createNotification(notificationMessage));\n      } else {\n        yield put(addKycDocumentFailure(response.data.error));\n        const notificationMessage = getErrorNotificationMessage(\n          response.data.error\n        );\n        yield put(checkLogoutStatus(response.data));\n        yield put(createNotification(notificationMessage));\n      }\n    } else {\n      let errorMessage = \"Please upload the file and choose document\";\n      yield put(addKycDocumentFailure(errorMessage));\n      const notificationMessage = getErrorNotificationMessage(errorMessage);\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(addKycDocumentFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nfunction* getKycDocumentAPI() {\n  try {\n    const response = yield api.postMethod(\"documents_list\");\n    yield put(getKycDocumentSuccess(response.data.data));\n    if (response.data.success) {\n    } else {\n      yield put(getKycDocumentFailure(response.data.error));\n      const notificationMessage = getErrorNotificationMessage(\n        response.data.error\n      );\n      yield put(checkLogoutStatus(response.data));\n      yield put(createNotification(notificationMessage));\n    }\n  } catch (error) {\n    yield put(getKycDocumentFailure(error));\n    const notificationMessage = getErrorNotificationMessage(error.message);\n    yield put(createNotification(notificationMessage));\n  }\n}\n\nexport default function* pageSaga() {\n  yield all([yield takeLatest(ADD_KYC_DOCUMENT_START, addKycDocumentAPI)]);\n  yield all([yield takeLatest(GET_KYC_DOCUMENT_START, getKycDocumentAPI)]);\n}\n"]},"metadata":{},"sourceType":"module"}